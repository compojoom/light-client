(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6060fe37"],{"5983d":function(t,e,n){},"9db2":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"open-channel",attrs:{"data-cy":"open-channel"}},[n("channel-open-action",{attrs:{"dialog-title":t.$t("open-channel.title"),"show-progress-in-dialog":""},on:{completed:t.onOpenChannelCompleted},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.runAction,o=e.confirmButtonLabel;return[n("channel-action-form",{attrs:{"token-address":t.tokenAddress,"partner-address":t.partnerAddress,"token-amount":t.depositAmount,"confirm-button-label":o,"run-action":r,"token-amount-editable":"","limit-to-token-balance":"","sticky-button":""}})]}}])})],1)},o=[],i=n("36d8"),c=n.n(i),a=n("6dbe"),s=n("5cf9"),u=n("8222"),p=n("fbcd"),f=n("f455"),l=n("a329");function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e,n,r,o,i,c){try{var a=t[i](c),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){d(i,r,o,c,a,"next",t)}function a(t){d(i,r,o,c,a,"throw",t)}c(void 0)}))}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function k(t){var e=P();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===h(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var A={title:"open-channel.steps.open.title",description:"open-channel.steps.open.description",active:!1,completed:!1,failed:!1},_={title:"open-channel.steps.transfer.title",description:"open-channel.steps.transfer.description",active:!1,completed:!1,failed:!1},R={title:"open-channel.steps.deposit.title",description:"open-channel.steps.deposit.description",active:!1,completed:!1,failed:!1},E=function(t){w(n,t);var e=k(n);function n(){var t;return b(this,n),t=e.apply(this,arguments),t.openStep=Object.assign({},A),t.transferStep=Object.assign({},_),t.depositStep=Object.assign({},R),t.withDeposit=!1,t}return m(n,[{key:"confirmButtonLabel",get:function(){return this.$t("open-channel.open-button")}},{key:"steps",get:function(){return this.withDeposit?[this.openStep,this.transferStep,this.depositStep]:[this.openStep]}},{key:"resetStepsState",value:function(){this.openStep=Object.assign({},A),this.transferStep=Object.assign({},_),this.depositStep=Object.assign({},R)}},{key:"handleOpenEvents",value:function(t){switch(t.type){case f["d"].OPENED:this.openStep.completed=!0,this.openStep.active=!1,this.transferStep.active=!0;break;case f["d"].CONFIRMED:this.transferStep.completed=!0,this.transferStep.active=!1,this.depositStep.active=!0;break;case f["d"].DEPOSITED:this.depositStep.completed=!0,this.depositStep.active=!1;break;default:break}}},{key:"handleAction",value:function(){var t=y(c.a.mark((function t(e){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.withDeposit=e.tokenAmount.gt(p["a"].Zero),this.openStep.active=!0,t.next=4,this.$raiden.openChannel(e.tokenAddress,e.partnerAddress,e.tokenAmount,this.handleOpenEvents);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(Object(s["c"])(l["a"]));E=Object(a["f"])([s["a"]],E);var T,x,C=E,D=C,$=n("a6c2"),B=Object($["a"])(D,T,x,!1,null,null,null),F=B.exports,I=n("152b"),J=n("fc09");function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function N(t,e,n,r,o,i,c){try{var a=t[i](c),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(r,o)}function Q(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){N(i,r,o,c,a,"next",t)}function a(t){N(i,r,o,c,a,"throw",t)}c(void 0)}))}}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e&&H(t.prototype,e),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}function z(t,e){return z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},z(t,e)}function G(t){var e=V();return function(){var n,r=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(t,e){if(e&&("object"===L(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return U(t)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var X=function(t){Z(n,t);var e=G(n);function n(){var t;return q(this,n),t=e.apply(this,arguments),t.tokenAddress="",t.partnerAddress="",t.depositAmount="",t}return M(n,[{key:"created",value:function(){var t=Q(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.parseTokenRouteParameter();case 2:this.parsePartnerRouteParameter(),this.parseDepositQueryParameter();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onOpenChannelCompleted",value:function(){this.navigateToSelectTransferTarget(this.tokenAddress)}},{key:"parseTokenRouteParameter",value:function(){var t=Q(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$route.params.token,e&&J["a"].checkAddressChecksum(e)?this.tokenAddress=e:this.navigateToHome();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"parsePartnerRouteParameter",value:function(){var t=this.$route.params.partner;t&&J["a"].checkAddressChecksum(t)?this.partnerAddress=t:this.navigateToTokenSelect()}},{key:"parseDepositQueryParameter",value:function(){var t=this.$route.query.deposit;t&&(this.depositAmount=t)}}]),n}(Object(s["c"])(I["a"]));X=Object(a["f"])([Object(s["a"])({components:{ChannelActionForm:u["a"],ChannelOpenAction:F}})],X);var Y=X,tt=Y,et=(n("e6f7"),Object($["a"])(tt,r,o,!1,null,"825f8b98",null));e["default"]=et.exports},e6f7:function(t,e,n){"use strict";n("5983d")}}]);