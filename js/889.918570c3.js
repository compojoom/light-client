"use strict";(globalThis["webpackChunkraiden_dapp"]=globalThis["webpackChunkraiden_dapp"]||[]).push([[889],{18891:(t,e,s)=>{s.d(e,{Z:()=>l});var n=s(87134),a=s(67314),r=s(12816),o=s(61099),i=s(64171);const l=(0,o.Z)(n.Z,a.Z).extend({name:"VLazy",directives:{intersect:r.Z},props:{options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},tag:{type:String,default:"div"},transition:{type:String,default:"fade-transition"}},computed:{styles(){return{...this.measurableStyles}}},methods:{genContent(){const t=this.isActive&&(0,i.z9)(this);return this.transition?this.$createElement("transition",{props:{name:this.transition}},t):t},onObserve(t,e,s){this.isActive||(this.isActive=s)}},render(t){return t(this.tag,{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}})},44790:(t,e,s)=>{s.d(e,{Z:()=>f});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{staticClass:"list-header",attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12"}},[s("div",{staticClass:"list-header__header"},[t._v(t._s(t.header))]),s("div",{staticClass:"list-header__divider"})])],1)},a=[],r=s(59312),o=s(57102);let i=class extends o.w3{};(0,r.__decorate)([(0,o.fI)({required:!0})],i.prototype,"header",void 0),i=(0,r.__decorate)([(0,o.wA)({})],i);const l=i,c=l;var d=s(79917),u=s(43453),h=s.n(u),_=s(28508),p=s(53892),m=(0,d.Z)(c,n,a,!1,null,"77a70cf5",null);const f=m.exports;h()(m,{VCol:_.Z,VRow:p.Z})},68785:(t,e,s)=>{s.d(e,{Z:()=>x});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("raiden-dialog",{attrs:{"data-cy":"channel-deposit-dialog",visible:""},on:{close:t.emitClose}},[s("v-card-title",[t._v(t._s(t.$t("channel-deposit.title")))]),s("v-card-text",[s("channel-deposit-action",{attrs:{title:t.$t("channel-deposit.title")},on:{completed:t.emitClose},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.runAction,a=e.confirmButtonLabel;return[s("channel-action-form",{attrs:{"token-address":t.tokenAddress,"partner-address":t.partnerAddress,"confirm-button-label":a,"run-action":n,"hide-token-address":"","hide-partner-address":"","token-amount-editable":"","limit-to-token-balance":""}})]}}])})],1)],1)},a=[],r=s(59312),o=s(57102),i=s(80310),l=s(6395);const c={title:"transfer.steps.deposit.title",description:"transfer.steps.deposit.description",active:!1,completed:!1,failed:!1};let d=class extends((0,o.Wr)(l.Z)){constructor(){super(...arguments),this.depositStep=Object.assign({},c)}get confirmButtonLabel(){return this.$t("channel-deposit.buttons.confirm")}get steps(){return[this.depositStep]}resetStepsState(){this.depositStep=Object.assign({},c)}async handleAction(t){this.depositStep.active=!0,await this.$raiden.deposit(t.tokenAddress,t.partnerAddress,t.tokenAmount),this.depositStep.completed=!0}};d=(0,r.__decorate)([o.wA],d);const u=d,h=u;var _,p,m=s(79917),f=(0,m.Z)(h,_,p,!1,null,null,null);const v=f.exports;var g=s(7674);let k=class extends o.w3{emitClose(){}};(0,r.__decorate)([(0,o.fI)({type:String,required:!0})],k.prototype,"tokenAddress",void 0),(0,r.__decorate)([(0,o.fI)({type:String,required:!0})],k.prototype,"partnerAddress",void 0),(0,r.__decorate)([(0,o.y1)("close")],k.prototype,"emitClose",null),k=(0,r.__decorate)([(0,o.wA)({components:{ChannelActionForm:i.Z,ChannelDepositAction:v,RaidenDialog:g.Z}})],k);const y=k,C=y;var b=s(43453),T=s.n(b),A=s(23399),Z=(0,m.Z)(C,n,a,!1,null,null,null);const x=Z.exports;T()(Z,{VCardText:A.ZB,VCardTitle:A.EB})},23952:(t,e,s)=>{s.d(e,{Z:()=>E});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"token-list d-flex flex-column",attrs:{"data-cy":"token_list"}},[t.header?s("list-header",{staticClass:"flex-grow-0",attrs:{header:t.header}}):t._e(),s("div",{staticClass:"token-list__wrapper flex-grow-1"},[s("v-virtual-scroll",{attrs:{items:t.tokens,"item-height":"105",bench:"400"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[s("token-list-item",{attrs:{token:n},on:{select:t.forwardTokenSelection}})]}}])})],1)],1)},a=[],r=s(59312),o=s(57102),i=s(44790),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{key:t.detailedToken.address,staticClass:"token-list-item",attrs:{"data-cy":"token_list_item"},on:{click:t.emitSelectToken}},[n("v-list-item-avatar",[n("img",{attrs:{src:t.avatarSource,"src-lazy":s(51778),alt:t.$t("token-list.item.blockie-alt")}})]),n("v-list-item-content",{staticClass:"mr-4"},[n("v-list-item-title",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("token-list.item.information-template",{symbol:t.detailedToken.symbol,name:t.detailedToken.name}))+" ")]),n("v-list-item-subtitle",[n("address-display",{staticClass:"token-list-item__address",attrs:{address:t.detailedToken.address}})],1)],1),n("v-list-item-action-text",{staticClass:"mt-n5 mr-5"},[t.detailedToken.balance?n("amount-display",{staticClass:"token-list-item__balance white--text font-weight-bold",attrs:{amount:t.detailedToken.balance,token:t.detailedToken,"exact-amount":""}}):t._e()],1)],1)},c=[],d=s(98835),u=s(19261),h=s(31113);let _=class extends((0,o.Wr)(h.Z)){get detailedToken(){var t;return null!==(t=this.$store.getters.token(this.token.address))&&void 0!==t?t:this.token}get avatarSource(){return this.$blockie(this.token.address)}emitSelectToken(){return this.token}};(0,r.__decorate)([(0,o.fI)({required:!0})],_.prototype,"token",void 0),(0,r.__decorate)([(0,o.y1)("select")],_.prototype,"emitSelectToken",null),_=(0,r.__decorate)([(0,o.wA)({components:{AddressDisplay:d.Z,AmountDisplay:u.Z}})],_);const p=_,m=p;var f=s(79917),v=s(43453),g=s.n(v),k=s(19021),y=s(3950),C=s(48727),b=(0,f.Z)(m,l,c,!1,null,"1a3c11ad",null);const T=b.exports;g()(b,{VListItem:k.Z,VListItemActionText:y.k4,VListItemAvatar:C.Z,VListItemContent:y.km,VListItemSubtitle:y.oZ,VListItemTitle:y.V9});let A=class extends o.w3{forwardTokenSelection(t){return t}async mounted(){await this.$raiden.fetchAndUpdateTokenData()}};(0,r.__decorate)([(0,o.fI)({type:String})],A.prototype,"header",void 0),(0,r.__decorate)([(0,o.fI)({required:!0})],A.prototype,"tokens",void 0),(0,r.__decorate)([(0,o.y1)("select")],A.prototype,"forwardTokenSelection",null),A=(0,r.__decorate)([(0,o.wA)({components:{ListHeader:i.Z,TokenListItem:T}})],A);const Z=A,x=Z;var w=s(87134);function S(t,e,s){const{self:n=!1}=e.modifiers||{},a=e.value,r="object"===typeof a&&a.options||{passive:!0},o="function"===typeof a||"handleEvent"in a?a:a.handler,i=n?t:e.arg?document.querySelector(e.arg):window;i&&(i.addEventListener("scroll",o,r),t._onScroll=Object(t._onScroll),t._onScroll[s.context._uid]={handler:o,options:r,target:n?void 0:i})}function $(t,e,s){var n;if(null==(n=t._onScroll)||!n[s.context._uid])return;const{handler:a,options:r,target:o=t}=t._onScroll[s.context._uid];o.removeEventListener("scroll",a,r),delete t._onScroll[s.context._uid]}const D={inserted:S,unbind:$},I=D;var V=s(64171);const L=w.Z.extend({name:"v-virtual-scroll",directives:{Scroll:I},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},data:()=>({first:0,last:0,scrollTop:0}),computed:{__bench(){return parseInt(this.bench,10)},__itemHeight(){return parseInt(this.itemHeight,10)},firstToRender(){return Math.max(0,this.first-this.__bench)},lastToRender(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted(){this.last=this.getLast(0)},methods:{getChildren(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild(t,e){e+=this.firstToRender;const s=(0,V.kb)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:s},key:e},(0,V.z9)(this,"default",{index:e,item:t}))},getFirst(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast(t){const e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render(t){const e=t("div",{staticClass:"v-virtual-scroll__container",style:{height:(0,V.kb)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[e])}});var B=(0,f.Z)(x,n,a,!1,null,"a2efda84",null);const E=B.exports;g()(B,{VVirtualScroll:L})},55200:(t,e,s)=>{s.r(e),s.d(e,{default:()=>Ft});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"transfer",attrs:{fluid:""}},[s("transfer-headers",{staticClass:"transfer__menus",attrs:{token:t.token,"no-channels":t.noChannels,"total-capacity":t.totalCapacity}}),s("transfer-inputs",{staticClass:"transfer__inputs",attrs:{token:t.token,"transfer-amount":t.transferAmount,"target-address":t.targetAddress,"no-channels":t.noChannels,"max-channel-capacity":t.maxChannelCapacity},on:{"update:token":function(e){t.token=e},"update:transferAmount":function(e){t.transferAmount=e},"update:transfer-amount":function(e){t.transferAmount=e},"update:targetAddress":function(e){t.targetAddress=e},"update:target-address":function(e){t.targetAddress=e}}}),s("transaction-list",{staticClass:"transfer__list",attrs:{token:t.token}}),s("no-channels-dialog",{attrs:{visible:!t.openChannels}})],1)},a=[],r=s(59312),o=s(5733),i=s(57102),l=s(77382),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("raiden-dialog",{staticClass:"no-channels-dialog",attrs:{visible:t.visible,"hide-close":""}},[n("v-card-title",[t._v(t._s(t.$t("transfer.no-channels-dialog.title")))]),n("v-card-text",[n("v-img",{staticClass:"no-channels-dialog__warning",attrs:{src:s(70019),height:"132px",width:"150px"}})],1),n("v-card-actions",[n("action-button",{attrs:{text:t.$t("transfer.no-channels-dialog.button"),enabled:""},on:{click:function(e){return t.navigateToTokenSelect()}}})],1)],1)},d=[],u=s(52291),h=s(7674),_=s(55093);let p=class extends((0,i.Wr)(_.Z)){};(0,r.__decorate)([(0,i.fI)({required:!0})],p.prototype,"visible",void 0),p=(0,r.__decorate)([(0,i.wA)({components:{RaidenDialog:h.Z,ActionButton:u.Z}})],p);const m=p,f=m;var v=s(79917),g=s(43453),k=s.n(g),y=s(23399),C=s(55429),b=(0,v.Z)(f,c,d,!1,null,"37943477",null);const T=b.exports;k()(b,{VCardActions:y.h7,VCardText:y.ZB,VCardTitle:y.EB,VImg:C.Z});var A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"fill-height flex-column justify-center"},[s("v-btn",{staticClass:"no-tokens__add",attrs:{fab:"",color:"primary","data-cy":"no_tokens_add"},on:{click:function(e){return t.navigateToTokenSelect()}}},[s("v-icon",{attrs:{large:""}},[t._v("mdi-plus")])],1),s("span",{staticClass:"pt-4"},[t._v(t._s(t.$t("tokens.connect-new")))])],1)},Z=[];let x=class extends((0,i.Wr)(_.Z)){};x=(0,r.__decorate)([i.wA],x);const w=x,S=w;var $=s(2138),D=s(37553),I=s(97660),V=(0,v.Z)(S,A,Z,!1,null,null,null);const L=V.exports;k()(V,{VBtn:$.Z,VContainer:D.Z,VIcon:I.Z});var B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transaction-history"},[s("v-row",{staticClass:"transaction-history__heading",attrs:{"no-gutters":""}},[t._v(" "+t._s(t.$t("transfer-history.title"))+" ")]),s("v-row",{staticClass:"transaction-history__transactions",attrs:{"no-gutters":""}},[s("v-list",{staticClass:"transaction-history__transactions__list"},t._l(t.orderedTransfers,(function(t,e){return s("div",{key:e,staticClass:"transaction-history__transactions__list__item"},[s("v-lazy",{attrs:{transition:"fade-transition",options:{threshold:.5},"min-height":"74"}},[s("transaction",{attrs:{transfer:t}})],1)],1)})),0)],1)],1)},E=[],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"transaction"},[s("img",{staticClass:"transaction__icon",attrs:{src:t.iconSource}}),s("div",{staticClass:"transaction__details-left"},[s("address-display",{staticClass:"transaction__details-left__address",attrs:{address:"sent"===t.transfer.direction?t.transfer.target:t.transfer.initiator}}),s("span",{staticClass:"transaction__details-left__time-stamp"},[t._v(" "+t._s(t._f("formatDate")(t.transfer.changedAt))+" ")])],1),s("div",{staticClass:"transaction__details-right"},[s("amount-display",{staticClass:"transaction__details-right__amount",attrs:{"exact-amount":"",amount:t.transfer.amount,token:t.tokens[t.transfer.token],sign:t.amountDirectionSign,inline:""}}),s("v-chip",{staticClass:"transaction__details-right__state",attrs:{color:t.transferStateColor+"-chip","text-color":t.transferStateColor,"x-small":""}},[t._v(" "+t._s(t.transferStateText)+" ")])],1)])},q=[],O=s(98835),W=s(19261);let H=class extends i.w3{get iconSource(){return"sent"===this.transfer.direction?s(7421):s(29158)}get amountDirectionSign(){return"sent"===this.transfer.direction?"-":"+"}get transferStateColor(){return void 0===this.transfer.success?"pending":this.transfer.success?"success":"failed"}get transferStateText(){return void 0===this.transfer.success?this.$t("transfer-history.pending-transfer"):this.transfer.success?this.$t("transfer-history.successful-transfer"):this.$t("transfer-history.failed-transfer")}};(0,r.__decorate)([(0,i.fI)({required:!0})],H.prototype,"transfer",void 0),H=(0,r.__decorate)([(0,i.wA)({components:{AddressDisplay:O.Z,AmountDisplay:W.Z},computed:{...(0,l.rn)(["tokens"])}})],H);const N=H,F=N;var P=s(3278),j=(0,v.Z)(F,R,q,!1,null,"7e085f1c",null);const M=j.exports;k()(j,{VChip:P.Z});let z=class extends i.w3{get filteredTransfersForToken(){const t=Object.values(this.transfers);return void 0!==this.token?t.filter((t=>t.token===this.token.address)):t}get orderedTransfers(){return this.filteredTransfersForToken.sort(((t,e)=>e.changedAt.getTime()-t.changedAt.getTime()))}};(0,r.__decorate)([(0,i.fI)()],z.prototype,"token",void 0),z=(0,r.__decorate)([(0,i.wA)({components:{Transaction:M},computed:{...(0,l.rn)(["transfers"])}})],z);const U=z,Q=U;var Y=s(18891),G=s(50948),K=s(53892),J=(0,v.Z)(Q,B,E,!1,null,"5bfa1992",null);const X=J.exports;k()(J,{VLazy:Y.Z,VList:G.Z,VRow:K.Z});var tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{staticClass:"transfer-menus",attrs:{"no-gutters":""}},[s("div",{staticClass:"transfer-menus__token-select",attrs:{"data-cy":"transfer_menus_token_select"}},[s("span",{on:{click:function(e){t.showTokenOverlay=!0}}},[t._v(" "+t._s(t.$t("transfer.transfer-menus.select-token-title"))+" "),s("v-icon",[t._v("mdi-chevron-down")])],1)]),s("div",{staticClass:"transfer-menus__dot-menu"},[s("v-menu",{attrs:{transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({staticClass:"transfer-menus__dot-menu__button",attrs:{icon:"","data-cy":"transfer_menus_dot_menu_button"}},n),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[s("div",{staticClass:"transfer-menus__dot-menu__menu"},[s("v-btn",{staticClass:"transfer-menus__dot-menu__menu__deposit",attrs:{text:"",disabled:t.noChannels,"data-cy":"transfer_menus_dot_menu_menu_deposit"},on:{click:function(e){return t.openDepositDialog()}}},[t._v(" "+t._s(t.$t("transfer.transfer-menus.deposit-button"))+" ")]),s("v-btn",{staticClass:"transfer-menus__dot-menu__menu__channels",attrs:{text:"","data-cy":"transfer_menus_dot_menu_menu_channels"},on:{click:function(e){return t.navigateToChannels(t.token.address)}}},[t._v(" "+t._s(t.$t("transfer.transfer-menus.channel-button"))+" ")])],1)])],1),s("div",{staticClass:"transfer-menus__capacity"},[t.noChannels?[t._v(t._s(t.$t("transfer.transfer-menus.no-channels"))+" ")]:[s("amount-display",{attrs:{"exact-amount":"",amount:t.totalCapacity,token:t.token}})]],2),t.showTokenOverlay?s("token-overlay",{on:{cancel:function(e){t.showTokenOverlay=!1}}}):t._e(),t.showDepositDialog?s("channel-deposit-dialog",{attrs:{"token-address":t.token.address,"partner-address":t.biggestChannelPartner},on:{close:t.closeDepositDialog}}):t._e(),s("error-dialog",{attrs:{error:t.error},on:{dismiss:function(e){t.error=null}}})],1)},et=[],st=s(68785),nt=s(28063),at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-overlay",{staticClass:"token-overlay",attrs:{absolute:"",opacity:"1.0"}},[s("div",{staticClass:"d-flex justify-end"},[s("v-btn",{staticClass:"ma-4 token-overlay__close-button",attrs:{icon:""},on:{click:t.cancel}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-list",{staticClass:"transparent"},[s("v-list-item",{staticClass:"token-overlay__connect-new",attrs:{"data-cy":"token_overlay_connect_new"},on:{click:function(e){return t.navigateToTokenSelect()}}},[s("v-list-item-avatar",[s("v-btn",{attrs:{fab:"",color:"primary"}},[s("v-icon",[t._v("mdi-plus")])],1)],1),s("v-list-item-content",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("tokens.connect-new"))+" ")])],1)],1),s("div",{staticClass:"token-overlay__connected-tokens mt-8"},[s("token-list",{attrs:{header:t.$t("tokens.connected-tokens"),tokens:t.tokens},on:{select:t.handleTokenClick}})],1)],1)},rt=[],ot=s(23952),it=s(31113);let lt=class extends((0,i.Wr)(it.Z,_.Z)){handleTokenClick(t){const{token:e}=this.$route.params;e!==t.address&&this.navigateToSelectTransferTarget(t.address),this.cancel()}cancel(){return!0}};(0,r.__decorate)([(0,i.y1)()],lt.prototype,"cancel",null),lt=(0,r.__decorate)([(0,i.wA)({components:{TokenList:ot.Z},computed:{...(0,l.Se)(["tokens"])}})],lt);const ct=lt,dt=ct;var ut=s(19021),ht=s(48727),_t=s(3950),pt=s(28445),mt=(0,v.Z)(dt,at,rt,!1,null,"c283dae2",null);const ft=mt.exports;k()(mt,{VBtn:$.Z,VIcon:I.Z,VList:G.Z,VListItem:ut.Z,VListItemAvatar:ht.Z,VListItemContent:_t.km,VOverlay:pt.Z});let vt=class extends((0,i.Wr)(_.Z)){constructor(){super(...arguments),this.showTokenOverlay=!1,this.showDepositDialog=!1,this.loading=!1,this.done=!1,this.error=null}get biggestChannelPartner(){return this.channelWithBiggestCapacity(this.token.address).partner}openDepositDialog(){this.showDepositDialog=!0}closeDepositDialog(){this.showDepositDialog=!1}};(0,r.__decorate)([(0,i.fI)({required:!0})],vt.prototype,"token",void 0),(0,r.__decorate)([(0,i.fI)({required:!0})],vt.prototype,"noChannels",void 0),(0,r.__decorate)([(0,i.fI)({required:!0})],vt.prototype,"totalCapacity",void 0),vt=(0,r.__decorate)([(0,i.wA)({components:{AmountDisplay:W.Z,TokenOverlay:ft,ChannelDepositDialog:st.Z,ErrorDialog:nt.Z},computed:{...(0,l.Se)(["channelWithBiggestCapacity"])}})],vt);const gt=vt,kt=gt;var yt=s(64394),Ct=(0,v.Z)(kt,tt,et,!1,null,"1cb691f7",null);const bt=Ct.exports;k()(Ct,{VBtn:$.Z,VIcon:I.Z,VMenu:yt.Z,VRow:K.Z});var Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{staticClass:"transfer-inputs",attrs:{"no-gutters":"","data-cy":"transfer_inputs"}},[s("v-form",{ref:"transferForm",staticClass:"transfer-inputs__form",attrs:{autocomplete:"off",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.navigateToTransferSteps(t.token.address,t.syncedTargetAddress,t.syncedTransferAmount)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",{staticClass:"transfer-inputs__form__heading",attrs:{"no-gutters":""}},[s("span",{staticClass:"transfer-inputs__form__heading--title"},[t._v(" "+t._s(t.$t("transfer.transfer-inputs.title"))+" ")]),s("div",{staticClass:"transfer-inputs__form__heading__errors"},[s("span",[t._v(" "+t._s(t.targetAddressError)+" ")]),s("span",[t._v(" "+t._s(t.transferAmountError)+" ")])])]),s("v-row",{attrs:{"no-gutters":""}},[s("address-input",{staticClass:"transfer-inputs__form__address",attrs:{disabled:t.noChannels,exclude:[t.token.address,t.defaultAccount],"hide-error-label":""},on:{"input-error":function(e){t.targetAddressError=e}},model:{value:t.syncedTargetAddress,callback:function(e){t.syncedTargetAddress=e},expression:"syncedTargetAddress"}})],1),s("v-row",{attrs:{"no-gutters":""}},[s("amount-input",{staticClass:"transfer-inputs__form__amount",attrs:{limit:"","hide-error-label":"",disabled:t.noChannels,token:t.token,max:t.maxChannelCapacity,placeholder:t.$t("transfer.amount-placeholder")},on:{"input-error":function(e){t.transferAmountError=e}},model:{value:t.syncedTransferAmount,callback:function(e){t.syncedTransferAmount=e},expression:"syncedTransferAmount"}}),s("action-button",{staticClass:"transfer-inputs__form__button",attrs:{"data-cy":"transfer_inputs_form_button",enabled:t.valid,text:t.$t("general.buttons.continue"),height:"49px",angular:""}})],1)],1)],1)},At=[],Zt=s(71907),xt=s(11263);let wt=class extends((0,i.Wr)(_.Z)){constructor(){super(...arguments),this.valid=!1,this.targetAddressError="",this.transferAmountError=""}onRouteChange(){var t;null===(t=this.$refs.transferForm)||void 0===t||t.reset()}};(0,r.__decorate)([(0,i.fI)({required:!0})],wt.prototype,"token",void 0),(0,r.__decorate)([(0,i.vZ)("transferAmount",{required:!0})],wt.prototype,"syncedTransferAmount",void 0),(0,r.__decorate)([(0,i.vZ)("targetAddress",{required:!0})],wt.prototype,"syncedTargetAddress",void 0),(0,r.__decorate)([(0,i.fI)({required:!0})],wt.prototype,"noChannels",void 0),(0,r.__decorate)([(0,i.fI)({required:!0})],wt.prototype,"maxChannelCapacity",void 0),(0,r.__decorate)([(0,i.RL)("$route",{deep:!0})],wt.prototype,"onRouteChange",null),wt=(0,r.__decorate)([(0,i.wA)({components:{AddressInput:Zt.Z,AmountInput:xt.Z,ActionButton:u.Z},computed:{...(0,l.rn)(["defaultAccount"]),...(0,l.Se)(["channels"])}})],wt);const St=wt,$t=St;var Dt=s(13082),It=(0,v.Z)($t,Tt,At,!1,null,"ee5923b4",null);const Vt=It.exports;k()(It,{VForm:Dt.Z,VRow:K.Z});var Lt=s(91110),Bt=s(34498),Et=s(14498),Rt=s(28341);const qt=new Date(0).setUTCHours(24);let Ot=class extends i.w3{constructor(){super(...arguments),this.token=null,this.transferAmount="",this.targetAddress=""}get noChannels(){return!this.token||0===this.channels(this.token.address).length}get shouldPushBackupNotification(){const t=(new Date).getTime();return 0===this.stateBackupReminderDateMs||t>this.stateBackupReminderDateMs+qt}get maxChannelCapacity(){if(this.token){var t;const e=this.channelWithBiggestCapacity(this.token.address);return null!==(t=null===e||void 0===e?void 0:e.capacity)&&void 0!==t?t:o._Y}return o._Y}get totalCapacity(){if(this.token){const t=this.channels(this.token.address);return t.map((t=>t.capacity)).reduce(((t,e)=>t.add(e)),o._Y)}return o._Y}created(){this.selectFirstAvailableTokenIfAny()}mounted(){this.handleBackupNotification()}async onTokenRouteParameterChanged(t){t?Rt.Z.checkAddressChecksum(t)&&(this.token=await this.getTokenFromStore(t)):this.selectFirstAvailableTokenIfAny()}async onAmountQueryParameterChanged(t){this.transferAmount=null!==t&&void 0!==t?t:""}async onTargetQueryParameterChanged(t){this.targetAddress=null!==t&&void 0!==t?t:""}async getTokenFromStore(t){return t in this.tokensWithChannels||await this.$raiden.fetchAndUpdateTokenData([t]),this.tokensWithChannels[t]}selectFirstAvailableTokenIfAny(){this.token=Object.values(this.tokensWithChannels)[0]}handleBackupNotification(){this.shouldPushBackupNotification&&this.pushStateBackupNotification()}pushStateBackupNotification(){const t=(new Date).getTime(),e={icon:this.$t("notifications.backup-state.icon"),title:this.$t("notifications.backup-state.title"),link:this.$t("notifications.backup-state.link"),dappRoute:Lt.n.ACCOUNT_BACKUP,description:this.$t("notifications.backup-state.description"),duration:-1,importance:Et.N.HIGH,context:Bt.u.WARNING};this.$store.commit("updateStateBackupReminderDate",t),this.$store.commit("notifications/notificationAddOrReplace",e)}};(0,r.__decorate)([(0,i.RL)("$route.params.token",{immediate:!0})],Ot.prototype,"onTokenRouteParameterChanged",null),(0,r.__decorate)([(0,i.RL)("$route.query.amount",{immediate:!0})],Ot.prototype,"onAmountQueryParameterChanged",null),(0,r.__decorate)([(0,i.RL)("$route.query.target",{immediate:!0})],Ot.prototype,"onTargetQueryParameterChanged",null),Ot=(0,r.__decorate)([(0,i.wA)({components:{NoTokens:L,TransferHeaders:bt,TransferInputs:Vt,TransactionList:X,NoChannelsDialog:T},computed:{...(0,l.rn)(["stateBackupReminderDateMs"]),...(0,l.Se)(["tokensWithChannels","channels","channelWithBiggestCapacity","openChannels"])}})],Ot);const Wt=Ot,Ht=Wt;var Nt=(0,v.Z)(Ht,n,a,!1,null,"52361959",null);const Ft=Nt.exports;k()(Nt,{VContainer:D.Z})},51778:(t,e,s)=>{t.exports=s.p+"img/generic.9a7d0d51.svg"},29158:(t,e,s)=>{t.exports=s.p+"img/received_transfer.d253e4b4.svg"},7421:(t,e,s)=>{t.exports=s.p+"img/sent_transfer.50a323fd.svg"},70019:(t,e,s)=>{t.exports=s.p+"img/warning.21c27d99.svg"}}]);