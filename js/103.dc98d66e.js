"use strict";(globalThis["webpackChunkraiden_dapp"]=globalThis["webpackChunkraiden_dapp"]||[]).push([[103],{8137:(t,a,i)=>{i.d(a,{Z:()=>s});var e=i(33248);const s=e.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let a;return this.$attrs.role&&"separator"!==this.$attrs.role||(a=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":a,...this.$attrs},on:this.$listeners})}})},19261:(t,a,i)=>{i.d(a,{Z:()=>_});var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"amount-display",class:{"amount-display--inline":t.inline,"amount-display--full-width":t.fullWidth},on:{mouseover:function(a){t.exactAmount&&(t.displayExactAmount=!0)},mouseleave:function(a){t.exactAmount&&(t.displayExactAmount=!1)}}},[t.showLabel?i("span",{staticClass:"amount-display__label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t._t("default",(function(){return[i("span",{staticClass:"amount-display__formatted-amount",class:{"amount-display__formatted-amount--warning":t.warning}},[t._v(" "+t._s(t.formattedAmount)+" ")])]}))],2)},s=[],n=i(59312),l=i(3922),r=i(57102),o=i(93840);let d=class extends r.w3{constructor(){super(...arguments),this.displayExactAmount=!1}get showLabel(){return void 0!==this.label}get exactAmountValue(){const t=l.O$.from(this.amount);return o.Z.toUnits(t,this.token.decimals)}get roundedAmountValue(){const t=l.O$.from(this.amount);return o.Z.displayFormat(t,this.token.decimals)}get formattedAmount(){let t=this.sign;return t+=this.displayExactAmount?this.exactAmountValue:this.roundedAmountValue,t+=" "+this.token.symbol,t}};(0,n.__decorate)([(0,r.fI)({required:!1,default:!1,type:Boolean})],d.prototype,"exactAmount",void 0),(0,n.__decorate)([(0,r.fI)({type:String,required:!1})],d.prototype,"label",void 0),(0,n.__decorate)([(0,r.fI)({required:!0})],d.prototype,"amount",void 0),(0,n.__decorate)([(0,r.fI)({type:String,default:""})],d.prototype,"sign",void 0),(0,n.__decorate)([(0,r.fI)({required:!0})],d.prototype,"token",void 0),(0,n.__decorate)([(0,r.fI)({required:!1,default:!1,type:Boolean})],d.prototype,"inline",void 0),(0,n.__decorate)([(0,r.fI)({type:Boolean,default:!1})],d.prototype,"fullWidth",void 0),(0,n.__decorate)([(0,r.fI)({type:Boolean,default:!1})],d.prototype,"warning",void 0),d=(0,n.__decorate)([r.wA],d);const c=d,h=c;var w=i(79917),u=(0,w.Z)(h,e,s,!1,null,"97172a00",null);const _=u.exports},5621:(t,a,i)=>{i.r(a),i.d(a,{default:()=>U});var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("withdrawal")},s=[],n=i(59312),l=i(57102),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"withdrawal"},[e("div",{staticClass:"withdrawal__info-box"},[e("img",{staticClass:"mr-2 mt-1",attrs:{src:i(34061),height:"18px",width:"18px"}}),e("span",[t._v(" "+t._s(t.$t("withdrawal.title"))+" "),e("a",{staticClass:"withdrawal__info-box__link",on:{click:t.navigateToUDC}},[t._v(" "+t._s(t.$t("withdrawal.navigation-link-title"))+" ")])])]),t.loading?e("spinner",{staticClass:"withdrawal__loading"}):0===t.balances.length?e("div",{staticClass:"withdrawal__empty",attrs:{"data-cy":"withdrawal_empty",align:"center",justify:"center"}},[e("v-img",{staticClass:"my-4",attrs:{height:"150px",width:"150px",src:i(13759)}}),e("span",[t._v(t._s(t.$t("withdrawal.no-tokens")))])],1):t._e(),e("v-list",{staticClass:"withdrawal__token-list mt-4",attrs:{"data-cy":"withdrawal_tokens",flat:""}},[t._l(t.balances,(function(a,s){return[e("v-list-item",{key:a.address,staticClass:"withdrawal__token-list__item"},[e("v-list-item-avatar",{staticClass:"withdrawal__token-list__item__icon"},[e("img",{staticClass:"indenticon",attrs:{src:t.$blockie(a.address),alt:t.$t("withdrawal.blockie-alt")}})]),e("v-list-item-content",[e("v-list-item-title",{staticClass:"withdrawal__token-list__item__name"},[t._v(" "+t._s(a.name||"")+" ")]),e("v-list-item-subtitle",{staticClass:"withdrawal__token-list__item__address"},[e("address-display",{attrs:{address:a.address}})],1)],1),e("v-list-item-icon",[e("div",{staticClass:"withdrawal__token-list__item__button",attrs:{"data-cy":"withdrawal_tokens_button"},on:{click:function(i){t.withdraw=a}}},[e("amount-display",{attrs:{amount:a.balance,token:a}}),e("img",{attrs:{src:i(63057)}})],1)])],1),s<t.balances.length-1?e("v-divider",{key:s}):t._e()]}))],2),t.withdraw?e("raiden-dialog",{attrs:{visible:""},on:{close:function(a){t.withdraw=null}}},[e("v-card-title",[e("i18n",{attrs:{path:"withdrawal.dialog.title",tag:"span"}},[e("amount-display",{attrs:{inline:"",amount:t.withdraw.balance,token:t.withdraw}})],1)],1),e("v-card-text",[t.withdrawing?e("div",{staticClass:"mt-4"},[e("spinner"),e("div",{staticClass:"mt-4"},[t._v(t._s(t.$t("withdrawal.dialog.progress")))])],1):e("div",[e("i18n",{attrs:{path:"withdrawal.dialog.body",tag:"span"}},[e("amount-display",{attrs:{inline:"",amount:t.withdraw.balance,token:t.withdraw}})],1),0===parseFloat(t.raidenAccountBalance)?e("div",{staticClass:"error--text mt-2"},[t._v(" "+t._s(t.$t("withdrawal.dialog.no-eth"))+" ")]):t._e()],1)]),t.withdrawing?t._e():e("v-card-actions",[e("action-button",{staticClass:"withdrawal-dialog__action",attrs:{"data-cy":"withdrawal_dialog_action",enabled:parseFloat(t.raidenAccountBalance)>0,text:t.$t("withdrawal.dialog.button"),"full-witdh":""},on:{click:function(a){return t.withdrawTokens()}}})],1)],1):t._e()],1)},o=[],d=i(5733),c=i(31091),h=i.n(c),w=i(77382),u=i(52291),_=i(98835),m=i(19261),p=i(7674),v=i(98071),g=i(31113),f=i(55093);let y=class extends((0,l.Wr)(g.Z,f.Z)){constructor(){super(...arguments),this.balances=[],this.loading=!0,this.withdrawing=!1,this.withdraw=null}async mounted(){await this.$raiden.fetchAndUpdateTokenData();const t=h()(this.allTokens.concat(this.udcToken),(t=>t.address)),a=await Promise.all(t.map((async t=>({...t,balance:await this.$raiden.getTokenBalance(t.address,this.$store.state.defaultAccount)}))));this.balances=a.filter((t=>t.balance.gt(d._Y))),this.loading=!1}async withdrawTokens(){if(this.withdraw&&this.withdraw.balance)try{this.withdrawing=!0;const{address:t,balance:a}=this.withdraw;await this.$raiden.transferOnChainTokens(t,a),this.balances=this.balances.filter((a=>a.address!==t)),this.withdraw=null}catch(t){}finally{this.withdrawing=!1}}};y=(0,n.__decorate)([(0,l.wA)({components:{ActionButton:u.Z,RaidenDialog:p.Z,AddressDisplay:_.Z,AmountDisplay:m.Z,Spinner:v.Z},computed:{...(0,w.rn)(["raidenAccountBalance"]),...(0,w.rn)("userDepositContract",{udcToken:"token"}),...(0,w.Se)(["allTokens"])}})],y);const b=y,k=b;var C=i(79917),x=i(43453),A=i.n(x),Z=i(23399),$=i(8137),V=i(55429),I=i(50948),T=i(19021),B=i(48727),L=i(3950),E=i(56639),D=(0,C.Z)(k,r,o,!1,null,"5bb83a17",null);const q=D.exports;A()(D,{VCardActions:Z.h7,VCardText:Z.ZB,VCardTitle:Z.EB,VDivider:$.Z,VImg:V.Z,VList:I.Z,VListItem:T.Z,VListItemAvatar:B.Z,VListItemContent:L.km,VListItemIcon:E.Z,VListItemSubtitle:L.oZ,VListItemTitle:L.V9});let S=class extends l.w3{};S=(0,n.__decorate)([(0,l.wA)({components:{Withdrawal:q}})],S);const W=S,F=W;var O=(0,C.Z)(F,e,s,!1,null,"697a87f3",null);const U=O.exports},63057:(t,a,i)=>{t.exports=i.p+"img/icon-withdraw.72a53756.svg"},34061:(t,a,i)=>{t.exports=i.p+"img/info-gray.bef437b1.svg"},13759:(t,a,i)=>{t.exports=i.p+"img/info.fae80e9e.svg"}}]);