(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(p.length)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"c44a880f","chunk-451aab9e":"8a3cd3da","chunk-60aceac4":"1f5cd2f4","chunk-69594727":"4fd53b52","chunk-767d4d90":"37276256","chunk-bd351282":"59dd716c","chunk-0516db04":"9f10c41d","chunk-2d0ac3da":"6ede4572","chunk-b99bb93e":"12f1379e","chunk-2d0abce7":"b8664a29","chunk-2f161406":"e2469365","chunk-3314e250":"1afae562","chunk-3eadbefa":"a31afc45","chunk-46e56bfa":"7046b4e9","chunk-2cce55b7":"ddd7f072","chunk-0f5a786a":"4c557862","chunk-6f7377eb":"42a688f2","chunk-548cab13":"1486b632","chunk-9ad0759c":"097c1b02","chunk-43e44688":"2d0c9c5d","chunk-554e465f":"1e280d98","chunk-6060fe37":"e2a45eb0","chunk-95a85f32":"a16ccef4","chunk-5f022d76":"f81ba275","chunk-7f857a46":"5b04df99","chunk-6841e23e":"c0d63d30","chunk-999b6682":"5b09176e","chunk-f6a6c064":"50219e43"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-04c2b6fd":1,"chunk-451aab9e":1,"chunk-60aceac4":1,"chunk-69594727":1,"chunk-767d4d90":1,"chunk-bd351282":1,"chunk-0516db04":1,"chunk-b99bb93e":1,"chunk-3314e250":1,"chunk-46e56bfa":1,"chunk-2cce55b7":1,"chunk-0f5a786a":1,"chunk-6f7377eb":1,"chunk-548cab13":1,"chunk-9ad0759c":1,"chunk-43e44688":1,"chunk-554e465f":1,"chunk-6060fe37":1,"chunk-95a85f32":1,"chunk-5f022d76":1,"chunk-7f857a46":1,"chunk-f6a6c064":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"11b98f42","chunk-451aab9e":"b704e676","chunk-60aceac4":"18a19715","chunk-69594727":"a58e6f2e","chunk-767d4d90":"128e7e36","chunk-bd351282":"5ae82835","chunk-0516db04":"8db2ac1c","chunk-2d0ac3da":"31d6cfe0","chunk-b99bb93e":"919a926a","chunk-2d0abce7":"31d6cfe0","chunk-2f161406":"31d6cfe0","chunk-3314e250":"7ccdb903","chunk-3eadbefa":"31d6cfe0","chunk-46e56bfa":"5886907e","chunk-2cce55b7":"962b1504","chunk-0f5a786a":"817187ad","chunk-6f7377eb":"b20f8643","chunk-548cab13":"47de91d7","chunk-9ad0759c":"f33c779f","chunk-43e44688":"3735ff82","chunk-554e465f":"1f15aa1c","chunk-6060fe37":"1032527e","chunk-95a85f32":"e932103a","chunk-5f022d76":"9cd1b52b","chunk-7f857a46":"2a5a4638","chunk-6841e23e":"31d6cfe0","chunk-999b6682":"31d6cfe0","chunk-f6a6c064":"d31f8588"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){s=p[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var p=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",p.name="ChunkLoadError",p.type=r,p.request=a,n[1](p)}o[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0527":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner",class:{"spinner--blocking":!e.inline}},[n("div",{staticClass:"spinner__circle",style:e.style})])},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"style",get:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderWidth:"".concat(this.width,"px")}}}]),n}(i["g"]);Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"inline",void 0),Object(o["f"])([Object(i["e"])({type:Number,default:120})],v.prototype,"size",void 0),Object(o["f"])([Object(i["e"])({type:Number,default:7})],v.prototype,"width",void 0),v=Object(o["f"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("8a6f"),n("a6c2")),w=Object(g["a"])(j,r,a,!1,null,"61eab46d",null);t["a"]=w.exports},"05eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r}));var r,a=n("2111"),o=n("ca14"),i=a["j"]({TokenNetworkRegistry:null,ServiceRegistry:null,UserDeposit:null,SecretRegistry:null,MonitoringService:null,OneToN:null}),c=a["o"](a["u"]({address:o["a"],block_number:a["m"]})),u=a["o"](a["q"](i,c));(function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"})(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("2111"),a=r["n"]({userId:r["r"]}),o=r["w"]([r["r"],r["m"],r["d"],r["l"]],"CapsPrimitive"),i=r["w"]([o,r["c"](o)],"CapsValue"),c=r["o"](r["q"](r["r"],i),"Caps")},"0731":function(e,t,n){},"0862":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return x}));var r=n("2d67"),a=n("3d6c"),o=n.n(a),i=n("393f"),c=n("996a"),u=n("5e25"),s=n("c49c"),l=n("2b5b"),p=n("d276"),f=n("46f7"),d=n("d890");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return w(e)||g(e,t)||O(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function w(e){if(Array.isArray(e))return e}var _=/^@(0x[0-9a-f]{40})[.:]/i;function k(e){var t;try{var n=_.exec(e);n&&(t=Object(r["a"])(n[1]))}catch(a){}return t}function E(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=m(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function T(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(f["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}var o=t[n];void 0===o?t[n]=r:(Array.isArray(o)||(t[n]=o=[o]),o.push(r))})),t}catch(r){}}}function S(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:l["b"][t]}function A(){var e={};return Object(i["a"])(Object(c["a"])(d["matrixPresence"].success.is),Object(u["a"])((function(e,t){return y(y({},e),{},h({},t.payload.userId,t))}),e),Object(s["a"])(e))}function P(){var e={};return Object(i["a"])(Object(c["a"])(Object(p["e"])([d["matrixPresence"].success,d["matrixPresence"].failure])),Object(u["a"])((function(e,t){return d["matrixPresence"].success.is(t)&&t.payload.available?e=y(y({},e),{},h({},t.meta.address,t)):t.meta.address in e&&(e=o()(e,t.meta.address)),e}),e),Object(s["a"])(e))}function x(e){return!!e&&!S(e.payload.caps,l["a"].DELIVERY)}},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(n,e);var t=d(n);function n(){return l(this,n),t.apply(this,arguments)}return s(n)}(i["g"]);Object(o["f"])([Object(i["e"])({type:Boolean,required:!0})],v.prototype,"show",void 0),Object(o["f"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],v.prototype,"fullscreen",void 0),v=Object(o["f"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("ef8c"),n("a6c2")),w=Object(g["a"])(j,r,a,!1,null,"de732a60",null);t["a"]=w.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["f"]})),n.d(t,"c",(function(){return r["j"]})),n.d(t,"d",(function(){return r["k"]})),n.d(t,"e",(function(){return r["l"]}));var a=n("7de2");n.d(t,"f",(function(){return a["e"]})),n.d(t,"g",(function(){return a["g"]}))},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f05":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("7fcc"),a=n.n(r),o=n("c010"),i=n.n(o),c=n("e832"),u=n("a3d5");function s(e,t){return b(e)||d(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=u["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=i()(e,"."),r=s(n,2),a=r[0],o=r[1];if(o&&o.length>6){var c=o.substring(0,6);return"≈".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return a()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return u["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},c["a"].filter("truncate",v.truncate),c["a"].filter("decimals",v.decimals),c["a"].filter("upper",v.upper),c["a"].filter("displayFormat",v.displayFormat),c["a"].filter("capitalizeFirst",v.capitalizeFirst),c["a"].filter("upperCase",v.upperCase),c["a"].filter("toUnits",v.toUnits),c["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0x889c227B1835550903d870857Fb2CdCf03E5147C","transaction_hash":"0x15970f7b58aa6597cb5a06dc64d870f1a616119e0dad9a7a833b6b7034e1c583","block_number":9217159,"gas_cost":1684374,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca","0x5a3B85ece0056aab6de2AB163Ca34EF38838365b",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x515D4abEA2f352cC16e7907f4189D24f7F2469f0","transaction_hash":"0x719cb865a2a1cfaa8e599883a2c84c347bc161a765ca95dabe8d684b27f3393d","block_number":9217160,"gas_cost":1030612,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca",1.157920892373162e+77]},"MonitoringService":{"address":"0xb8c8107e9Cb52F9140f70A315B4e4B0C0bedcc47","transaction_hash":"0xdd1c87a0e15837eb3be9fcb3e97d145662d09c949e5910c0458ecfd50785ab21","block_number":9217161,"gas_cost":1450960,"constructor_arguments":["0x5D3191D53d35cC66947752CFF084ee23621676Ca","0x889c227B1835550903d870857Fb2CdCf03E5147C","0x515D4abEA2f352cC16e7907f4189D24f7F2469f0","0xdc00a4EDBAfEa58BA966107e315bF318A4d891DE"]},"OneToN":{"address":"0x422f06845DaE540B66926A5672FAEEE3cC0Bac8e","transaction_hash":"0xc7310d4b57a2ac5e9e7a65b4e0c95d9ff1b3a5a826665c8897a93a45cf78e506","block_number":9217162,"gas_cost":962079,"constructor_arguments":["0x515D4abEA2f352cC16e7907f4189D24f7F2469f0",4,"0x889c227B1835550903d870857Fb2CdCf03E5147C"]}}}')},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},"152b":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:o["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case o["a"].SELECT_TOKEN:case o["a"].SELECT_HUB:case o["a"].OPEN_CHANNEL:this.$router.go(-1);break;default:break}}}]),n}(a["g"]);m=Object(r["f"])([a["a"]],m),t["a"]=m},16:function(e,t){},1624:function(e,t,n){},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return b}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),u=n("d011"),s=n("ca14"),l={SENT:"sent",RECEIVED:"received"},p=a["j"](i()(l)),f=a["o"](a["i"]([a["u"]({_id:a["r"],channel:a["r"],direction:p,secrethash:s["c"],expiration:a["m"],transfer:Object(s["k"])(Object(s["j"])(c["b"])),fee:u["b"],partner:s["a"],cleared:a["m"]},"TransferStateBase"),a["n"]({secret:s["h"],secretRegistered:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),transferProcessed:Object(s["k"])(Object(s["j"])(c["f"])),channelClosed:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),channelSettled:Object(s["k"])(a["u"]({txHash:s["c"],txBlock:a["m"]})),secretRequest:Object(s["k"])(Object(s["j"])(c["g"])),secretReveal:Object(s["k"])(Object(s["j"])(c["h"])),unlock:Object(s["k"])(Object(s["j"])(c["i"])),expired:Object(s["k"])(Object(s["j"])(c["a"])),unlockProcessed:Object(s["k"])(Object(s["j"])(c["f"])),expiredProcessed:Object(s["k"])(Object(s["j"])(c["f"]))},"TransferStateOpts")])),d=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}));var b=a["i"]([a["u"]({secret:s["h"],amount:Object(s["l"])(32)}),a["n"]({payment_identifier:Object(s["l"])(8)})])},"1b23":function(e,t,n){"use strict";n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return q})),n.d(t,"e",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"a",(function(){return Z}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("1e78"),c=n("427e"),u=n.n(c),s=n("f068"),l=n("cd9d"),p=n("a669"),f=n("758f"),d=n("f541"),b=n("1319"),y=n("dd89"),h=n("c0bf"),m=n("1981"),v=n("26cb"),O=n("a083"),j=n("5e25a"),g=n("33ca"),w=n("f6ea"),_=n("db91"),k=n("009f"),E=n("2b5b"),T=n("ee6c"),S=n("325b"),A=n("ca14");function P(e){return I(e)||N(e)||C(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){if(Array.isArray(e))return M(e)}function D(e,t){return U(e)||L(e,t)||C(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function U(e){if(Array.isArray(e))return e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,c,"next",e)}function c(e){V(o,r,a,i,c,"throw",e)}i(void 0)}))}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,c=t.fromBlock,u=t.toBlock;return Object(s["a"])((function(){var f=c,d=Math.min(n,u-c+1),g=3;return Object(s["a"])($(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.send("eth_getLogs",[F(F({},t),{},{fromBlock:Object(o["g"])(f),toBlock:Object(o["g"])(Math.min(f+d-1,u))})]));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(b["a"])((function(t){return t.forEach((function(e){null==e.removed&&(e.removed=!1)})),i["a"].arrayOf(e.formatter.filterLog.bind(e.formatter))(t)})),Object(y["a"])({complete:function(){return f+=d},error:function(){d=Math.round(d/2),d<r&&(d=r,g--)}}),Object(h["a"])((function(e){return Object(l["a"])(e)})),Object(m["a"])((function(t){if(g>=0)return Object(p["a"])(e.pollingInterval).pipe(Object(v["a"])());throw t})),Object(O["a"])((function(e){return e.pipe(Object(j["a"])((function(){return f<=u})))})))}))}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromBlock,a=n.confirmations,o=n.blockNumber$,i=n.onPastCompleted;if("string"===typeof t||Array.isArray(t))return Object(f["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var c=a?"number"===typeof a?Object(d["a"])(a):a:Object(d["a"])(E["c"]),u=[0],s=Date.now();return c.pipe(Object(g["a"])(),Object(S["m"])((function(t){if(!r){var n=e._lastBlockNumber,a=e.blockNumber;n=n&&n>t?n:a&&a>t?a:t+1,r=n-t}return u.splice(0,u.length,r),null!==o&&void 0!==o?o:q(e,"block")}),w["a"]),Object(_["a"])(Math.ceil(e.pollingInterval/10)),Object(k["a"])((function(n){var r=D(n,2),a=r[0],o=r[1];return H(e,F(F({},t),{},{fromBlock:u[0],toBlock:o})).pipe(Object(y["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+a>o)){var t=e.blockNumber+1,n=u.findIndex((function(e){return e>t}));n&&(n<0&&(n=u.length),u.splice(0,n,t))}},complete:function(){while(u.length&&u.length>=2*a)u.shift();i&&s&&(s=0,i(Date.now()-s)),u.push(o+1)}}))})))}function K(e){return function(t){var n=e.interface.parseLog(t),r=F(F(F({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(P(n.args),[r])}}function G(e){var t=e.name;switch(e.name){case"homestead":t="mainnet";break;case"arbitrum-rinkeby":t="rinkeby-arbitrum";break;case"unknown":t=e.chainId.toString();break}return t}var Y=u()(function(){var e=$(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getCode(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}());function X(e,t){return Q.apply(this,arguments)}function Q(){return Q=$(a.a.mark((function e(t,n){var r,o,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.address,o=n.provider,e.next=3,Y(r,o);case 3:return i=e.sent,c="63",e.abrupt("return",i.includes(c+t.substring(2)));case 6:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Z(e,t){return Object(s["a"])($(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.interface.getSighash(t),n.t0=T["d"],n.next=4,X(Object(A["n"])(Object(A["d"])(4),r,"signature hash not found"),e);case 4:return n.t1=n.sent,n.t2=["contract does not have method",{contract:e.address,method:t}],(0,n.t0)(n.t1,n.t2),n.abrupt("return",!0);case 8:case"end":return n.stop()}}),n)}))))}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9","transaction_hash":"0xdde099aae92694a4cfb2fc9aa896da202df754053eeb7f0ef684c4e50557a800","block_number":13721665,"gas_cost":1672123,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd",1.66666666666667e+21,5,4,2836573,166666666666667000000,15552000]},"UserDeposit":{"address":"0x5c46Ebb801dD1423D43d2C75651529f8ce715228","transaction_hash":"0x5b4d9c0f6a38afd283927b454cb3b2d0170e3253595a6b07b96f126046cf3f91","block_number":13721667,"gas_cost":1023492,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",1.66666666666667e+23]},"MonitoringService":{"address":"0xC46Ccb305b35796d5aB0741Ee7c1bf8eDf0B941b","transaction_hash":"0xcd7ebd25c5d6af46a833f4df44be3ea855d602af13428bdabb61344c2d0b21a6","block_number":13721668,"gas_cost":1421528,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9","0x5c46Ebb801dD1423D43d2C75651529f8ce715228","0x244076b99Fb84363D4E7d7b4779bFFb7eB4e982D"]},"OneToN":{"address":"0x8A32a0Ab2Cb19aEdc7e0AA362968EdE2C1c4CD7C","transaction_hash":"0xd074a81d54debab1a952ec5e2d5792dd5efa289867f6d31a16241f7138bf4821","block_number":13721669,"gas_cost":952388,"constructor_arguments":["0x5c46Ebb801dD1423D43d2C75651529f8ce715228",1,"0x1F54A809480E5E6349F09aaCaD14ec94C92EecD9"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea"),u=n("77fd");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=g();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var _=function(e){h(n,e);var t=v(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n)}(Object(i["c"])(u["a"]));_=Object(o["f"])([Object(i["a"])({computed:p({},Object(c["e"])(["defaultAccount"]))})],_);var k=_,E=k,T=(n("43fd"),n("a6c2")),S=n("411c"),A=n.n(S),P=n("1331"),x=Object(T["a"])(E,r,a,!1,null,"d302227a",null);t["a"]=x.exports;A()(x,{VImg:P["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"l",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return j}));var r,a=n("b97c"),o=n("6da0"),i=n("24c6");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,s,l=Object(a["h"])([],65),p=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(u||(u={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice",e["IMMUTABLE_METADATA"]="immutableMetadata"}(s||(s={}));var f=(r={},c(r,s.DELIVERY,1),c(r,s.RECEIVE,1),c(r,s.MEDIATE,1),c(r,s.WEBRTC,0),c(r,s.TO_DEVICE,1),c(r,s.IMMUTABLE_METADATA,0),r),d="RAIDEN",b=100,y=5,h=5,m=Object(i["d"])("80"),v=50,O=2e5,j=3},"2fca":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return N}));var r=n("36d8"),a=n.n(r);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function c(e){var t=f();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||!d(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},l(e)}function p(e,t,n){return p=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&b(o,n.prototype),o},p.apply(null,arguments)}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return k(e)||_(e,t)||g(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function k(e){if(Array.isArray(e))return e}function E(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var x=function(){function e(){S(this,e)}return P(e,null,[{key:"contracts",value:function(){var e=T(a.a.mark((function e(){var t,n,r,o,i,c,u,s,l,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=16;break}return e.next=5,Promise.all([fetch(n),fetch(r)]);case 5:return o=e.sent,i=O(o,2),c=i[0],u=i[1],e.next=11,Promise.all([c.json(),u.json()]);case 11:return s=e.sent,l=O(s,2),p=l[0],f=l[1],e.abrupt("return",m(m({},p.contracts),f.contracts));case 16:return e.abrupt("return",void 0);case 19:throw e.prev=19,e.t0=e["catch"](0),new N(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=T(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="config.production.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),N=function(e){i(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return P(n)}(l(Error))},3:function(e,t){},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf","transaction_hash":"0x1643f3d2f3c04099444742974b04279282a2624fc5daae1fdb5b5bdd03b1116b","block_number":9217156,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xdc00a4EDBAfEa58BA966107e315bF318A4d891DE","transaction_hash":"0x76b7557f3d42fceb3eb6b7e3df002420bfec82a59771228014ad57b8b658bfab","block_number":9217157,"gas_cost":4579912,"constructor_arguments":["0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5F00463b9d0325d4C89DEb07614c0642D306E792","constructor_arguments":{"_token_address":"0x08b1749fe175C95d07cb9f474e59af29a77Bc894","_secret_registry":"0x8113f1B51DDe4C3260d094Cacf1c88E585E45ddf","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0x5a3B85ece0056aab6de2AB163Ca34EF38838365b","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"g",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"h",(function(){return Y})),n.d(t,"j",(function(){return Q})),n.d(t,"i",(function(){return Z})),n.d(t,"k",(function(){return J})),n.d(t,"b",(function(){return z})),n.d(t,"e",(function(){return ee})),n.d(t,"l",(function(){return te})),n.d(t,"m",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"f",(function(){return oe}));var r=n("7ff5"),a=n.n(r),o=n("393f"),i=n("a669"),c=n("f068"),u=n("cd9d"),s=n("b2c5"),l=n("56a6"),p=n("f541"),f=n("c8e4"),d=n("7a7d"),b=n("c32d"),y=n("0146"),h=n("d495"),m=n("9c65"),v=n("33ca"),O=n("c0bf"),j=n("5e25"),g=n("996a"),w=n("a083"),_=n("1319"),k=n("5e25a"),E=n("f6ea"),T=n("33b9"),S=n("dd89"),A=n("aaf7"),P=n("73cb"),x=n("4a12"),N=(n("a157"),n("1981")),I=n("b7ab"),D=n("fd2c"),R=n("d276"),C=n("ee6c"),M=n("ca14");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return q(e)||H(e,t)||V(e,t)||W()}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function q(e){if(Array.isArray(e))return e}var K=function(){return Object(o["a"])(m["a"].apply(void 0,arguments),Object(v["a"])())};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return Object(o["a"])(Object(v["a"])(),Object(O["a"])((function(e){return Object.entries(e)})),Object(j["a"])((function(t,n){var r=t.acc,a=F(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:U(U({},r),{},B({},o,i)),changed:[o,i]}}),{acc:{}}),Object(m["a"])("changed"),Object(g["a"])(M["p"]))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return Object(o["a"])(Object(w["a"])((function(e){return e.pipe(Object(_["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(k["a"])((function(e){return e>=0})),Object(E["a"])((function(e){return Object(i["a"])(e)})))})),Object(T["a"])(e))}function X(e){return Symbol.iterator in e}function Q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.log&&(r=U(U({},r),{},{log:r.log.bind(null,"retryWhile")})),function(a){return Object(c["a"])((function(){return t=void 0,n=Object(C["i"])(r),Object(u["a"])(a).pipe(Object(S["a"])((function(){t=void 0,n=Object(C["i"])(r)})),Object(A["a"])((function(r){return r.pipe(Object(O["a"])((function(r){var a;if("number"===typeof e)a=e;else{t||(t=X(e)?e[Symbol.iterator]():e);var o=t.next();a=o.done?-1:o.value}if(a<=0||!n(r))throw r;return Object(i["a"])(a)})))})))}))}}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(c["a"])(e).pipe(Q.apply(void 0,n))}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=new s["a"];return e.pipe(Object(_["a"])((function(e){return t?!e:!!e})),Object(v["a"])(),Object(T["a"])(r),Object(E["a"])((function(e){return e?n.pipe(Object(S["a"])({complete:function(){return r.next(!0)}})):l["a"]})))}}function z(e,t){return Object(o["a"])(Object(T["a"])(e.pipe(ee(a()(void 0===t?Object(p["a"])(0):Object(i["a"])(t))))))}function ee(e){return Object(o["a"])(Object(P["a"])(void 0,null),Object(O["a"])(e))}function te(e){return function(t){return Object(f["a"])(Object(i["a"])(e).pipe(Object(x["a"])(Object(d["a"])((function(){return new Error("timeout waiting first")})))),t)}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O["a"];return Object(o["a"])(t((function(t,n){return Object(u["a"])(e(t,n)).pipe(Object(_["a"])((function(e){return[t,e]})))})))}function re(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.log&&r.length&&(e=U(U({},e),{},{log:(t=e.log).bind.apply(t,[null].concat(r))}));var i=Object(C["i"])(e);return Object(o["a"])(Object(N["a"])((function(e){if(!i(e))throw e;return l["a"]})))}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return function(a){return Object(c["a"])((function(){var o=new s["a"],i=new Map,u=Object(c["a"])((function(){return t((function(t){var c=r(t),u=i.get(c);if(u)return u;var s=new b["a"](1),l=a.pipe(Object(g["a"])(Object(R["g"])(e,t.meta)),Object(_["a"])((function(t){if(e.failure.is(t))throw t.payload;return t})),Object(k["a"])((function(e){return n&&"confirmed"in e.payload&&void 0===e.payload.confirmed}),!0)).subscribe(s);o.next(t);var p=s.pipe(Object(I["a"])((function(){l.unsubscribe(),i.delete(c)})));return i.set(c,p),p}))})).pipe(Object(I["a"])((function(){return o.complete()})));return Object(y["a"])(o,u)}))}}function oe(e,t){return function(n){var r=Object(h["a"])(n.pipe(Object(D["a"])()),e),a=F(r,2),o=a[0],i=a[1];return Object(y["a"])(t(o),i)}}},3501:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f","transaction_hash":"0x498307ba38423c5073a3d15ead73513d7b37deba647dc40991565b6e4bd46e90","block_number":5422501,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x44c886653B536178831CF2Ca0724e0dd3f75FEd6","transaction_hash":"0x332a78b8fc25f695ee5bc2ee3dd90731ce64bb3484717ae4d8e2aca72442ffdb","block_number":5422503,"gas_cost":4579912,"constructor_arguments":["0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x24fAF12ccBE066051F4EA6e2c80E779eA189c292","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0x167581bAaa3D73e5F8AD61D3445103d2Dca49e3f","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0x2645bcF95d1c3fE89dB435be8AaEFb887832803b","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"358d":function(e,t,n){"use strict";n.d(t,"d",(function(){return be})),n.d(t,"e",(function(){return ye})),n.d(t,"g",(function(){return me})),n.d(t,"b",(function(){return ve})),n.d(t,"c",(function(){return Oe})),n.d(t,"f",(function(){return je})),n.d(t,"a",(function(){return we}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("5c24"),c=n("eda8"),u=n("53c1"),s=n("2111"),l=n("7ff5"),p=n.n(l),f=n("427e"),d=n.n(f),b=n("523d"),y=n.n(b),h=n("cea7"),m=n("cd9d"),v=n("f068"),O=n("56a6"),j=n("f541"),g=n("b62a"),w=n("c0bf"),_=n("1981"),k=n("d5a4"),E=n("1319"),T=n("ef4a"),S=n("a157"),A=n("0223"),P=n("33b9"),x=n("73cb"),N=n("625f"),I=n("e1bc"),D=n("dd89"),R=n("7de2"),C=n("d890"),M=n("0862"),L=n("46f7"),U=n("ee6c"),B=n("9a49"),F=n("325b"),W=n("ca14"),V=n("d011"),$=["errors"];function H(e){return G(e)||K(e)||te(e)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function G(e){if(Array.isArray(e))return ne(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(null==e)return{};var n,r,a=J(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function J(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function z(e,t){return ae(e)||re(e,t)||te(e,t)||ee()}function ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function te(e,t){if(e){if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ae(e){if(Array.isArray(e))return e}function oe(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oe(o,r,a,i,c,"next",e)}function c(e){oe(o,r,a,i,c,"throw",e)}i(void 0)}))}}var ce=d()(function(){var e=ie(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["a"])(Object(F["i"])(ie(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callStatic.token());case 1:case"end":return e.stop()}}),e)}))),n,{onErrors:U["h"]})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ue=d()(function(){var e=ie(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.serviceRegistryContract,o=t,!W["a"].is(t)){e.next=6;break}return e.next=5,r.callStatic.urls(t);case 5:o=e.sent;case 6:return e.abrupt("return",le(o));case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()),se=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;function le(e){return Object(U["d"])(e,U["b"].PFS_EMPTY_URL),Object(U["d"])(se.test(e),[U["b"].PFS_INVALID_URL,{url:e}]),e.match(/^https?:\/\//)||(e="https://".concat(e)),e}var pe=new B["a"](32);function fe(e,t){return de.apply(this,arguments)}function de(){return de=ie(a.a.mark((function e(t,n){var r,o,i,c,u,l,p,f,d,b,y,m,v,O,j,g,w,_,k,E,T,S,A;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.log,o=n.serviceRegistryContract,i=n.network,c=n.contractsInfo,u=n.provider,l=n.config$,p=n.latest$,e.next=3,Object(h["a"])(l);case 3:return f=e.sent,d=f.pfsMaxFee,e.next=7,Object(h["a"])(p);case 7:return b=e.sent,y=b.state,m=y.services,v=s["u"]({matrix_server:s["r"],network_info:s["u"]({chain_id:s["k"](i.chainId),token_network_registry_address:s["k"](c.TokenNetworkRegistry.address)},"NetworkInfo"),payment_address:W["a"],price_info:Object(W["l"])(32)},"PfsInfo"),e.prev=11,e.next=14,ue(t,{serviceRegistryContract:o});case 14:return j=e.sent,g=Date.now(),e.next=18,fetch(j+"/api/v1/info",{mode:"cors"});case 18:return w=e.sent,_=Date.now()-g,e.next=22,w.text();case 22:if(k=e.sent,Object(U["d"])(w.ok,[U["b"].PFS_ERROR_RESPONSE,{text:k}]),E=Object(W["n"])(v,Object(L["b"])(k)),T=E.payment_address,S=E.price_info,Object(U["d"])(S.lte(d),[U["b"].PFS_TOO_EXPENSIVE,{price:S}]),pe.set(j,Promise.resolve(T)),null===(O=m[T])||void 0===O){e.next=32;break}e.t0=O,e.next=36;break;case 32:return e.next=34,o.callStatic.service_valid_till(T);case 34:e.t1=e.sent.toNumber(),e.t0=1e3*e.t1;case 36:return A=e.t0,e.t2=T,e.t3=j,e.t4=E.matrix_server,e.t5=_,e.t6=S,e.next=44,ce(o,u.pollingInterval);case 44:return e.t7=e.sent,e.t8=A,e.abrupt("return",{address:e.t2,url:e.t3,matrixServer:e.t4,rtt:e.t5,price:e.t6,token:e.t7,validTill:e.t8});case 49:throw e.prev=49,e.t9=e["catch"](11),r.warn("Error fetching PFS info:",t,e.t9),e.t9;case 53:case"end":return e.stop()}}),e,null,[[11,49]])}))),de.apply(this,arguments)}var be=Object.assign(function(){var e=ie(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=le(t),r=pe.get(t),r||(r=fe(t,n).then((function(e){var t=e.address;return t})),pe.set(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),{cache:pe});function ye(e,t){return Object(m["a"])(e).pipe(Object(w["a"])((function(e){return Object(v["a"])(ie(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fe(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(_["a"])(p()(O["a"])))}),5),Object(k["a"])(),Object(E["a"])((function(t){return Object(U["d"])(t.length||!e.length,U["b"].PFS_INVALID_INFO),y()(t,"url").sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function he(e){var t=Object(c["c"])(Object(o["a"])(Object(i["a"])(e.user_id)),e.displayname),n=Object(u["c"])(t);return C["matrixPresence"].success({userId:e.user_id,available:!0,ts:Date.now(),caps:Object(M["e"])(e.capabilities),pubkey:t},{address:n})}function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.log;if(e)try{var a=he(e);return Object(U["d"])(a.meta.address===t,["Wrong signature",{expected:t,recovered:a.meta.address}]),a}catch(o){null===r||void 0===r||r.warn("Invalid address metadata",{address:t,metadata:e,error:o})}}function ve(e,t,n){return Object(v["a"])(ie(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ue(t,n));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["m"])((function(t){return Object(g["a"])("".concat(t,"/api/v1/address/").concat(e,"/metadata")).pipe(Object(w["a"])(function(){var e=ie(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Object(E["a"])((function(t){var r=z(t,2),a=r[0],o=r[1];try{var i=Object(W["n"])(V["a"],o),c=me(i,e,n);return Object(U["d"])(c,["Invalid metadata signature",{peer:e,presence:i}]),Object(U["d"])(c.payload.caps,["Invalid capabilities format",i.capabilities]),c}catch(p){try{var u=Object(W["n"])(V["i"],o),s=u.errors,l=Z(u,$);p=new U["c"](s,X(X({},l),{},{pfs:a}))}catch(f){}throw p}})))}function Oe(e){return Object(o["b"])([Object(L["a"])(e.one_to_n_address,20),Object(L["a"])(e.chain_id,32),Object(L["a"])(R["a"].IOU,32),Object(L["a"])(e.sender,20),Object(L["a"])(e.receiver,20),Object(L["a"])(e.amount,32),Object(L["a"])(e.expiration_block,32)])}function je(e,t){return ge.apply(this,arguments)}function ge(){return ge=ie(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(Oe(n)).then((function(e){return X(X({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.log,o=t.config$,i=t.latest$,c=t.init$;return o.pipe(Object(T["a"])(),Object(w["a"])((function(r){var o,u=r.pfsMode,s=r.additionalServices;return e?Object(j["a"])(e):(Object(U["d"])(null!==e&&u!==V["j"].disabled,U["b"].PFS_DISABLED),u===V["j"].onlyAdditional?Object(m["a"])(s).pipe(Object(S["a"])((function(e){return Object(v["a"])(ie(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fe(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(_["a"])((function(e){var t;return null!==(t=o)&&void 0!==t||(o=e),O["a"]})))})),Object(A["a"])((function(){return o}))):i.pipe(Object(F["g"])("state","services"),Object(E["a"])((function(e){return[].concat(H(s),H(Object.keys(e)))})),Object(P["a"])(c.pipe(Object(x["a"])(),Object(N["a"])(10))),Object(T["a"])((function(e){return e.length>0})),Object(w["a"])((function(e){return n?Object(m["a"])(e).pipe(Object(w["a"])((function(e){return Object(v["a"])(ie(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fe(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(_["a"])(p()(O["a"])))}))):ye(e,t).pipe(Object(I["a"])())}))))})),Object(A["a"])(p()(new U["c"](U["b"].PFS_INVALID_INFO))),Object(D["a"])((function(e){e.validTill<Date.now()&&r.warn("WARNING: PFS registration not valid! This service deposit may have expired and it may not receive network updates anymore.",e)})))}},"38b1":function(e,t,n){},"3b50":function(e,t,n){},4:function(e,t){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=r["methodFactory"];Object.defineProperty(a.a,"methodFactory",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){e.allowOverwrite&&(o=e)}});var i=n("178d"),c=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=c(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})}))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return T}));var r=n("36d8"),a=n.n(r),o=n("0146"),i=n("f541"),c=n("f068"),u=n("996a"),s=n("f39b"),l=n("26cb"),p=n("8173"),f=n("d276"),d=n("325b"),b=n("1a78"),y=["userId"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,a=j(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var g=a.a.mark(w);function w(){var e,t,n,r,o=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:1e3,t=o.length>1&&void 0!==o[1]?o[1]:6e4,n=o.length>2&&void 0!==o[2]?o[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),g)}function _(e,t,n){return Object(o["a"])(e.pipe(Object(u["a"])(n),Object(s["a"])(1),Object(l["a"])()),Object(i["a"])(t))}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4,a=!0;return Object(c["a"])((function(){if(a)a=!1;else if(e.payload.userId){var n=e.payload,r=(n.userId,O(n,y));e=m(m({},e),{},{payload:r})}return _(t,e,Object(f["g"])(p["messageSend"],e.meta))})).pipe(Object(d["h"])(n,r),Object(d["b"])(t))}function E(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}function T(e,t){return{tokenNetwork:t.tokenNetwork,partner:t.partner.address,direction:e.participant===t.partner.address?b["a"].RECEIVED:b["a"].SENT,expiration:e.expiration.toNumber(),totalWithdraw:e.total_withdraw}}},"43fd":function(e,t,n){"use strict";n("7419")},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("c00b"),a=n("b97c"),o=n("87b8"),i=n("699d"),c=n("e64d"),u=n.n(c),s=n("ee6c"),l=n("ca14");function p(e,t){var n;if("boolean"===typeof e?e=e?o["e"]:o["h"]:"number"===typeof e&&(e=r["a"].from(e)),"string"!==typeof e||Object(a["l"])(e)||(e=Object(i["f"])(e)),Object(a["k"])(e)&&(e=Object(a["i"])(e)),l["b"].is(e)){if(e.lt(0))throw new s["c"](s["b"].DTA_NEGATIVE_NUMBER);if(e.gte(o["f"].pow(8*t)))throw new s["c"](s["b"].DTA_NUMBER_TOO_LARGE);n=Object(a["h"])(Object(a["i"])(e),t)}else{if("string"!==typeof e)throw new s["c"](s["b"].DTA_UNENCODABLE_DATA);if(Object(a["d"])(e)!==t)throw new s["c"](s["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var f=u()({storeAsString:!0}),d=f.parse,b=f.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4b97":function(e,t,n){},"4c29":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x40f978e5931AaBf27DbF18080f45de19d825A89f","transaction_hash":"0x42b85a3a3f80cacb3eab792cbffce8316fa8937ea76b06ed02dd7fb656e8ef39","block_number":5422504,"gas_cost":1684406,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x2645bcF95d1c3fE89dB435be8AaEFb887832803b",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB","transaction_hash":"0x41f1b64abba05236ed57091d8d9cad25c0dfd129b2ddba3a9e7832bc08d9fa55","block_number":5422506,"gas_cost":1030644,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x4e0bc0A608B7de403b1A9054A93AF7196aEB5f87","transaction_hash":"0x427dd220dd0675115693fc1bd26c02ce45b88f6a0ef8be4751faf218dfaedeca","block_number":5422507,"gas_cost":1451004,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x40f978e5931AaBf27DbF18080f45de19d825A89f","0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB","0x44c886653B536178831CF2Ca0724e0dd3f75FEd6"]},"OneToN":{"address":"0x7589B672D60EfC2adDBD3e3Ff5Db8a59Ed41679A","transaction_hash":"0xa2a8f779c2a9fccbc3e148b77ea811f8d54fa2c73eaced3e57d3358b6342fbed","block_number":5422508,"gas_cost":962079,"constructor_arguments":["0xEC139fBAED94c54Db7Bfb49aC4e143A76bC422bB",5,"0x40f978e5931AaBf27DbF18080f45de19d825A89f"]}}}')},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},5:function(e,t){},"50e7":function(e,t,n){"use strict";n.d(t,"b",(function(){return ks})),n.d(t,"a",(function(){return Ss}));var r={};n.r(r),n.d(r,"initEpic",(function(){return le})),n.d(r,"initNewBlockEpic",(function(){return pe})),n.d(r,"blockTimeEpic",(function(){return fe})),n.d(r,"blockStaleEpic",(function(){return de})),n.d(r,"confirmationEpic",(function(){return ye})),n.d(r,"channelCloseEpic",(function(){return Ie})),n.d(r,"channelUpdateEpic",(function(){return De})),n.d(r,"channelDepositEpic",(function(){return Je})),n.d(r,"initTokensRegistryEpic",(function(){return Pt})),n.d(r,"initMonitorProviderEpic",(function(){return xt})),n.d(r,"channelEventsEpic",(function(){return Lt})),n.d(r,"channelMonitoredEpic",(function(){return Ut})),n.d(r,"channelOpenEpic",(function(){return Yt})),n.d(r,"channelSettleableEpic",(function(){return pn})),n.d(r,"channelAutoSettleEpic",(function(){return fn})),n.d(r,"channelSettleEpic",(function(){return hn})),n.d(r,"channelUnlockEpic",(function(){return mn}));var a={};n.r(a),n.d(a,"dbErrorsEpic",(function(){return On}));var o={};n.r(o),n.d(o,"msMonitorRequestEpic",(function(){return Cn})),n.d(o,"msMonitorNewBPEpic",(function(){return Mn})),n.d(o,"pfsRequestEpic",(function(){return Lr})),n.d(o,"pfsCapacityUpdateEpic",(function(){return Ur})),n.d(o,"pfsFeeUpdateEpic",(function(){return Br})),n.d(o,"pfsServiceRegistryMonitorEpic",(function(){return Fr})),n.d(o,"monitorUdcBalanceEpic",(function(){return zr})),n.d(o,"udcDepositEpic",(function(){return ta})),n.d(o,"udcWithdrawPlanRequestEpic",(function(){return na})),n.d(o,"udcAutoWithdrawEpic",(function(){return ra})),n.d(o,"udcWithdrawEpic",(function(){return aa}));var i={};n.r(i),n.d(i,"transferMediateEpic",(function(){return va})),n.d(i,"coopSettleWithdrawReplyEpic",(function(){return Ia})),n.d(i,"coopSettleEpic",(function(){return Da})),n.d(i,"transferAutoExpireEpic",(function(){return Fa})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return Za})),n.d(i,"initQueuePendingReceivedEpic",(function(){return Ja})),n.d(i,"transferRequestResolveEpic",(function(){return za})),n.d(i,"transferClearCompletedEpic",(function(){return to})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return Fo})),n.d(i,"transferProcessedReceivedEpic",(function(){return Go})),n.d(i,"transferProcessedSendEpic",(function(){return Yo})),n.d(i,"transferRetryMessageEpic",(function(){return ti})),n.d(i,"transferSecretRequestedEpic",(function(){return di})),n.d(i,"transferSecretRevealEpic",(function(){return yi})),n.d(i,"transferSecretRevealedEpic",(function(){return hi})),n.d(i,"transferRequestUnlockEpic",(function(){return mi})),n.d(i,"monitorSecretRegistryEpic",(function(){return vi})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return Oi})),n.d(i,"transferAutoRegisterEpic",(function(){return ji})),n.d(i,"transferSecretRegisterEpic",(function(){return gi})),n.d(i,"initWithdrawMessagesEpic",(function(){return Ni})),n.d(i,"withdrawResolveEpic",(function(){return Ii})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return Di})),n.d(i,"withdrawSendTxEpic",(function(){return Ri})),n.d(i,"withdrawMessageProcessedEpic",(function(){return Ci})),n.d(i,"autoWithdrawExpireEpic",(function(){return Li})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return Ui}));var c={};n.r(c),n.d(c,"rtcConnectionManagerEpic",(function(){return Cc})),n.d(c,"initMatrixEpic",(function(){return nu})),n.d(c,"matrixShutdownEpic",(function(){return ru})),n.d(c,"matrixMessageSendEpic",(function(){return Au})),n.d(c,"matrixMessageServiceSendEpic",(function(){return xu})),n.d(c,"matrixMessageReceivedEpic",(function(){return Nu})),n.d(c,"deliveredEpic",(function(){return Iu})),n.d(c,"matrixMonitorPresenceEpic",(function(){return Hu})),n.d(c,"matrixMonitorChannelPresenceEpic",(function(){return qu})),n.d(c,"matrixUpdateCapsEpic",(function(){return Ku})),n.d(c,"matrixLeaveUnknownRoomsEpic",(function(){return ns}));var u=n("36d8"),s=n.n(u),l=n("87b8"),p=n("5832"),f=n("2bde"),d=n.n(f),b=n("fe07"),y=n.n(b),h=n("50b8"),m=n("0146"),v=n("6075"),O=n("cd9d"),j=n("f541"),g=n("a669"),w=n("2ac6"),_=n("1319"),k=n("33ca"),E=n("dd89"),T=n("26cb"),S=n("996a"),A=n("c49c"),P=n("9c65"),x=n("f39b"),N=n("c0bf"),I=n("5e25"),D=n("b7ab"),R=n("b922"),C=n("9f33"),M=n("33b9"),L=n("1981"),U=n("b211"),B=n("1a3a"),F=n("247b"),W=n("ef4a"),V=n("f5be"),$=n("f799"),H=n("5b2c"),q=n("db91"),K=n("009f"),G=n("73cb"),Y=n("f6ea"),X=n("15e7"),Q=n("a157"),Z=n("1b23"),J=n("325b"),z=n("ca14");function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return ue(e)||ce(e,t)||oe(e,t)||ae()}function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ue(e){if(Array.isArray(e))return e}function se(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function le(e,t,n){se(e);var r=n.init$;return t.pipe(Object(W["a"])(),Object(N["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(N["a"])((function(e){return Object(w["a"])(Object(j["a"])(1),e.pipe(Object(T["a"])(),Object(H["a"])(-1)))})),Object(I["a"])((function(e,t){return e+t}),0),Object(q["a"])(10),Object(W["a"])((function(e){return 0===e})),Object(U["a"])(t),Object(_["a"])((function(e){var t=re(e,2),r=t[1].blockNumber;return Object(V["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(J["b"])(t),Object(D["a"])((function(){return r.complete()})))}function pe(e,t,n){se(t);var r=n.provider,a=n.init$;return Object(J["i"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(N["a"])((function(e){return a.pipe(Object(J["e"])((function(){return Object(Z["b"])(r,"block")})),Object(A["a"])(e))})),Object(_["a"])((function(e){return Object($["newBlock"])({blockNumber:e})})),Object(J["b"])(e))}function fe(e,t,n){se(t);var r=n.log,a=n.getBlockTimestamp,o=20,i=5,c=[];return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(S["a"])((function(e){return!c.length||c[c.length-1]+o<=e})),Object(K["a"])((function(e){var t;return t=c.length<i?Math.max(1,e-o*i):c[0],Object(h["a"])([a(e),a(t)]).pipe(Object(S["a"])((function(e){var t=re(e,2),n=t[0],r=t[1];return r<n})),Object(_["a"])((function(n){var r=re(n,2),a=r[0],o=r[1];return c.length>=i&&c.splice(0,1),c.push(e),1e3*(a-o)/(e-t)})),Object(J["a"])({log:r.warn}))})),Object(k["a"])(),Object(_["a"])((function(e){return Object($["blockTime"])({blockTime:e})})))}function de(e,t,n){se(e);var r=n.latest$,a=n.config$,o=n.init$;return t.pipe(Object(C["a"])(o.pipe(Object(G["a"])())),Object(J["g"])("blockNumber"),Object(U["a"])(r,a),Object(_["a"])((function(e){var t=re(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(Y["a"])((function(e){return Object(w["a"])(Object(j["a"])(!1),Object(g["a"])(e).pipe(Object(X["a"])(!0),Object(J["b"])(t)))})),Object(k["a"])(),Object(_["a"])((function(e){return Object($["blockStale"])({stale:e})})))}function be(e,t,n,r){return Object(J["i"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(_["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?te(te({},e),{},{payload:te(te({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?te(te({},e),{},{payload:te(te({},e.payload),{},{confirmed:!1})}):void 0})),Object(S["a"])(z["p"]))}function ye(e,t,n){se(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(h["a"])([t.pipe(Object(J["g"])("blockNumber")),t.pipe(Object(P["a"])("pendingTxs")),r.pipe(Object(J["g"])("confirmationBlocks"),Object(J["b"])(t))]).pipe(Object(S["a"])((function(e){var t=re(e,2),n=t[1];return n.length>0})),Object(K["a"])((function(e){var t=re(e,3),n=t[0],r=t[1],i=t[2];return Object(O["a"])(r).pipe(Object(S["a"])((function(e){return e.payload.txBlock+i<n})),Object(Q["a"])((function(e){return be(e,a,n,i).pipe(Object(M["a"])(o.pipe(Object(S["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}var he=n("b97c"),me=n("f068"),ve=n("56a6"),Oe=n("5bbb"),je=n("7de2"),ge=n("d276"),we=n("46f7"),_e=n("ee6c"),ke=n("b8ff"),Ee=n("8120");function Te(e,t){return Ne(e)||xe(e,t)||Ae(e,t)||Se()}function Se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){if(e){if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ne(e){if(Array.isArray(e))return e}function Ie(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.network,c=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(S["a"])(Object(ge["e"])($["channelClose"].request)),Object(U["a"])(t),Object(N["a"])((function(t){var s=Te(t,2),l=s[0],p=s[1],f=l.meta,d=f.tokenNetwork,b=f.partner,y=p.channels[Object(Ee["b"])(l.meta)];if((null===y||void 0===y?void 0:y.state)!==ke["b"].open&&(null===y||void 0===y?void 0:y.state)!==ke["b"].closing){var h=new _e["c"](_e["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,l.meta);return Object(j["a"])($["channelClose"].failure(h,l.meta))}var m=y.partner.balanceProof,v=Object(je["b"])(m),g=m.nonce,w=m.additionalHash,_=m.signature,k=Object(he["b"])([Object(we["a"])(d,20),Object(we["a"])(i.chainId,32),Object(we["a"])(je["a"].BALANCE_PROOF,32),Object(we["a"])(y.id,32),Object(we["a"])(v,32),Object(we["a"])(g,32),Object(we["a"])(w,32),Object(we["a"])(_,65)]);return Object(O["a"])(a.signMessage(k)).pipe(Object(N["a"])((function(t){return Object(Ee["f"])(c(d),"closeChannel",[y.id,b,o,v,g,w,_,t],n,{error:_e["b"].CNL_CLOSECHANNEL_FAILED}).pipe(Object(J["j"])(Object(Oe["b"])(u),{onErrors:_e["e"],log:r.info}),Object(M["a"])(e.pipe(Object(S["a"])($["channelClose"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===d&&e.meta.partner===b})))))})),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])($["channelClose"].failure(e,l.meta))})))})))}function De(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.network,c=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(S["a"])(Object(ge["e"])($["channelClose"].success)),Object(S["a"])((function(e){return!!e.payload.confirmed})),Object(B["a"])((function(){return e.pipe(Object(S["a"])($["newBlock"].is))})),Object(U["a"])(t),Object(S["a"])((function(e){var t=Te(e,2),n=t[0],r=t[1],a=r.channels[Object(Ee["b"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===ke["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(l["h"])&&a.closeParticipant!==o})),Object(N["a"])((function(e){var t=Te(e,2),s=t[0],l=t[1],p=s.meta,f=p.tokenNetwork,d=p.partner,b=l.channels[Object(Ee["b"])(s.meta)],y=Object(je["b"])(b.partner.balanceProof),h=b.partner.balanceProof.nonce,m=b.partner.balanceProof.additionalHash,v=b.partner.balanceProof.signature,O=Object(he["b"])([Object(we["a"])(f,20),Object(we["a"])(i.chainId,32),Object(we["a"])(je["a"].BALANCE_PROOF_UPDATE,32),Object(we["a"])(b.id,32),Object(we["a"])(y,32),Object(we["a"])(h,32),Object(we["a"])(m,32),Object(we["a"])(v,65)]);return Object(me["a"])((function(){return a.signMessage(O)})).pipe(Object(N["a"])((function(e){return Object(Ee["f"])(c(f),"updateNonClosingBalanceProof",[b.id,d,o,y,h,m,v,e],n,{error:_e["b"].CNL_UPDATE_NONCLOSING_BP_FAILED})})),Object(E["a"])({next:function(e){return r.info("Updated channel",{channel:b,v:e})},error:function(e){return r.info("Error updating channel",{channel:b,error:e})}}),Object(J["j"])(Object(Oe["b"])(u),{onErrors:_e["e"],log:r.info}),Object(T["a"])(),Object(L["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),ve["a"]})))})))}var Re=n("5a9d"),Ce=n.n(Re),Me=n("c32d"),Le=n("1169"),Ue=n("4a12"),Be=n("c1c6"),Fe=n("ed34"),We=n("170a");function Ve(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function $e(e,t){return Ye(e)||Ge(e,t)||qe(e,t)||He()}function He(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qe(e,t){if(e){if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ye(e){if(Array.isArray(e))return e}function Xe(e,t,n){var r=e.meta,a=n.latest$;return a.pipe(Object(P["a"])("state","channels",Object(Ee["b"])(r)),Object(S["a"])(z["p"]),Object(Le["a"])(t.pipe(Object(S["a"])($["channelOpen"].failure.is),Object(S["a"])((function(e){return y()(e.meta,r)})),Object(_["a"])((function(){throw new _e["c"](_e["b"].CNL_NO_OPEN_CHANNEL_FOUND,r)})))))}function Qe(e,t){var n,r,a=e.payload;if(t)if("totalDeposit"in a){var o=[a.totalDeposit.sub(t.own.deposit),a.totalDeposit];n=o[0],r=o[1]}else{var i=[a.deposit,t.own.deposit.add(a.deposit)];n=i[0],r=i[1]}else{var c="totalDeposit"in a?[a.totalDeposit,a.totalDeposit]:[a.deposit,a.deposit],u=$e(c,2);n=u[0],r=u[1]}return Object(_e["d"])(n.gt(0),_e["b"].DTA_INVALID_DEPOSIT),[n,r]}function Ze(e,t,n,r){var a=$e(n,2),o=a[0],i=a[1],c=r.address,u=r.log,s=r.getTokenContract,l=r.getTokenNetworkContract,p=r.config$,f=r.latest$,d=e.meta,b=d.tokenNetwork,y=d.partner;return f.pipe(Object(W["a"])(),Object(N["a"])((function(e){var t=e.state,n=Ce()(t.tokens,(function(e){return e===b}));return Object(Ee["d"])(s(n),b,o,r)})),Object(Ue["a"])(t),Object(N["a"])((function(e){return Object(Ee["f"])(l(b),"setTotalDeposit",[e,c,i,y],r,{error:_e["b"].CNL_SETTOTALDEPOSIT_FAILED})})),Object(J["j"])(Object(Oe["b"])(p),{onErrors:_e["e"],log:u.info}))}function Je(e,t,n){return Ve(t),e.pipe(Object(S["a"])($["channelDeposit"].request.is),Object(U["a"])(n.config$),Object(Be["a"])((function(e){var t=$e(e,2),n=t[0].meta,r=t[1].minimumAllowance;return r.eq(l["b"])?Object(Ee["b"])(n):n.tokenNetwork})),Object(N["a"])((function(t){return t.pipe(Object(P["a"])(0),Object(Q["a"])((function(t){return n.latest$.pipe(Object(W["a"])(),Object(N["a"])((function(r){var a=r.state,o=a.channels[Object(Ee["b"])(t.meta)];Object(_e["d"])(!o&&t.payload.waitOpen||(null===o||void 0===o?void 0:o.state)===ke["b"].open,[_e["b"].CNL_NO_OPEN_CHANNEL_FOUND,{state:null===o||void 0===o?void 0:o.state,id:null===o||void 0===o?void 0:o.id}]);var i=Xe(t,e,n),c=Qe(t,o),u=$e(c,2),s=u[0],l=u[1];return i.pipe(Object(Fe["a"])((function(r){return Ze(t,r.pipe(Object(P["a"])("id"),Object(x["a"])(1)),[s,l],n).pipe(Object(We["a"])(e.pipe(Object(S["a"])(Object(ge["f"])($["channelDeposit"],t.meta)),Object(W["a"])((function(e){return!$["channelDeposit"].success.is(e)||e.payload.totalDeposit.gte(l)})))),Object(M["a"])(r.pipe(Object(S["a"])((function(e){return e.own.deposit.gte(l)})))))}),{connector:function(){return new Me["a"](1)}}),Object(T["a"])())})),Object(L["a"])((function(e){return Object(j["a"])($["channelDeposit"].failure(e,t.meta))})))})))})),Object(J["b"])(e))}var ze=n("f9e5"),et=n("c62b"),tt=n("30c0"),nt=n("605b"),rt=n.n(nt),at=n("02ce"),ot=n.n(at),it=n("277b"),ct=n("d5a4"),ut=n("12d1"),st=n("2b5b"),lt=n("de7d");function pt(e){return bt(e)||dt(e)||_t(e)||ft()}function ft(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bt(e){if(Array.isArray(e))return kt(e)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vt(o,r,a,i,c,"next",e)}function c(e){vt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function jt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function gt(e,t){return Tt(e)||Et(e,t)||_t(e,t)||wt()}function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _t(e,t){if(e){if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Tt(e){if(Array.isArray(e))return e}var St=lt["g"].createInterface();function At(e){var t=e.address,n=e.provider,r=e.registryContract,a=e.contractsInfo,o=ze["b"].encode(["address"],[t]);return Object(Z["c"])(n,Object.assign(r.filters.TokenNetworkCreated(null,null),{fromBlock:a.TokenNetworkRegistry.block_number,toBlock:n.blockNumber})).pipe(Object(_["a"])(Object(Z["e"])(r)),Object(S["a"])((function(e){var t=gt(e,2),n=t[1];return!!n})),Object(ct["a"])(),Object(N["a"])((function(e){var t=Object(O["a"])(e.splice(0,2).map((function(e){var t=gt(e,3),n=t[0],r=t[1],a=t[2];return Object($["tokenMonitored"])({token:n,tokenNetwork:r,fromBlock:a.blockNumber})}))),r=ve["a"];if(e.length){var a=e[0][2].blockNumber,i=new Map(e.map((function(e){var t=gt(e,3),n=t[0],r=t[1],a=t[2];return[r,[n,a]]}))),c=Array.from(i.keys());r=Object(m["a"])(Object(Z["c"])(n,{address:c,topics:[It.openTopic,null,o],fromBlock:a,toBlock:n.blockNumber}),Object(Z["c"])(n,{address:c,topics:[It.openTopic,null,null,o],fromBlock:a,toBlock:n.blockNumber})).pipe(Object(ut["a"])((function(e){return e.address})),Object(S["a"])((function(e){return i.has(e.address)})),Object(_["a"])((function(e){return Object($["tokenMonitored"])({token:i.get(e.address)[0],tokenNetwork:e.address,fromBlock:e.blockNumber})})))}return Object(m["a"])(t,r)})))}function Pt(e,t,n){return e.pipe(Object(S["a"])($["newBlock"].is),Object(x["a"])(1),Object(U["a"])(t),Object(N["a"])((function(e){var t,r=gt(e,2),a=r[1],o=new it["a"];return n.init$.next(o),t=rt()(a.tokens)?At(n):Object(O["a"])(Object.entries(a.tokens).map((function(e){var t=gt(e,2),n=t[0],r=t[1];return Object($["tokenMonitored"])({token:n,tokenNetwork:r})}))),t.pipe(Object(D["a"])((function(){return o.complete()})))})))}function xt(e,t,n){var r;jt(t);var a,o=n.address,i=n.main,c=n.network,u=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(g["a"])(0,u.pollingInterval).pipe(Object(J["b"])(e),Object(K["a"])(Ot(s.a.mark((function e(){var t,n,r,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):u.listAccounts(),u.getNetwork()]);case 3:if(t=e.sent,n=gt(t,2),r=n[0],o=n[1],Object(_e["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(V["e"])({reason:st["k"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),!_e["a"].is(e.t0)||!e.t0.message.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(V["e"])({reason:st["k"].NETWORK_CHANGED}));case 17:if(!Object(_e["g"])(_e["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(S["a"])(z["p"]))}var Nt=et["c"].fromString("ChannelSettled(uint256 indexed,uint256,bytes32,uint256,bytes32)"),It={openTopic:St.getEventTopic("ChannelOpened"),depositTopic:St.getEventTopic("ChannelNewDeposit"),withdrawTopic:St.getEventTopic("ChannelWithdraw"),closedTopic:St.getEventTopic("ChannelClosed"),settledTopic:St.getEventTopic("ChannelSettled"),oldSettledTopic:St.getEventTopic(Nt)};function Dt(e){if(e.topics[0]===It.oldSettledTopic){var t=St.decodeEventLog(Nt,e.data,e.topics);e=ht(ht({},e),St.encodeEventLog(St.getEvent("ChannelSettled"),[t[0],tt["a"],t[1],t[2],tt["a"],t[3],t[4]]))}return e}function Rt(e,t){var n=gt(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=It.openTopic,u=It.depositTopic,s=It.withdrawTopic,l=It.closedTopic,p=It.settledTopic;return function(e){return e.pipe(Object(U["a"])(i),Object(_["a"])((function(e){var t,n,i=gt(e,2),f=i[0],d=i[1],b=d.state,y=d.config,h=f[0].toNumber(),m=Object.values(b.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(z["q"])(f),O=null===(t=v.topics)||void 0===t?void 0:t[0],j=v.transactionHash,g=v.blockNumber,w=g+y.confirmationBlocks<=b.blockNumber||void 0;switch(O){case c:var _=gt(f,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||h>m.id)){var S=o==k?E:k;n=$["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:S})}break;case u:var A=gt(f,3),P=A[1],x=A[2];(null===m||void 0===m?void 0:m.id)===h&&x.gt(m[P===m.partner.address?"partner":"own"].deposit)&&(n=$["channelDeposit"].success({id:h,participant:P,totalDeposit:x,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case s:var N=gt(f,3),I=N[1],D=N[2];(null===m||void 0===m?void 0:m.id)===h&&D.gt(m[I===m.partner.address?"partner":"own"].withdraw)&&(n=Object($["channelWithdrawn"])({id:h,participant:I,totalWithdraw:D,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case l:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var R=gt(f,2),C=R[1];n=$["channelClose"].success({id:h,participant:C,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case p:(null===m||void 0===m?void 0:m.id)===h&&(n=$["channelSettle"].success({id:h,txHash:j,txBlock:g,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(S["a"])(z["p"]))}}function Ct(e,t,n){var r=gt(e,2),a=r[0],o=r[1],i=gt(t,2),c=i[0],u=i[1],s=n.address,l=n.provider,p=n.latest$,f=n.getTokenNetworkContract,d=f(u);return Object(m["a"])(Object(Z["c"])(l,Object.assign(d.filters.ChannelOpened(null,s,null,null),{fromBlock:a,toBlock:o})),Object(Z["c"])(l,Object.assign(d.filters.ChannelOpened(null,null,s,null),{fromBlock:a,toBlock:o}))).pipe(Object(_["a"])(Object(Z["e"])(d)),Object(ct["a"])(),Object(U["a"])(p),Object(N["a"])((function(e){var t=gt(e,2),n=t[0],r=t[1].state,i=n.filter((function(e){var t=gt(e,3),n=t[0],a=t[1],o=t[2],i=s===a?o:a,c=n.toNumber(),l=Object(Ee["b"])({tokenNetwork:u,partner:i}),p=r.channels[l];return!(Object(Ee["c"])({id:c,tokenNetwork:u,partner:i})in r.oldChannels||p&&c<p.id)})),c=[].concat(pt(i),pt(Object.values(r.channels).filter((function(e){return e.tokenNetwork===u})).map((function(e){return[e.id]})))).map((function(e){var t=gt(e,1),n=t[0];return ze["b"].encode(["uint256"],[n])}));if(0===c.length)return ve["a"];var p={address:u,topics:[Object.values(It).filter((function(e){return e!==It.openTopic})),c]};return Object(Z["c"])(l,Object.assign(p,{fromBlock:a,toBlock:o})).pipe(Object(_["a"])(Dt),Object(_["a"])(Object(Z["e"])(d)),Object(ct["a"])(),Object(N["a"])((function(e){var t=[].concat(pt(i),pt(e));return Object(O["a"])(ot()(t,[function(e){return Object(z["q"])(e).blockNumber},function(e){return Object(z["q"])(e).transactionIndex}]))})))})),Rt([c,u],n))}function Mt(e,t,n){var r=gt(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$,l=c(o),p=s.pipe(Object(J["g"])("state","blockNumber")),f={address:o,topics:[Object.values(It)]};return Object(Z["b"])(i,f,{fromBlock:e,blockNumber$:p,confirmations:u.pipe(Object(P["a"])("confirmationBlocks"))}).pipe(Object(_["a"])(Dt),Object(_["a"])(Object(Z["e"])(l)),Rt([a,o],n))}function Lt(e,t,n){jt(t);var r=n.provider._lastBlockNumber;return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(Fe["a"])((function(t){return e.pipe(Object(S["a"])($["tokenMonitored"].is),Object(ut["a"])((function(e){return e.payload.tokenNetwork})),Object(U["a"])(n.config$),Object(N["a"])((function(e){var a,o=gt(e,2),i=o[0],c=o[1].confirmationBlocks,u=i.payload,s=u.token,l=u.tokenNetwork,p=null!==(a=i.payload.fromBlock)&&void 0!==a?a:r-c,f=new it["a"];return n.init$.next(f),t.pipe(Object(W["a"])(),Object(N["a"])((function(e){return Object(m["a"])(Ct([p,e],[s,l],n).pipe(Object(D["a"])((function(){f.next(!0),f.complete()}))),Mt(e+1,[s,l],n).pipe(Object(B["a"])((function(){return f}))))})))})))}),{connector:function(){return new Me["a"](1)}}),Object(J["b"])(e))}function Ut(e,t){return jt(e),t.pipe(Object(Ee["e"])(),Object(N["a"])((function(e){return e.pipe(Object(W["a"])(),Object(_["a"])((function(e){return Object($["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}var Bt=n("7ff5"),Ft=n.n(Bt);function Wt(e,t){return Kt(e)||qt(e,t)||$t(e,t)||Vt()}function Vt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(e,t){if(e){if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Kt(e){if(Array.isArray(e))return e}function Gt(e,t,n){var r=n.address,a=n.getTokenNetworkContract,o=n.log,i=n.config$,c=a(t.meta.tokenNetwork);return Object(Z["a"])(c,"openChannelWithDeposit").pipe(Object(L["a"])(Ft()(Object(j["a"])(!1))),Object(U["a"])(i),Object(N["a"])((function(a){var u,s,l,p=Wt(a,2),f=p[0],d=p[1].settleTimeout,b=null!==(u=t.payload.settleTimeout)&&void 0!==u?u:d;return l=null!==(s=t.payload.deposit)&&void 0!==s&&s.gt(0)&&f?Object(Ee["f"])(c,"openChannelWithDeposit",[r,t.meta.partner,b,t.payload.deposit],n,{subkey:null,error:_e["b"].CNL_OPENCHANNEL_FAILED}):Object(Ee["f"])(c,"openChannel",[r,t.meta.partner,b],n,{subkey:null,error:_e["b"].CNL_OPENCHANNEL_FAILED}),l.pipe(Object(J["j"])(Object(Oe["b"])(i),{onErrors:_e["e"],log:o.info}),Object(M["a"])(e.pipe(Object(S["a"])($["channelOpen"].success.is),Object(S["a"])((function(e){return y()(e.meta,t.meta)})))),Object(We["a"])(e.pipe(Object(W["a"])(Object(ge["f"])($["channelOpen"],t.meta)))),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])($["channelOpen"].failure(e,t.meta))})))})))}function Yt(e,t,n){return e.pipe(Object(S["a"])($["channelOpen"].request.is),Object(U["a"])(n.config$),Object(Be["a"])((function(e){var t=Wt(e,2),n=t[0].meta,r=t[1].minimumAllowance;return r.eq(l["b"])?Object(Ee["b"])(n):n.tokenNetwork})),Object(N["a"])((function(r){return r.pipe(Object(P["a"])(0),Object(U["a"])(t),Object(N["a"])((function(t){var r,a,o=Wt(t,2),i=o[0],c=o[1],u=null===(r=c.channels[Object(Ee["b"])(i.meta)])||void 0===r?void 0:r.state;if(u)return Object(j["a"])($["channelOpen"].failure(new _e["c"](_e["b"].CNL_INVALID_STATE,{state:u}),i.meta));var s=ve["a"];return null!==(a=i.payload.deposit)&&void 0!==a&&a.gt(0)&&(s=Object(j["a"])($["channelDeposit"].request({totalDeposit:i.payload.deposit,waitOpen:!0},i.meta))),Object(m["a"])(s,Gt(e,i,n))})))})))}var Xt=n("81ce"),Qt=n("438d"),Zt=n("1a78"),Jt=n("59ec"),zt=n("0862");function en(e){return rn(e)||nn(e)||cn(e)||tn()}function tn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rn(e){if(Array.isArray(e))return un(e)}function an(e,t){return ln(e)||sn(e,t)||cn(e,t)||on()}function on(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cn(e,t){if(e){if("string"===typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ln(e){if(Array.isArray(e))return e}function pn(e,t){return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=an(t,2),r=n[0],a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===ke["b"].closed&&r>=c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object($["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function fn(e,t,n){var r=n.address,a=n.config$;return t.pipe(Object(Xt["a"])("blockNumber"),Object(U["a"])(a,e.pipe(Object(zt["c"])())),Object(N["a"])(s.a.mark((function e(t){var n,a,o,i,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=an(t,3),a=n[0],o=a.blockNumber,i=a.channels,c=n[1],u=c.confirmationBlocks,l=c.revealTimeout,p=n[2],f=0,d=Object.values(i);case 2:if(!(f<d.length)){e.next=16;break}if(b=d[f],b.state===ke["b"].settleable){e.next=6;break}return e.abrupt("continue",13);case 6:if(y=Object(zt["f"])(p[b.partner.address]),h=void 0,h=y&&b.closeParticipant===r?u:l,!(o<b.closeBlock+b.settleTimeout+h)){e.next=11;break}return e.abrupt("continue",13);case 11:return e.next=13,$["channelSettle"].request(void 0,{tokenNetwork:b.tokenNetwork,partner:b.partner.address});case 13:f++,e.next=2;break;case 16:case"end":return e.stop()}}),e)}))),Object(K["a"])((function(t){return Object(Qt["a"])(e,t,Object(ge["g"])($["channelSettle"],t.meta))})),Object(J["k"])(a.pipe(Object(P["a"])("autoSettle"),Object(J["b"])(t))))}function dn(e,t,n){var r=an(e,2),a=r[0],o=r[1],i=n.address,c=n.db,u=n.config$,s=n.log,l=n.getTokenNetworkContract,p=o.meta,f=p.tokenNetwork,d=p.partner,b=l(f);return Object(me["a"])((function(){return Promise.all([b.callStatic.getChannelParticipantInfo(t.id,i,d),b.callStatic.getChannelParticipantInfo(t.id,d,i)])})).pipe(Object(J["j"])(Object(Oe["b"])(u),{onErrors:_e["h"]}),Object(N["a"])((function(e){var r,o,l=an(e,2),p=l[0][3],y=l[1][3];return r=p===Object(je["b"])(t.own.balanceProof)?Object(j["a"])(t.own.balanceProof):Object(Jt["c"])(c,t,Zt["a"].SENT,p).pipe(Object(L["a"])((function(){throw new _e["c"](_e["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:i,ownBalanceHash:p})}))),o=y===Object(je["b"])(t.partner.balanceProof)?Object(j["a"])(t.partner.balanceProof):Object(Jt["c"])(c,t,Zt["a"].RECEIVED,y).pipe(Object(L["a"])((function(){throw new _e["c"](_e["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:i,partnerBalanceHash:y})}))),Object(h["a"])([r,o]).pipe(Object(_["a"])((function(e){var t=an(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[d,r],[i,n]]:[[i,n],[d,r]]})),Object(N["a"])((function(e){var r=an(e,2),a=r[0],o=r[1];return Object(Ee["f"])(b,"settleChannel",[t.id,a[0],a[1].transferredAmount,a[1].lockedAmount,a[1].locksroot,o[0],o[1].transferredAmount,o[1].lockedAmount,o[1].locksroot],n,{error:_e["b"].CNL_SETTLE_FAILED})})),Object(J["j"])(Object(Oe["b"])(u),{maxRetries:3,onErrors:_e["e"],log:s.info}),Object(M["a"])(a.pipe(Object(S["a"])($["channelSettle"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===f&&e.meta.partner===d})))))})),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])($["channelSettle"].failure(e,o.meta))})))}function bn(e){var t=an(e,2),n=t[0],r=t[1];return{participant:n.participant,total_withdraw:n.total_withdraw,expiration_block:n.expiration,participant_signature:n.signature,partner_signature:r.signature}}function yn(e,t,n){var r=an(e,2),a=r[0],o=r[1],i=n.config$,c=n.log,u=n.getTokenNetworkContract,s=o.meta,l=s.tokenNetwork,p=s.partner,f=an(o.payload.coopSettle,2),d=f[0],b=f[1];return Object(Ee["f"])(u(l),"cooperativeSettle",[t.id,bn(d),bn(b)],n,{error:_e["b"].CNL_COOP_SETTLE_FAILED}).pipe(Object(J["j"])(Object(Oe["b"])(i),{maxRetries:3,onErrors:_e["e"],log:c.info}),Object(M["a"])(a.pipe(Object(S["a"])($["channelSettle"].success.is),Object(S["a"])((function(e){return e.meta.tokenNetwork===l&&e.meta.partner===p})))),Object(T["a"])(),Object(L["a"])((function(e){return Object(j["a"])($["channelSettle"].failure(e,o.meta))})))}function hn(e,t,n){return e.pipe(Object(S["a"])($["channelSettle"].request.is),Object(U["a"])(t),Object(N["a"])((function(t){var r,a=an(t,2),o=a[0],i=a[1],c=i.channels[Object(Ee["b"])(o.meta)];return(null===c||void 0===c?void 0:c.state)===ke["b"].settleable||(null===c||void 0===c?void 0:c.state)===ke["b"].settling?dn([e,o],c,n):null===(r=o.payload)||void 0===r||!r.coopSettle||(null===c||void 0===c?void 0:c.state)!==ke["b"].open&&(null===c||void 0===c?void 0:c.state)!==ke["b"].closing?Object(j["a"])($["channelSettle"].failure(new _e["c"](_e["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,o.meta),o.meta)):yn([e,o],c,n)})))}function mn(e,t,n){var r=n.log,a=n.address,o=n.getTokenNetworkContract,i=n.config$;return e.pipe(Object(S["a"])(Object(ge["e"])($["channelSettle"].success)),Object(S["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(U["a"])(t),Object(S["a"])((function(e){var t,n=an(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Ee["b"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(N["a"])((function(e){var t=an(e,1),c=t[0],u=c.meta,s=u.tokenNetwork,l=u.partner,p=Object(he["b"])(c.payload.locks.reduce((function(e,t){return[].concat(en(e),[Object(we["a"])(t.expiration,32),Object(we["a"])(t.amount,32),t.secrethash])}),[]));return Object(Ee["f"])(o(s),"unlock",[c.payload.id,a,l,p],n,{error:_e["b"].CNL_ONCHAIN_UNLOCK_FAILED}).pipe(Object(J["j"])(Object(Oe["b"])(i),{maxRetries:3,onErrors:_e["e"],log:r.info}),Object(T["a"])(),Object(L["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),ve["a"]})))})))}function vn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function On(e,t,n){vn(t);var r=n.db;return r.busy$.pipe(Object(T["a"])(),Object(J["b"])(e))}var jn=n("eed9"),gn=n("c00b"),wn=n("f82a"),_n=n("789d"),kn=n("8173"),En=n("5778"),Tn=n("d011");function Sn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function An(e,t){return Dn(e)||In(e,t)||xn(e,t)||Pn()}function Pn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xn(e,t){if(e){if("string"===typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Dn(e){if(Array.isArray(e))return e}function Rn(e,t,n){var r=n.address,a=n.log,o=n.network,i=n.signer,c=n.contractsInfo,u=n.latest$,s=n.config$,p=Object(Ee["a"])(t),f=p.partnerUnlocked;return f.isZero()?ve["a"]:Object(h["a"])([u,s]).pipe(Object(S["a"])((function(e){var n,r=An(e,2),a=r[0].udcDeposit,o=r[1],i=o.monitoringReward,c=o.rateToSvt;return!(null===i||void 0===i||!i.gt(l["h"]))&&a.balance.gte(i)&&f.mul(null!==(n=c[t.token])&&void 0!==n?n:l["b"]).div(l["g"]).gt(i)})),Object(x["a"])(1),Object(J["b"])(e,10),Object(N["a"])((function(e){var n=An(e,2),u=n[1].monitoringReward,s=t.partner.balanceProof,l=Object(je["b"])(s),p=Object(he["b"])([Object(we["a"])(t.tokenNetwork,20),Object(we["a"])(o.chainId,32),Object(we["a"])(je["a"].BALANCE_PROOF_UPDATE,32),Object(we["a"])(t.id,32),Object(we["a"])(l,32),Object(we["a"])(s.nonce,32),Object(we["a"])(s.additionalHash,32),Object(we["a"])(s.signature,65)]),f=Object(Jt["g"])().toString();return Object(O["a"])(i.signMessage(p)).pipe(Object(N["a"])((function(e){return Object(je["g"])(i,{type:En["d"].MONITOR_REQUEST,balance_proof:{chain_id:s.chainId,token_network_address:s.tokenNetworkAddress,channel_identifier:gn["a"].from(t.id),nonce:s.nonce,balance_hash:l,additional_hash:s.additionalHash,signature:s.signature},non_closing_participant:r,non_closing_signature:e,monitoring_service_contract_address:c.MonitoringService.address,reward_amount:u},{log:a})})),Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},{service:Tn["n"].MS,msgId:f})})))})),Object(J["a"])({log:a.warn},"Error trying to generate & sign MonitorRequest"))}function Cn(e,t,n){return Sn(e),t.pipe(Object(Ee["e"])(),Object(U["a"])(n.config$),Object(N["a"])((function(e){var r=An(e,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(k["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(wn["a"])(),Object(_n["a"])((function(e){var t=An(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(g["a"])(o):Object(j["a"])(1)})),Object(Y["a"])((function(e){var r=An(e,2),a=r[1];return Rn(t,a,n)})))})))}function Mn(e,t,n){var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$,c=n.init$,u=new it["a"];return c.next(u),Object(Z["b"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),{confirmations:i.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber")),onPastCompleted:function(){u.next(null),u.complete()}}).pipe(Object(J["b"])(t),Object(_["a"])(Object(Z["e"])(a)),Object(S["a"])((function(e){var t=An(e,6),n=t[5];return n===o})),Object(U["a"])(t,i),Object(_["a"])((function(e){var t=An(e,3),n=An(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=n[6],s=t[1],l=t[2].confirmationBlocks,p=Object.values(s.channels).concat(Object.values(s.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),f=u.blockNumber;if(p&&f)return Object(jn["msBalanceProofSent"])({tokenNetwork:r,partner:p.partner.address,id:p.id,reward:o,nonce:i,monitoringService:c,txHash:u.transactionHash,txBlock:f,confirmed:f+l<=s.blockNumber||void 0})})),Object(S["a"])(z["p"]))}var Ln=n("a033"),Un=n.n(Ln),Bn=n("d890"),Fn=n("699d"),Wn=n("8379"),Vn=n("79b8"),$n=n("3d6c"),Hn=n.n($n),qn=n("7a7d"),Kn=n("b62a"),Gn=n("aece"),Yn=n("358d");function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Jn(o,r,a,i,c,"next",e)}function c(e){Jn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function er(e){return rr(e)||nr(e)||ir(e)||tr()}function tr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rr(e){if(Array.isArray(e))return cr(e)}function ar(e,t){return sr(e)||ur(e,t)||ir(e,t)||or()}function or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ir(e,t){if(e){if("string"===typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function sr(e){if(Array.isArray(e))return e}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.toISOString().substring(0,23)+"000"}function pr(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.network,c=n.contractsInfo,u=n.latest$,p=n.config$;return Object(me["a"])((function(){var t=lr(),n=Object(he["b"])([r,e.address,Object(Fn["f"])(t)]);return Object(O["a"])(o.signMessage(n)).pipe(Object(_["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(U["a"])(p),Object(N["a"])((function(n){var r=ar(n,2),a=r[0],o=r[1].httpTimeout;return Object(Kn["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(Gn["a"])(o),Object(J["j"])(Object(Oe["b"])(p),{onErrors:[].concat(er(_e["h"]),["TimeoutError"])}))})),Object(U["a"])(u.pipe(Object(P["a"])("state","blockNumber")),p),Object(N["a"])(function(){var t=zn(s.a.mark((function t(n){var o,u,p,f,d,b,y,h,m;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=ar(n,3),u=o[0],p=o[1],f=o[2].pfsIouTimeout,404!==u.status){t.next=5;break}return d={sender:r,receiver:e.address,chain_id:gn["a"].from(i.chainId),amount:l["h"],one_to_n_address:c.OneToN.address,expiration_block:gn["a"].from(p).add(f)},a.warn("PFS: new IOU created",d),t.abrupt("return",d);case 5:return t.next=7,u.text();case 7:return b=t.sent,Object(_e["d"])(u.ok,[_e["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:u.status,responseText:b}]),y=Object(z["n"])(Tn["e"],Object(we["b"])(b)),h=y.last_iou,m=Object(Wn["b"])(Object(Yn["c"])(h),h.signature),Object(_e["d"])(m===r,[_e["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:m,address:r,lastIou:h}]),a.warn("PFS: fetched non-cached signed IOU from server",h),t.abrupt("return",h);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function fr(e,t,n){return e.price.isZero()?Object(j["a"])(void 0):n.latest$.pipe(Object(W["a"])(),Object(N["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(j["a"])(i):pr(e,t,n)})),Object(_["a"])((function(t){return Qn(Qn({},t),{},{amount:t.amount.add(e.price)})})),Object(N["a"])((function(e){return Object(Yn["f"])(n.signer,e)})))}function dr(e,t){var n=e.partner.address;if(e.state!==ke["b"].open)return'path: channel with "'.concat(n,'" in state "').concat(e.state,'" instead of "').concat(ke["b"].open,'"');var r=Object(Ee["a"])(e),a=r.ownCapacity;return!a.lt(t)||'path: channel with "'.concat(n,"\" doesn't have enough capacity=").concat(a.toString())}function br(e,t,n,r){return e?!1===(null===t||void 0===t?void 0:t.payload.available)?"path: partner not available in transport":n||Object(zt["b"])(null===t||void 0===t?void 0:t.payload.caps,st["a"].MEDIATE)?dr(e,r):"path: partner doesn't mediate transfers":"path: there's no direct channel with partner"}function yr(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(_e["d"])(Object.values(t.tokens).includes(a),[_e["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(_e["d"])(n.payload.available,[_e["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(_e["d"])(Object(zt["b"])(n.payload.caps,st["a"].RECEIVE),[_e["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(_e["d"])(Object.values(t.channels).some((function(e){return!0===dr(e,i)})),_e["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function hr(e,t){var n=null===e.payload.pfs,r=!e.payload.pfs&&t.pfsMode===Tn["j"].disabled;return n||r}function mr(e,t){return Object(Yn["a"])(e.payload.pfs,t).pipe(Object(W["a"])(),Object(J["m"])((function(n){return fr(n,e.meta.tokenNetwork,t)})),Object(U["a"])(t.config$),Object(J["m"])((function(n){var r=ar(n,2),a=ar(r[0],2),o=a[0],i=a[1],c=r[1];return Or(o,i,e.meta,{address:t.address,config:c})})),Object(_["a"])((function(n){var r=ar(n,2),a=ar(r[0],2),o=ar(a[0],2),i=o[1],c=a[1],u=r[1],s=u.response,l=u.text,p=Object(we["b"])(l);if(!s.ok){var f=Object(z["n"])(Tn["i"],p,void 0,t.log.warn);return{iou:i,error:f}}return{iou:i,paths:wr(p,e.meta.value,c)}})))}function vr(e,t,n){var r,a,o=ar(e,2),i=o[0],c=o[1],u=n.address,s=n.log,l=new Set,p=i.meta,f=p.tokenNetwork,d=p.value,b=p.target;return Object(O["a"])(c).pipe(Object(Q["a"])((function(e){var n;return Object(me["a"])((function(){if(Object(_e["d"])(e.path.length>=2&&e.path[0]===u,"we are not the first address in path"),n=e.path[1],Object(_e["d"])(!l.has(n),"already invalidated recipient"),r)Object(_e["d"])(r.path[1]===n,"already selected another recipient"),Object(_e["d"])(r.fee.gte(e.fee),"already selected a smaller fee");else{var a=t.channels[Object(Ee["b"])({tokenNetwork:f,partner:n})],o=Object(Jt["l"])(e.address_metadata,n),i=br(a,o,b===n,d);if(!0!==i)throw new _e["c"](i,{partnerPresence:o,channel:a});for(var c=0,s=Object.entries(e.path.slice(2,-1));c<s.length;c++){var p=ar(s[c],2),y=p[0],h=p[1],m=Object(Jt["l"])(e.address_metadata,h);Object(_e["d"])(Object(zt["b"])(null===m||void 0===m?void 0:m.payload.caps,st["a"].MEDIATE),["path: hop doesn't mediate transfers",{hopIndex:y+2,hop:h,hopPresence:m}])}}return Object(j["a"])(e)})).pipe(Object(E["a"])((function(e){var t;return null!==(t=r)&&void 0!==t?t:r=e})),Object(L["a"])((function(t){var r;return null!==(r=a)&&void 0!==r||(a=t),s.warn("Invalidated received route",{error:t,path:e}),n&&l.add(n),ve["a"]})))})),Object(ct["a"])(),Object(_["a"])((function(e){var t;if(!e.length)throw null!==(t=a)&&void 0!==t?t:new _e["c"](_e["b"].PFS_NO_ROUTES_FOUND);return e})))}function Or(e,t,n,r){var a=n.tokenNetwork,o=n.target,i=n.value,c=r.address,u=r.config,l=u.httpTimeout,p=u.pfsMaxPaths,f=Object(we["c"])({from:c,to:o,value:Object(z["l"])(32).encode(i),max_paths:p,iou:t?Qn(Qn({},t),{},{amount:Object(z["l"])(32).encode(t.amount),expiration_block:Object(z["l"])(32).encode(t.expiration_block),chain_id:Object(z["l"])(32).encode(t.chain_id)}):void 0});return Object(Kn["a"])("".concat(e.url,"/api/v1/").concat(a,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:f}).pipe(Object(Gn["a"])(l),Object(J["j"])(Object(Oe["b"])(Object(j["a"])(u)),{onErrors:[].concat(er(_e["h"]),["TimeoutError"])}),Object(N["a"])(function(){var e=zn(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",{response:e.t0,text:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function jr(e,t,n){var r=n.pfsSafetyMargin,a=0,o=0;"number"===typeof r?a=r-1:(a=r[0],o=r[1]);var i=new Vn["Decimal"](e.toHexString()).abs().mul(a).add(new Vn["Decimal"](t.toHexString()).mul(o));return Object(z["n"])(Tn["b"],e.add(i.toFixed(0,Vn["Decimal"].ROUND_CEIL)))}function gr(e,t,n){return e.map((function(e){var r="path"in e?e.path:e.route,a=Hn()(e,["path","route"]),o="fee"in e?e.fee:e.estimated_fee.isZero()?e.estimated_fee:jr(e.estimated_fee,t,n),i=Hn()(a,["fee","estimated_fee"]);return Qn({path:r,fee:o},i)}))}function wr(e,t,n){return gr(Object(z["n"])(Tn["l"],e).result,t,n).slice(0,n.pfsMaxPaths)}function _r(e){return"paths"in e||kr(e.error)}function kr(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function Er(e,t,n,r){var a=n.state,o=n.config;yr(e,a,r);var i=e.meta,c=i.tokenNetwork,u=i.target,s=i.value;if(e.payload.paths)return Object(j["a"])({paths:gr(e.payload.paths,s,o),iou:void 0});if(!0===br(a.channels[Object(Ee["b"])({tokenNetwork:c,partner:u})],r,!0,s)){var p,f={};if(a.transport.setup)f[t.address]={user_id:a.transport.setup.userId,displayname:a.transport.setup.displayName,capabilities:Object(zt["g"])(null!==(p=o.caps)&&void 0!==p?p:{})};return Object(j["a"])({paths:[Qn({path:[t.address,u],fee:l["h"]},rt()(f)?{}:{address_metadata:f})],iou:void 0})}if(hr(e,o))throw new _e["c"](_e["b"].PFS_DISABLED);return mr(e,t)}function Tr(e,t,n){var r,a=ar(e,2),o=a[0],i=a[1],c=o.meta.tokenNetwork,u=i.iou,s=ve["a"];if(u&&(s=Object(j["a"])(_r(i)?Object(jn["iouPersist"])({iou:u},{tokenNetwork:c,serviceAddress:u.receiver}):Object(jn["iouClear"])(void 0,{tokenNetwork:c,serviceAddress:u.receiver}))),"error"in i){var l=i.error;r=Object(qn["a"])((function(){return kr(l)?new _e["c"](_e["b"].PFS_NO_ROUTES_BETWEEN_NODES):new _e["c"](_e["b"].PFS_ERROR_RESPONSE,{errorCode:l.error_code,errors:l.errors})}))}else r=vr([o,i.paths],t,n).pipe(Object(_["a"])((function(e){return jn["pathFind"].success({paths:e},o.meta)})));return Object(w["a"])(s,r)}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e,t){return Cr(e)||Rr(e,t)||Ir(e,t)||Nr()}function Nr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ir(e,t){if(e){if("string"===typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Cr(e){if(Array.isArray(e))return e}function Mr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Lr(e,t,n){return Mr(t),e.pipe(Object(J["c"])(Bn["matrixPresence"],(function(t){return e.pipe(Object(S["a"])(Object(ge["e"])(jn["pathFind"].request)),Object(Q["a"])((function(e){return t(Bn["matrixPresence"].request(void 0,{address:e.meta.target})).pipe(Object(U["a"])(n.latest$),Object(N["a"])((function(t){var r=xr(t,2),a=r[0],o=r[1];return Er(e,n,o,a)})),Object(U["a"])(n.latest$),Object(N["a"])((function(t){var r=xr(t,2),a=r[0],o=r[1].state;return Tr([e,a],o,n)})),Object(L["a"])((function(t){return Object(j["a"])(jn["pathFind"].failure(t,e.meta))})))})))})))}function Ur(e,t,n){Mr(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Object(Ee["e"])(),Object(N["a"])((function(e){return e.pipe(Object(wn["a"])(),Object(U["a"])(c),Object(S["a"])((function(e){var t=xr(e,2),n=xr(t[0],2),r=n[1],a=t[1].pfsMode;return r.state===ke["b"].open&&a!==Tn["j"].disabled})),Object(_n["a"])((function(e){var t=xr(e,2),n=xr(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(g["a"])(o):Object(j["a"])(1)})),Object(Y["a"])((function(e){var t=xr(e,2),n=xr(t[0],2),c=n[1],u=t[1].revealTimeout,s=c.tokenNetwork,l=c.partner.address,p=Object(Ee["a"])(c),f=p.ownCapacity,d=p.partnerCapacity,b={type:En["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:gn["a"].from(o.chainId),token_network_address:s,channel_identifier:gn["a"].from(c.id)},updating_participant:a,other_participant:l,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:f,other_capacity:d,reveal_timeout:gn["a"].from(u)},y=Object(Jt["g"])().toString();return Object(me["a"])((function(){return Object(je["g"])(i,b,{log:r})})).pipe(Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},{service:Tn["n"].PFS,msgId:y})})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),ve["a"]})))})))})))}function Br(e,t,n){Mr(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$,u=n.mediationFeeCalculator;return t.pipe(Object(Ee["e"])(),Object(N["a"])((function(e){return Object(h["a"])([e,c.pipe(Object(J["g"])("caps")),c.pipe(Object(J["g"])("mediationFees"))]).pipe(Object(S["a"])((function(e){var t=xr(e,2),n=t[1];return!!Object(zt["b"])(n,st["a"].MEDIATE)})),Object(_["a"])((function(e){var t=xr(e,3),n=t[0],r=t[2],a=u.schedule(r,n);return[n,a]})),Object(k["a"])((function(e,t){var n=xr(e,2),r=n[1],a=xr(t,2),o=a[1];return y()(r,o)})),Object(Y["a"])((function(e){var t=xr(e,2),n=t[0],c=t[1],u={type:En["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:gn["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:gn["a"].from(n.id)},updating_participant:a,timestamp:lr(),fee_schedule:c},s=Object(Jt["g"])().toString(),l={service:Tn["n"].PFS,msgId:s};return Object(O["a"])(Object(je["g"])(i,u,{log:r})).pipe(Object(_["a"])((function(e){return kn["messageServiceSend"].request({message:e},l)})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),ve["a"]})))})),Object(M["a"])(e.pipe(Object(S["a"])((function(e){return e.state!==ke["b"].open})))))})),Object(J["b"])(t))}function Fr(e,t,n){var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.init$,u=e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"));return t.pipe(Object(W["a"])(),Object(Y["a"])((function(n){var s=n.services,l=new it["a"];return c.next(l),Object(Z["b"])(r,a.filters.RegisteredService(null,null,null,null),{fromBlock:rt()(s)?o.TokenNetworkRegistry.block_number:void 0,confirmations:i.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:u,onPastCompleted:function(){l.next(null),l.complete()}}).pipe(Object(U["a"])(t,i),Object(S["a"])((function(e){var t=xr(e,3),n=t[0].blockNumber,r=t[1].blockNumber,a=t[2].confirmationBlocks;return!!n&&n+a<=r})),Object(P["a"])(0),Object(_["a"])(Object(Z["e"])(a)),Object(U["a"])(t),Object(_["a"])((function(e){var t=xr(e,2),n=xr(t[0],2),r=n[0],a=n[1],o=t[1].services;return Ar(Ar({},o),{},Pr({},r,1e3*a.toNumber()))})),Object(A["a"])(s),Object(Y["a"])((function(t){return e.pipe(Object(S["a"])($["newBlock"].is),Object(A["a"])(!0),Object(_["a"])((function(){return Un()(t,(function(e){return Date.now()<e}))})))})))})),Object(k["a"])(y.a),Object(_["a"])((function(e){return Object(jn["servicesValid"])(e)})),Object(J["b"])(e))}var Wr=n("db40"),Vr=n("e1bc"),$r=n("8089");function Hr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function qr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hr(o,r,a,i,c,"next",e)}function c(e){Hr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Kr(e,t){return Zr(e)||Qr(e,t)||Yr(e,t)||Gr()}function Gr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yr(e,t){if(e){if("string"===typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Zr(e){if(Array.isArray(e))return e}function Jr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function zr(e,t,n){Jr(t);var r=n.address,a=n.latest$,o=n.config$,i=n.userDepositContract;return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(o),Object(K["a"])((function(e){var t=Kr(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([i.callStatic.effectiveBalance(r,{blockTag:n-a}),i.callStatic.total_deposit(r,{blockTag:n-a})]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(L["a"])(Ft()(ve["a"])))})),Object(U["a"])(a),Object(S["a"])((function(e){var t=Kr(e,2),n=Kr(t[0],1),r=n[0],a=t[1].udcDeposit;return!a.balance.eq(r)})),Object(_["a"])((function(e){var t=Kr(e,1),n=Kr(t[0],2),r=n[0],a=n[1];return jn["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function ea(e,t,n){var r,a=Kr(e,2),o=a[0],i=a[1],c=Kr(t,2),u=c[0],s=c[1],l=n.address,p=n.log,f=n.config$,d=n.latest$;return Object(Ee["d"])(o,i.address,u,n).pipe(Object(U["a"])(d),Object(N["a"])((function(e){var t=Kr(e,2),a=t[1].udcDeposit;return Object(_e["d"])(a.totalDeposit.add(u).eq(s),[_e["b"].UDC_DEPOSIT_OUTDATED,{requested:s,current:a.totalDeposit}]),r=a.balance.add(u),Object(Ee["f"])(i,"deposit",[l,s],n,{error:_e["b"].RDN_DEPOSIT_TRANSACTION_FAILED})})),Object(J["j"])(Object(Oe["b"])(f),{onErrors:_e["f"],log:p.debug}),Object(_["a"])((function(e){var t=Kr(e,2),n=t[1];return jn["udcDeposit"].success({balance:r,txHash:n.transactionHash,txBlock:n.blockNumber,confirmed:void 0},{totalDeposit:s})})))}function ta(e,t,n){Jr(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.config$,i=n.log;return e.pipe(Object(S["a"])(jn["udcDeposit"].request.is),Object(Q["a"])((function(e){return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.token());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(J["j"])(Object(Oe["b"])(o),{onErrors:_e["h"],log:i.debug}),Object(N["a"])((function(t){return ea([a(t),r],[e.payload.deposit,e.meta.totalDeposit],n)})),Object(L["a"])((function(t){return Object(j["a"])(jn["udcDeposit"].failure(t,e.meta))})))})))}function na(e,t,n){Jr(t);var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.config$;return e.pipe(Object(S["a"])(jn["udcWithdrawPlan"].request.is),Object(Q["a"])((function(t){var u=Object($r["c"])(r,i),p=t.meta.amount;return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.balances(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])((function(e){return Object(_e["d"])(p.gt(l["h"]),[_e["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(_e["d"])(p.lte(e),[_e["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:e.toString(),amount:p.toString()}]),Object(Ee["f"])(u,"planWithdraw",[p],n,{subkey:!0,error:_e["b"].UDC_PLAN_WITHDRAW_FAILED})})),Object(J["j"])(Object(Oe["b"])(c),{onErrors:_e["f"],log:o.info}),Object(J["m"])((function(){return e.pipe(Object(S["a"])($["newBlock"].is),Object(A["a"])(0),Object(K["a"])((function(){return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(J["a"])({onErrors:_e["h"],log:o.debug}))})),Object(W["a"])((function(e){var n=e.amount;return n.gte(t.meta.amount)})))})),Object(_["a"])((function(e){var n=Kr(e,2),r=Kr(n[0],2),a=r[0].hash,o=r[1].blockNumber,i=n[1].withdraw_block;return jn["udcWithdrawPlan"].success({block:i.toNumber(),txHash:a,txBlock:o,confirmed:void 0},t.meta)})),Object(L["a"])((function(e){return Object(j["a"])(jn["udcWithdrawPlan"].failure(e,t.meta))})))})))}function ra(e,t,n){Jr(t);var r=n.userDepositContract,a=n.address,o=n.config$,i=n.log,c=0;return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(S["a"])((function(e){return e>=c})),Object(K["a"])((function(t){return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(s.a.mark((function n(r){var a,o,i,u;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=r.amount,o=r.withdraw_block,i={amount:a},!o.isZero()){n.next=5;break}return c=t+st["m"],n.abrupt("return");case 5:if(u=0===c,!u){n.next=9;break}return n.next=9,Object(j["a"])(jn["udcWithdrawPlan"].success({block:o.toNumber(),confirmed:!0},i));case 9:if(!o.gt(t)){n.next=13;break}c=o.toNumber(),n.next=15;break;case 13:return n.next=15,Object(Qt["a"])(e,jn["udcWithdraw"].request(void 0,i),Object(ge["f"])(jn["udcWithdraw"],i));case 15:case"end":return n.stop()}}),n)}))),Object(Vr["a"])(),Object(J["a"])({log:i.info}))})),Object(J["k"])(o.pipe(Object(P["a"])("autoUDCWithdraw"),Object(J["b"])(e))))}function aa(e,t,n){Jr(t);var r=n.log,a=n.userDepositContract,o=n.address,i=n.config$,c=n.main;return e.pipe(Object(S["a"])(jn["udcWithdraw"].request.is),Object(Q["a"])((function(t){var u,p;return Object(Wr["a"])([Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))),Object(Z["a"])(a,"withdrawToBeneficiary").pipe(Object(L["a"])(Ft()(Object(j["a"])(!1))))]).pipe(Object(U["a"])(i),Object(N["a"])((function(e){var r,i,s=Kr(e,2),f=Kr(s[0],2),d=f[0],b=f[1],y=s[1].subkey;Object(_e["d"])(d.gt(l["h"]),[_e["b"].UDC_WITHDRAW_NO_BALANCE,{balance:d.toString()}]),u=d;var h=b&&c&&!(null!==(r=null===(i=t.payload)||void 0===i?void 0:i.subkey)&&void 0!==r?r:y);return p=h?c.address:o,h?Object(Ee["f"])(a,"withdrawToBeneficiary",[t.meta.amount,c.address],n,{subkey:!0,error:_e["b"].UDC_WITHDRAW_FAILED}):Object(Ee["f"])(a,"withdraw",[t.meta.amount],n,{subkey:!0,error:_e["b"].UDC_WITHDRAW_FAILED})})),Object(J["j"])(Object(Oe["b"])(i),{onErrors:_e["f"],log:r.info}),Object(N["a"])((function(n){var i=Kr(n,2),c=i[1],l=c.transactionHash,f=c.blockNumber;return e.pipe(Object(S["a"])($["newBlock"].is),Object(K["a"])((function(){return Object(me["a"])(qr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(J["a"])({onErrors:_e["h"],log:r.info}))})),Object(S["a"])((function(e){return e.lt(u)})),Object(x["a"])(1),Object(_["a"])((function(e){return jn["udcWithdraw"].success({withdrawal:u.sub(e),beneficiary:p,txHash:l,txBlock:f,confirmed:void 0},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(jn["udcWithdraw"].failure(e,t.meta))})))})))}var oa=n("83ee");function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){return fa(e)||pa(e,t)||ba(e,t)||la()}function la(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function fa(e){if(Array.isArray(e))return e}function da(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ba(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ba(e,t){if(e){if("string"===typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ha(e,t,n){var r=n.caps,a=Object(zt["b"])(r,st["a"].MEDIATE),o=e.meta.direction===Zt["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function ma(e,t,n,r){var a=r.address,o=r.log,i=r.mediationFeeCalculator,c=e.payload.message,u=e.payload.partner,s=c.token_network_address,l=new Set(Object.values(t.channels).filter((function(e){return e.tokenNetwork===s})).filter((function(e){return e.state===ke["b"].open})).map((function(e){var t=e.partner;return t.address}))),p={routes:[]};try{p=Object(z["n"])(En["e"],c.metadata)}catch(_){}var f,d=da(p.routes);try{for(d.s();!(f=d.n()).done;){var b=f.value,y=b.route,h=b.address_metadata,m=y[y.indexOf(a)+1];if(m&&l.has(m)){var v=t.channels[Object(Ee["b"])({tokenNetwork:s,partner:u})],O=t.channels[Object(Ee["b"])({tokenNetwork:s,partner:m})],j=void 0;try{j=i.fee(n.mediationFees,v,O)(c.lock.amount)}catch(k){o.warn("Mediation: could not calculate mediation fee, ignoring",{error:k});continue}var g=Object(Jt["l"])(h,m),w=c.metadata;return Object(zt["b"])(null===g||void 0===g?void 0:g.payload.caps,st["a"].IMMUTABLE_METADATA)||(w=Object(Jt["a"])(a,w)),{resolved:!0,partner:m,fee:j.mul(-1),userId:null===g||void 0===g?void 0:g.payload.userId,metadata:w}}}}catch(E){d.e(E)}finally{d.f()}o.warn("Mediation: could not find a suitable route, ignoring",{inputRoutes:p.routes,openPartners:l})}function va(e,t,n){var r=n.address,a=n.config$;return e.pipe(Object(S["a"])(oa["transferSigned"].is),Object(U["a"])(a,t),Object(S["a"])((function(e){var t=sa(e,2),n=t[0],a=t[1];return ha(n,r,a)})),Object(_["a"])((function(e){var t=sa(e,3),r=t[0],a=t[1],o=t[2],i=r.payload.message,c=r.meta.secrethash,u=ma(r,o,a,n);if(u)return oa["transfer"].request(ca({tokenNetwork:i.token_network_address,target:i.target,paymentId:i.payment_identifier,value:i.lock.amount,expiration:i.lock.expiration.toNumber(),initiator:i.initiator},u),{secrethash:c,direction:Zt["a"].SENT})})),Object(S["a"])(z["p"]))}var Oa=n("8130"),ja=n.n(Oa),ga=(n("9201"),n("0ba5"));function wa(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e,t){return Na(e)||xa(e,t)||Aa(e,t)||Sa()}function Sa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Aa(e,t){if(e){if("string"===typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pa(e,t):void 0}}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Na(e){if(Array.isArray(e))return e}function Ia(e,t,n){var r=n.log,a=n.getTokenNetworkContract;return e.pipe(Object(S["a"])(oa["withdrawMessage"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(U["a"])(t),Object(N["a"])((function(e){var t=Ta(e,2),n=t[0],o=t[1],i=a(n.meta.tokenNetwork);return Object(Z["a"])(i,"cooperativeSettle").pipe(Object(N["a"])((function(){var e=o.channels[Object(Ee["b"])(n.meta)];Object(_e["d"])((null===e||void 0===e?void 0:e.state)===ke["b"].open,"channel not open");var t=e.partner.pendingWithdraws.find(Object(Qt["c"])(ga["a"].WITHDRAW_REQUEST,n.payload.message));if(Object(_e["d"])(t,"no matching WithdrawRequest found"),!t.coop_settle)return ve["a"];var r=Object(Ee["a"])(e),a=r.ownTotalWithdrawable;return Object(j["a"])(oa["withdraw"].request({coopSettle:!1},ka(ka({},n.meta),{},{direction:Zt["a"].SENT,totalWithdraw:a})))})),Object(L["a"])((function(e){return r.warn("Could not reply to CoopSettle request, ignoring",{action:n,error:e}),ve["a"]})))})))}function Da(e,t,n){wa(t);var r=n.latest$,a=n.config$,o=n.log;return e.pipe(Object(J["c"])($["channelSettle"],(function(t){return e.pipe(Object(S["a"])(oa["withdrawMessage"].success.is),Object(Be["a"])((function(e){return Object(Ee["b"])(e.meta)})),Object(N["a"])((function(e){return e.pipe(Object(Q["a"])((function(e){return Object(h["a"])([r,a]).pipe(Object(W["a"])(),Object(N["a"])((function(n){var r=Ta(n,2),a=r[0].state,o=r[1].revealTimeout,i=a.channels[Object(Ee["b"])(e.meta)];Object(_e["d"])((null===i||void 0===i?void 0:i.state)===ke["b"].open,"channel not open");var c=Object(Ee["a"])(i),u=c.ownCapacity,s=c.partnerCapacity,l=c.ownTotalWithdrawable,p=c.partnerTotalWithdrawable;Object(_e["d"])(!i.own.locks.length&&!i.partner.locks.length&&u.isZero()||s.isZero(),"");var f=i.own.pendingWithdraws.find((function(e){return e.type===ga["a"].WITHDRAW_REQUEST&&e.expiration.gte(a.blockNumber+o)&&e.total_withdraw.eq(l)&&!!e.coop_settle}));Object(_e["d"])(f&&!f.expiration.lt(a.blockNumber+o),"");var d=i.own.pendingWithdraws.find(Object(Qt["c"])(ga["a"].WITHDRAW_CONFIRMATION,f)),b=i.partner.pendingWithdraws.find((function(e){return e.type===ga["a"].WITHDRAW_REQUEST&&e.expiration.gte(a.blockNumber+o)&&e.total_withdraw.eq(p)}));Object(_e["d"])(b,"partner request not found");var y=i.partner.pendingWithdraws.find(Object(Qt["c"])(ga["a"].WITHDRAW_CONFIRMATION,b));Object(_e["d"])(d&&y,["no matching WithdrawConfirmations found",{ownConfirmation:d,partnerConfirmation:y}]);var h=Object(Qt["e"])(f,i);return t($["channelSettle"].request({coopSettle:[[f,d],[b,y]]},{tokenNetwork:h.tokenNetwork,partner:h.partner})).pipe(Object(_["a"])((function(e){return oa["withdraw"].success(ja()(e.payload,["txBlock","txHash","confirmed"]),h)})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdraw"].failure(e,h))})),Object(A["a"])(Object(oa["withdrawBusy"])(void 0,h)))})),Object(L["a"])((function(e){return e.message&&o.info(e.message,e.details),ve["a"]})))})))})))})))}function Ra(e,t){return Ba(e)||Ua(e,t)||Ma(e,t)||Ca()}function Ca(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ma(e,t){if(e){if("string"===typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ua(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ba(e){if(Array.isArray(e))return e}function Fa(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t,r),Object(K["a"])((function(t){var n=Ra(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(O["a"])(Object.values(a).filter((function(e){return e.direction===Zt["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(N["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:Zt["a"].SENT};return Object(m["a"])(Object(Qt["a"])(e,oa["transferExpire"].request(void 0,n),Object(ge["g"])(oa["transferExpire"],n)),Object(j["a"])(oa["transfer"].failure(new _e["c"](_e["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t){return Xa(e)||Ya(e,t)||Ka(e,t)||qa()}function qa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ka(e,t){if(e){if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ga(e,t):void 0}}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ya(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Xa(e){if(Array.isArray(e))return e}function Qa(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Za(e,t){return Qa(e),t.pipe(Object(W["a"])(),Object(N["a"])((function(e){var t=e.transfers;return Object(O["a"])(Object.values(t).filter((function(e){return e.direction===Zt["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(N["a"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:Zt["a"].SENT},e.next=3,Bn["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(oa["transferSigned"])({message:Object(z["t"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,oa["transferUnlock"].success({message:Object(z["t"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,oa["transferExpire"].success({message:Object(z["t"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function Ja(e,t,n){Qa(e);var r=n.config$;return t.pipe(Object(W["a"])(),Object(N["a"])((function(e){var t=e.transfers;return Object(O["a"])(Object.values(t).filter((function(e){return e.direction===Zt["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(N["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:Zt["a"].RECEIVED};return Object(m["a"])(Object(j["a"])(Object(oa["transferSigned"])({message:Object(z["t"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(j["a"])(Object(oa["transferSecret"])({secret:e.secret},n)):ve["a"],e.secretReveal?Object(j["a"])(Object(oa["transferSecretReveal"])({message:Object(z["t"])(e.secretReveal)},n)):ve["a"],!e.secret&&e.secretRequest?r.pipe(Object(P["a"])("caps"),Object(S["a"])((function(e){return!!Object(zt["b"])(e,st["a"].RECEIVE)})),Object(x["a"])(1),Object(Ue["a"])(Object(j["a"])(Bn["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(oa["transferSecretRequest"])({message:Object(z["t"])(e.secretRequest)},n)))):ve["a"])})))}function za(e,t,n){Qa(t);var r=n.config$;return e.pipe(Object(J["c"])(jn["pathFind"],(function(t){return e.pipe(Object(S["a"])(oa["transfer"].request.is),Object(S["a"])((function(e){return!e.payload.resolved})),Object(N["a"])((function(n){return t(jn["pathFind"].request(ja()(n.payload,["paths","pfs"]),ja()(n.payload,["tokenNetwork","target","value"]))).pipe(Object(U["a"])(e.pipe(Object(S["a"])(Bn["matrixPresence"].success.is),Object(S["a"])((function(e){return e.meta.address===n.payload.target}))),r),Object(_["a"])((function(e){var t,r,a=Ha(e,3),o=a[0],i=a[1],c=a[2].encryptSecret;(null!==(t=n.payload.encryptSecret)&&void 0!==t?t:c)&&n.payload.secret&&(r={secret:n.payload.secret,amount:n.payload.value,payment_identifier:n.payload.paymentId});var u=Object(Jt["j"])(o.payload.paths,i,r),s=Hn()(n.payload,["paths","pfs","encryptSecret"]),l=Va(Va({},s),u);return oa["transfer"].request(l,n.meta)})),Object(L["a"])((function(e){return Object(j["a"])(oa["transfer"].failure(e,n.meta))})))})))})))}function eo(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function to(e,t,n){var r=n.config$;return t.pipe(Object(J["g"])("transfers"),Object(J["d"])(),Object(Be["a"])((function(e){var t=Ha(e,1),n=t[0];return n}),{duration:function(e){var n=e.key;return t.pipe(Object(S["a"])((function(e){var t=e.transfers;return!(n in t)})))}}),Object(U["a"])(r),Object(N["a"])((function(t){var n=Ha(t,2),r=n[0],a=n[1].httpTimeout;return r.pipe(Object(S["a"])((function(e){var t=Ha(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(x["a"])(1),Object(N["a"])((function(t){var n=Ha(t,2),a=n[1];return e.pipe(Object(S["a"])(eo),Object(S["a"])((function(e){return Object(Jt["n"])(e.meta)===r.key})),Object(A["a"])({meta:ja()(a,["secrethash","direction"])}),Object(J["b"])(r))})),Object(q["a"])(3*a),Object(_["a"])((function(e){var t=e.meta;return Object(oa["transferClear"])(void 0,t)})))})),Object(J["b"])(e))}var no=n("f2df"),ro=n("9a49");function ao(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uo(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){uo(o,r,a,i,c,"next",e)}function c(e){uo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function lo(e,t){return bo(e)||fo(e,t)||mo(e,t)||po()}function po(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function bo(e){if(Array.isArray(e))return e}function yo(e){return Oo(e)||vo(e)||mo(e)||ho()}function ho(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mo(e,t){if(e){if("string"===typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}function vo(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Oo(e){if(Array.isArray(e))return jo(e)}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(no["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function wo(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),l["h"])}function _o(e,t,n){var r=e.channels[Object(Ee["b"])(t)];return Object(no["a"])((null===r||void 0===r?void 0:r.state)===ke["b"].open,"channel not open"),n&&(Object(no["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(no["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function ko(e){return e.payload.resolved}function Eo(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=n.expiryFactor,u=r.log,l=r.address,p=r.network,f=r.signer,d=t.payload,b=d.tokenNetwork,y=d.fee,h=d.partner,m=d.userId,v=_o(e,{tokenNetwork:b,partner:h});Object(no["a"])(!("expiration"in t.payload)||!t.payload.expiration||t.payload.expiration>e.blockNumber+o,"expiration too soon");var j=Object(z["n"])(Object(z["l"])(32),"expiration"in t.payload&&t.payload.expiration?t.payload.expiration:"lockTimeout"in t.payload&&t.payload.lockTimeout?e.blockNumber+t.payload.lockTimeout:Math.min(e.blockNumber+Math.round(o*c),e.blockNumber+v.settleTimeout-i));Object(no["a"])(j.lte(e.blockNumber+v.settleTimeout),["expiration too far in the future",{expiration:j.toString(),blockNumber:e.blockNumber,settleTimeout:v.settleTimeout,revealTimeout:o}]);var g={amount:t.payload.value.add(y),expiration:j,secrethash:t.meta.secrethash},w=[].concat(yo(v.own.locks),[g]),_=wo(w);Object(no["a"])(Object(z["l"])(32).is(v.own.balanceProof.transferredAmount.add(_)),"overflow on future transferredAmount");var k=Object(Jt["d"])(w);u.info("Signing transfer of value",t.payload.value.toString(),"of token",v.token,", to",t.payload.target,", through routes",t.payload.metadata,", paying",y.toString(),"in fees.");var E={type:En["d"].LOCKED_TRANSFER,message_identifier:Object(Jt["g"])(),chain_id:gn["a"].from(p.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:gn["a"].from(v.id),nonce:v.own.nextNonce,transferred_amount:v.own.balanceProof.transferredAmount,locked_amount:_,locksroot:k,payment_identifier:t.payload.paymentId,token:v.token,recipient:h,lock:g,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:l,metadata:t.payload.metadata};return Object(O["a"])(Object(je["g"])(f,E,{log:u})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(oa["transferSigned"])({message:n,fee:y,partner:h,userId:m},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(oa["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function To(e,t,n){return Object(h["a"])([e,n.config$]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var r=lo(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(Jt["n"])(t.meta))?(n.log.warn("transfer already present",t.meta),ve["a"]):Eo(a,t,o,n)})),Object(L["a"])((function(e){return Object(j["a"])(oa["transfer"].failure(e,t.meta))})))}function So(e,t,n,r,a){var o,i=a.log,c=a.signer,u=a.db,l=n.meta.secrethash,p=r.transfer,f=p.token_network_address,d=r.partner,b=_o(t,{tokenNetwork:f,partner:d});if(r.unlock)o=Object(j["a"])(r.unlock);else{Object(no["a"])(r.secret,"unknown secret"),Object(no["a"])(b.own.locks.find((function(e){return e.secrethash===l})),"transfer already unlocked or expired"),Object(no["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var y={type:En["d"].UNLOCK,message_identifier:Object(Jt["g"])(),chain_id:p.chain_id,token_network_address:p.token_network_address,channel_identifier:p.channel_identifier,nonce:b.own.nextNonce,transferred_amount:Object(z["n"])(Object(z["l"])(32),b.own.balanceProof.transferredAmount.add(p.lock.amount),"overflow on transferredAmount"),locked_amount:b.own.balanceProof.lockedAmount.sub(p.lock.amount),locksroot:Object(Jt["d"])(go(b.own,l)),payment_identifier:p.payment_identifier,secret:r.secret};o=Object(O["a"])(Object(je["g"])(c,y,{log:i}))}return o.pipe(Object(J["m"])(so(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(Jt["f"])(e,u,n.meta));case 1:case"end":return t.stop()}}),t)})))),Object(U["a"])(e),Object(_["a"])((function(e){var t,r=lo(e,2),a=lo(r[0],2),o=a[0],i=a[1],c=r[1],u=_o(c,{tokenNetwork:f,partner:d});return Object(no["a"])(i&&(i.expiration>c.blockNumber||i.secretRegistered||u.own.locks.find((function(e){return e.secrethash===l&&e.registered}))),"lock expired"),oa["transferUnlock"].success({message:o,partner:d,userId:null===(t=n.payload)||void 0===t?void 0:t.userId},n.meta)})))}function Ao(e,t,n){var r=n.log,a=n.db;return Object(me["a"])(so(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(Jt["f"])(e,a,t.meta));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(U["a"])(e),Object(N["a"])((function(r){var a=lo(r,2),o=a[0],i=a[1];return So(e,i,t,o,n)})),Object(L["a"])((function(e){return r.warn("Error trying to unlock after SecretReveal",e),Object(j["a"])(oa["transferUnlock"].failure(e,t.meta))})))}function Po(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,u=n.transfer,s=u.token_network_address,l=n.partner,p=_o(e,{tokenNetwork:s,partner:l});if(n.expired)a=Object(j["a"])(n.expired);else{Object(no["a"])(u.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(no["a"])(p.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var f=Object(Jt["d"])(go(p.own,c)),d={type:En["d"].LOCK_EXPIRED,message_identifier:Object(Jt["g"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:p.own.nextNonce,transferred_amount:p.own.balanceProof.transferredAmount,locked_amount:p.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:f,recipient:l,secrethash:c};a=Object(O["a"])(Object(je["g"])(o,d,{log:i}))}return a.pipe(Object(_["a"])((function(e){return oa["transferExpire"].success({message:e,partner:l},t.meta)})))}function xo(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(me["a"])((function(){return Object(Jt["f"])(e,o,t.meta)})).pipe(Object(U["a"])(e),Object(N["a"])((function(e){var n=lo(e,2),o=n[0],i=n[1];return Po(i,t,o,{signer:a,log:r})})),Object(L["a"])((function(e){return Object(j["a"])(oa["transferExpire"].failure(e,t.meta))})))}function No(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,u=t.payload.message.lock.secrethash,p={secrethash:u,direction:Zt["a"].RECEIVED};return Object(h["a"])([e,i]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var n=lo(e,2),i=n[0],f=n[1],d=f.revealTimeout,b=f.caps,y=t.payload.message;if(c.storageKeys.has(Object(Jt["n"])(p))){a.warn("transfer already present",p);var m=y.message_identifier,v=i.transfers[Object(Jt["n"])(p)];return null!==v&&void 0!==v&&v.transferProcessed&&v.partner===t.meta.address&&m.eq(v.transfer.message_identifier)?Object(j["a"])(Object(oa["transferProcessed"])({message:Object(z["t"])(v.transferProcessed),userId:t.payload.userId},p)):ve["a"]}var O=y.token_network_address,g=t.meta.address,w=_o(i,{tokenNetwork:O,partner:g},y);Object(no["a"])(y.nonce.eq(w.partner.nextNonce),["nonce mismatch",{expected:w.partner.nextNonce.toNumber(),received:y.nonce.toNumber()}]);var _=[].concat(yo(w.partner.locks),[y.lock]),k=Object(Jt["d"])(_);Object(no["a"])(y.locksroot===k,"locksroot mismatch"),Object(no["a"])(y.transferred_amount.eq(w.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var E=wo(_);Object(no["a"])(y.locked_amount.eq(E),"lockedAmount mismatch"),Object(no["a"])(Object(z["l"])(32).is(w.partner.balanceProof.transferredAmount.add(E)),"overflow on future transferredAmount");var T=Object(Ee["a"])(w),S=T.partnerCapacity;Object(no["a"])(y.lock.amount.lte(S),"balanceProof total amount bigger than capacity"),Object(no["a"])(y.lock.expiration.lte(i.blockNumber+w.settleTimeout),["expiration too far in the future",{expiration:y.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:w.settleTimeout,revealTimeout:d}]),Object(no["a"])(y.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",y.lock.amount.toString(),"of token",w.token,", from",y.initiator,", through partner",g);var A,P=Object(j["a"])(void 0);y.target===r&&(Object(zt["b"])(b,st["a"].RECEIVE)?y.lock.expiration.sub(d).gt(i.blockNumber)||(A={reason:"lock expired or expires too soon",lockExpiration:y.lock.expiration.toString(),dangerZoneStart:y.lock.expiration.sub(d).toString()}):A={reason:"receiving disabled"},A?a.warn("Ignoring received transfer",A):P=Object(me["a"])(so(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(Jt["b"])(y.metadata,[u,y.lock.amount,y.payment_identifier],o),!t){e.next=3;break}return e.abrupt("return",t);case 3:return n={type:En["d"].SECRET_REQUEST,payment_identifier:y.payment_identifier,secrethash:u,amount:y.lock.amount,expiration:y.lock.expiration,message_identifier:Object(Jt["g"])()},e.abrupt("return",Object(je["g"])(o,n,{log:a}));case 5:case"end":return e.stop()}}),e)})))));var x=Object(me["a"])((function(){var e={type:En["d"].PROCESSED,message_identifier:y.message_identifier};return Object(je["g"])(o,e,{log:a})}));return Object(h["a"])([x,P]).pipe(Object(N["a"])(s.a.mark((function e(n){var r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=lo(n,2),a=r[0],o=r[1],e.next=3,Object(oa["transferSigned"])({message:y,fee:l["h"],partner:g},p);case 3:return e.next=5,Object(oa["transferProcessed"])({message:a,userId:t.payload.userId},p);case 5:if(!z["h"].is(o)){e.next=10;break}return e.next=8,Object(oa["transferSecret"])({secret:o},p);case 8:e.next=15;break;case 10:if(!o){e.next=15;break}return e.next=13,Bn["matrixPresence"].request(void 0,{address:y.initiator});case 13:return e.next=15,Object(oa["transferSecretRequest"])(io({message:o},Object(Jt["m"])(y.metadata,y.initiator)),p);case 15:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(oa["transfer"].failure(e,p))})))}function Io(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(Jt["e"])(t.payload.message.secret),c={secrethash:i,direction:Zt["a"].RECEIVED};return Object(me["a"])((function(){return Object(Jt["f"])(e,o,c)})).pipe(Object(U["a"])(e),Object(N["a"])((function(e){var n=lo(e,2),o=n[0],u=n[1];Object(no["a"])(o,"unknown transfer");var l=t.payload.message,p=t.meta.address;if(Object(no["a"])(p===o.partner,"wrong partner"),Object(no["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(j["a"])(Object(oa["transferUnlockProcessed"])({message:Object(z["t"])(o.unlockProcessed),userId:t.payload.userId},c)):ve["a"];var f=o.transfer;Object(no["a"])(l.token_network_address===f.token_network_address,"wrong tokenNetwork");var d=l.token_network_address,b=_o(u,{tokenNetwork:d,partner:p},l);Object(no["a"])(l.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var y=f.lock.amount,h=go(b.partner,i);Object(no["a"])(l.locksroot===Object(Jt["d"])(h),"locksroot mismatch"),Object(no["a"])(l.transferred_amount.eq(b.partner.balanceProof.transferredAmount.add(y)),"transferredAmount mismatch"),Object(no["a"])(l.locked_amount.eq(wo(h)),"lockedAmount mismatch");var m={type:En["d"].PROCESSED,message_identifier:l.message_identifier};return Object(O["a"])(Object(je["g"])(a,m,{log:r})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(oa["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,oa["transferUnlock"].success({message:l,partner:p},c);case 5:return e.next=7,Object(oa["transferUnlockProcessed"])({message:n,userId:t.payload.userId},c);case 7:return e.next=9,oa["transfer"].success({balanceProof:Object(je["d"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(j["a"])(oa["transferUnlock"].failure(e,c))})))}function Do(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,u={secrethash:c,direction:Zt["a"].RECEIVED};return Object(me["a"])((function(){return Object(Jt["f"])(e,i,u)})).pipe(Object(U["a"])(e,o),Object(N["a"])((function(e){var n=lo(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,p=t.payload.message,f=t.meta.address;if(Object(no["a"])(f===o.partner,"wrong partner"),Object(no["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&p.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(j["a"])(Object(oa["transferExpireProcessed"])({message:Object(z["t"])(o.expiredProcessed),userId:t.payload.userId},u)):ve["a"];var d=o.transfer;Object(no["a"])(d.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(no["a"])(!o.secretRegistered,"secret registered onchain"),Object(no["a"])(p.token_network_address===d.token_network_address,"wrong tokenNetwork");var b=p.token_network_address,y=_o(i,{tokenNetwork:b,partner:f},p);Object(no["a"])(p.nonce.eq(y.partner.nextNonce),["nonce mismatch",{expected:y.partner.nextNonce.toNumber(),received:p.nonce.toNumber()}]);var h=go(y.partner,c);Object(no["a"])(p.locksroot===Object(Jt["d"])(h),"locksroot mismatch"),Object(no["a"])(p.locked_amount.eq(wo(h)),"lockedAmount mismatch"),Object(no["a"])(p.transferred_amount.eq(y.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var m={type:En["d"].PROCESSED,message_identifier:p.message_identifier};return Object(O["a"])(Object(je["g"])(a,m,{log:r})).pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa["transferExpire"].success({message:p,partner:f},u);case 2:return e.next=4,Object(oa["transferExpireProcessed"])({message:n,userId:t.payload.userId},u);case 4:return e.next=6,oa["transfer"].failure(new _e["c"](_e["b"].XFER_EXPIRED,{block:d.lock.expiration.toString()}),u);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(j["a"])(oa["transferExpire"].failure(e,u))})))}function Ro(e){return e.type===En["d"].WITHDRAW_CONFIRMATION}function Co(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$;return t.meta.direction!==Zt["a"].SENT?ve["a"]:Object(h["a"])([e,c]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var n,c,u=lo(e,2),s=u[0],l=u[1].revealTimeout,p=_o(s,t.meta);if(p.own.pendingWithdraws.some(Object(Qt["c"])(En["d"].WITHDRAW_REQUEST,t.meta)))return ve["a"];var f=p.own.pendingWithdraws.find(Ro);if(f)return[oa["withdrawMessage"].success({message:f},{direction:t.meta.direction,tokenNetwork:p.tokenNetwork,partner:p.partner.address,totalWithdraw:f.total_withdraw,expiration:f.expiration.toNumber()}),oa["withdraw"].failure(new _e["c"](_e["b"].CNL_WITHDRAW_RETRY_CONFIRMATION),t.meta)];if(Object(no["a"])(!p.own.pendingWithdraws.length,[_e["b"].CNL_WITHDRAW_PENDING,{pendingWithdraws:p.own.pendingWithdraws}]),Object(no["a"])(t.meta.totalWithdraw.lte(Object(Ee["a"])(p).ownTotalWithdrawable),_e["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH),void 0!==(null===(n=t.payload)||void 0===n?void 0:n.coopSettle)){Object(no["a"])(t.meta.expiration>s.blockNumber,_e["b"].CNL_WITHDRAW_EXPIRES_SOON);var d=Object(Ee["a"])(p),b=d.ownLocked,y=d.partnerLocked,h=d.ownTotalWithdrawable,m=d.partnerCapacity;Object(no["a"])(!p.own.locks.length&&!p.partner.locks.length&&t.meta.totalWithdraw.eq(h)&&(t.payload.coopSettle||m.isZero()),[_e["b"].CNL_COOP_SETTLE_NOT_POSSIBLE,{ownLocked:b,partnerLocked:y,partnerCapacity:m}])}else Object(no["a"])(t.meta.totalWithdraw.gt(p.own.withdraw),_e["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(no["a"])(t.meta.expiration>=s.blockNumber+l,_e["b"].CNL_WITHDRAW_EXPIRES_SOON);var v=io({type:En["d"].WITHDRAW_REQUEST,message_identifier:Object(Jt["g"])(),chain_id:gn["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:gn["a"].from(p.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:p.own.nextNonce,expiration:gn["a"].from(t.meta.expiration)},void 0!==(null===(c=t.payload)||void 0===c?void 0:c.coopSettle)?{coop_settle:t.payload.coopSettle}:null);return Object(O["a"])(Object(je["g"])(o,v,{log:r})).pipe(Object(_["a"])((function(e){return oa["withdrawMessage"].request({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdraw"].failure(e,t.meta))})))}function Mo(e,t,n){var r,a=n.address,o=t.payload.message,i=o.token_network_address,c=t.meta.address;try{r=o.expiration.toNumber()}catch(s){return ve["a"]}var u={direction:Zt["a"].SENT,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:r};return e.pipe(Object(W["a"])(),Object(_["a"])((function(e){return _o(e,{tokenNetwork:i,partner:c},o),Object(no["a"])(o.participant===a,"participant mismatch"),oa["withdrawMessage"].success({message:o},u)})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdrawMessage"].failure(e,u))})))}function Lo(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==Zt["a"].SENT?ve["a"]:Object(h["a"])([e,i]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var n=lo(e,2),i=n[0],c=n[1].confirmationBlocks,u=_o(i,t.meta);Object(no["a"])(!u.own.pendingWithdraws.some(Object(Qt["c"])(En["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var s=u.own.pendingWithdraws.find(Object(Qt["c"])(En["d"].WITHDRAW_REQUEST,t.meta));Object(no["a"])(s,"no matching WithdrawRequest found, maybe already confirmed"),Object(no["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var l={type:En["d"].WITHDRAW_EXPIRED,message_identifier:Object(Jt["g"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:u.own.nextNonce,expiration:s.expiration};return Object(O["a"])(Object(je["g"])(o,l,{log:r})).pipe(Object(_["a"])((function(e){return oa["withdrawExpire"].success({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdrawExpire"].failure(e,t.meta))})))}function Uo(e,t,n){var r,a=n.signer,o=n.log,i=t.payload.message,c=i.token_network_address,u=i.participant;try{r=i.expiration.toNumber()}catch(p){return ve["a"]}var l={direction:Zt["a"].RECEIVED,tokenNetwork:c,partner:u,totalWithdraw:i.total_withdraw,expiration:r};return e.pipe(Object(W["a"])(),Object(N["a"])((function(e){Object(no["a"])(i.participant===t.meta.address,"participant mismatch");var n,r=_o(e,{tokenNetwork:c,partner:u},i),p=r.partner.pendingWithdraws.find(Object(Qt["c"])(En["d"].WITHDRAW_CONFIRMATION,i));if(p)n=Object(j["a"])(p);else{Object(no["a"])(i.nonce.eq(r.partner.nextNonce),["nonce mismatch",{expected:r.partner.nextNonce.toNumber(),received:i.nonce.toNumber()}]),Object(no["a"])(i.total_withdraw.lte(Object(Ee["a"])(r).partnerTotalWithdrawable),"invalid total_withdraw");var f={type:En["d"].WITHDRAW_CONFIRMATION,message_identifier:i.message_identifier,chain_id:i.chain_id,token_network_address:i.token_network_address,channel_identifier:i.channel_identifier,participant:i.participant,total_withdraw:i.total_withdraw,nonce:r.own.nextNonce,expiration:i.expiration};n=Object(O["a"])(Object(je["g"])(a,f,{log:o}))}return n.pipe(Object(N["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa["withdrawMessage"].request({message:i},l);case 2:return e.next=4,oa["withdrawMessage"].success({message:n},l);case 4:return e.next=6,kn["messageSend"].request({message:n},{address:u,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdrawMessage"].failure(e,l))})))}function Bo(e,t,n,r){var a,o=n.signer,i=n.log,c=n.config$,u=t.payload.message,l=u.token_network_address,p=u.participant;try{a=u.expiration.toNumber()}catch(d){return ve["a"]}var f={direction:Zt["a"].RECEIVED,tokenNetwork:l,partner:p,totalWithdraw:u.total_withdraw,expiration:a};return Object(h["a"])([e,c]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var n=lo(e,2),a=n[0],c=n[1].confirmationBlocks;Object(no["a"])(p===t.meta.address,"participant mismatch");var d,b=_o(a,{tokenNetwork:l,partner:p},u),y="".concat(Object(Ee["c"])(b),"+").concat(u.message_identifier.toString()),h=r.get(y);if(h)d=Object(j["a"])(h);else{Object(no["a"])(u.nonce.lte(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:u.nonce.toNumber()}]),Object(no["a"])(a.blockNumber>=f.expiration+c,"expire block not confirmed yet");var m={type:En["d"].PROCESSED,message_identifier:u.message_identifier};d=Object(O["a"])(Object(je["g"])(o,m,{log:i})).pipe(Object(E["a"])((function(e){return r.set(y,e)})))}return d.pipe(Object(N["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oa["withdrawExpire"].success({message:u},f);case 2:return e.next=4,kn["messageSend"].request({message:t},{address:p,msgId:t.message_identifier.toString()});case 4:return e.next=6,Object(oa["withdrawCompleted"])(void 0,f);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdrawExpire"].failure(e,f))})))}function Fo(e,t,n){ao(t);var r=new ro["a"](32),a=n.latest$.pipe(Object(J["g"])("state"),Object(J["b"])(e));return Object(m["a"])(e.pipe(Object(S["a"])(Object(ge["e"])([oa["transfer"].request,oa["transferUnlock"].request,oa["transferExpire"].request,oa["withdraw"].request,oa["withdrawExpire"].request]))),e.pipe(Object(S["a"])(Object(je["e"])([Object(z["j"])(En["b"]),Object(z["j"])(En["i"]),Object(z["j"])(En["a"]),Object(z["j"])(En["l"]),Object(z["j"])(En["j"]),Object(z["j"])(En["k"])])))).pipe(Object(Q["a"])((function(e){var t;switch(e.type){case oa["transfer"].request.type:t=ko(e)?To(a,e,n):ve["a"];break;case oa["transferUnlock"].request.type:t=Ao(a,e,n);break;case oa["transferExpire"].request.type:t=xo(a,e,n);break;case oa["withdraw"].request.type:t=Co(a,e,n);break;case oa["withdrawExpire"].request.type:t=Lo(a,e,n);break;case kn["messageReceived"].type:switch(e.payload.message.type){case En["d"].LOCKED_TRANSFER:t=No(a,e,n);break;case En["d"].UNLOCK:t=Io(a,e,n);break;case En["d"].LOCK_EXPIRED:t=Do(a,e,n);break;case En["d"].WITHDRAW_REQUEST:t=Uo(a,e,n);break;case En["d"].WITHDRAW_CONFIRMATION:t=Mo(a,e,n);break;case En["d"].WITHDRAW_EXPIRED:t=Bo(a,e,n,r);break}break}return t})))}function Wo(e,t){return Ko(e)||qo(e,t)||$o(e,t)||Vo()}function Vo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $o(e,t){if(e){if("string"===typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ko(e){if(Array.isArray(e))return e}function Go(e,t){return e.pipe(Object(S["a"])(Object(je["e"])(Object(z["j"])(En["f"]))),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,p,f,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Wo(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=21;break}if(f=i[o],f.direction===Zt["a"].SENT&&f.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",18);case 6:if(d={secrethash:f.secrethash,direction:Zt["a"].SENT},!r.payload.message.message_identifier.eq(f.transfer.message_identifier)){e.next=10;break}return e.next=10,Object(oa["transferProcessed"])({message:r.payload.message},d);case 10:if(!r.payload.message.message_identifier.eq(null!==(c=null===(u=f.unlock)||void 0===u?void 0:u.message_identifier)&&void 0!==c?c:-1)){e.next=15;break}return e.next=13,oa["transfer"].success({balanceProof:Object(je["d"])(f.unlock)},d);case 13:return e.next=15,Object(oa["transferUnlockProcessed"])({message:r.payload.message},d);case 15:if(!r.payload.message.message_identifier.eq(null!==(l=null===(p=f.expired)||void 0===p?void 0:p.message_identifier)&&void 0!==l?l:-1)){e.next=18;break}return e.next=18,Object(oa["transferExpireProcessed"])({message:r.payload.message},d);case 18:o++,e.next=2;break;case 21:case"end":return e.stop()}}),e)}))))}function Yo(e,t,n){var r=n.db;return e.pipe(Object(S["a"])(Object(ge["e"])([oa["transferProcessed"],oa["transferUnlockProcessed"],oa["transferExpireProcessed"]])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(U["a"])(t),Object(N["a"])((function(e){var t=Wo(e,2),n=t[0],a=t[1];return Object(Jt["f"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(_["a"])((function(e){var t=Wo(e,2),n=t[0],r=t[1];return kn["messageSend"].request(n.payload,{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Xo(e,t){return ei(e)||zo(e,t)||Zo(e,t)||Qo()}function Qo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zo(e,t){if(e){if("string"===typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jo(e,t):void 0}}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zo(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ei(e){if(Array.isArray(e))return e}function ti(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(Object(ge["e"])([oa["transferSigned"],oa["transferUnlock"].success,oa["transferExpire"].success,oa["transferSecretRequest"],oa["transferSecretReveal"]])),Object(U["a"])(t,r),Object(N["a"])((function(n){var a,o,i,c=Xo(n,3),u=c[0],s=c[1],l=c[2].revealTimeout,p=s.transfers[Object(Jt["n"])(u.meta)],f=t.pipe(Object(J["g"])("transfers",Object(Jt["n"])(u.meta)));switch(u.type){case oa["transferSigned"].type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,o=u.payload.userId,i=f.pipe(Object(S["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case oa["transferUnlock"].success.type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,o=u.payload.userId,i=f.pipe(Object(S["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case oa["transferExpire"].success.type:u.meta.direction===Zt["a"].SENT&&(a=u.payload.partner,i=f.pipe(Object(S["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case oa["transferSecretRequest"].type:u.meta.direction===Zt["a"].RECEIVED&&p&&(a=p.transfer.initiator,o=u.payload.userId,i=Object(h["a"])([t,f]).pipe(Object(S["a"])((function(e){var t=Xo(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-l}))));break;case oa["transferSecretReveal"].type:u.meta.direction===Zt["a"].RECEIVED&&p&&(a=p.partner,o=u.payload.userId,i=f.pipe(Object(S["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&i?Object(Qt["d"])(kn["messageSend"].request({message:u.payload.message,userId:o},{address:a,msgId:u.payload.message.message_identifier.toString()}),e,i,Object(Oe["b"])(r)):ve["a"]})))}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=si(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ii(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ci(e,t){return fi(e)||pi(e,t)||si(e,t)||ui()}function ui(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function si(e,t){if(e){if("string"===typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pi(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function fi(e){if(Array.isArray(e))return e}function di(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(S["a"])(Object(je["e"])(Object(z["j"])(En["g"]))),Object(U["a"])(t),Object(N["a"])(s.a.mark((function e(t){var n,o,i,c,u,l,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ci(t,2),o=n[0],i=n[1],c=o.payload.message,u=Object(Jt["n"])({secrethash:c.secrethash,direction:Zt["a"].SENT}),l=i.transfers[u],l){e.next=6;break}return e.abrupt("return");case 6:if(p=l.transfer,p.initiator===r&&p.target===o.meta.address&&p.payment_identifier.eq(c.payment_identifier)){e.next=10;break}return a.warn("Invalid SecretRequest for transfer",c,p),e.abrupt("return");case 10:return e.next=12,Object(oa["transferSecretRequest"])({message:c,userId:o.payload.userId},{secrethash:c.secrethash,direction:Zt["a"].SENT});case 12:case"end":return e.stop()}}),e)}))))}var bi=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(W["a"])(),Object(N["a"])((function(t){var a=t.state,i=a.transfers[Object(Jt["n"])(e.meta)];Object(_e["d"])(null===i||void 0===i?void 0:i.secret,["SecretRequest for unknown secret",o]);var c,u=i.transfer,l=u.target,p=i.fee,f=u.lock.amount.sub(p);if(Object(_e["d"])(o.expiration.lte(u.lock.expiration)&&o.expiration.gt(a.blockNumber),["SecretRequest for expired transfer",{request:o,lock:u.lock}]),Object(_e["d"])(o.amount.gte(f),["SecretRequest for amount too small!",{request:o,value:f}]),o.amount.eq(f)||r.info("Accepted SecretRequest for amount greater than sent",o,u),i.secretReveal)c=Object(j["a"])(i.secretReveal);else{var d={type:En["d"].SECRET_REVEAL,message_identifier:Object(Jt["g"])(),secret:i.secret};c=Object(O["a"])(Object(je["g"])(n,d,{log:r}))}return c.pipe(Object(N["a"])(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(oa["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,kn["messageSend"].request({message:n,userId:e.payload.userId},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(L["a"])((function(t){return Object(j["a"])(oa["transfer"].failure(t,e.meta))})))};function yi(e,t,n){return ii(t),e.pipe(Object(S["a"])(Object(ge["e"])(oa["transferSecretRequest"])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(Q["a"])((function(e){return bi(e,n)})))}function hi(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(Object(je["e"])(En["h"])),Object(U["a"])(t,r),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ci(t,3),r=n[0],a=n[1],o=n[2].caps,i=Object(Jt["e"])(r.payload.message.secret),c=Object.values(Zt["a"]).map((function(e){return a.transfers[Object(Jt["n"])({secrethash:i,direction:e})]})).filter(z["p"]),u=r.payload.message,l=oi(c.filter((function(e){return e.direction===Zt["a"].SENT}))),e.prev=5,l.s();case 7:if((p=l.n()).done){e.next=19;break}return f=p.value,d={secrethash:i,direction:Zt["a"].SENT},e.next=12,Object(oa["transferSecret"])({secret:u.secret},d);case 12:if(r.meta.address!==f.partner||f.channelClosed){e.next=17;break}return b=void 0,"signature"in u&&(b={userId:r.payload.userId}),e.next=17,oa["transferUnlock"].request(b,d);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](5),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:if(Object(zt["b"])(o,st["a"].RECEIVE)){e.next=29;break}return e.abrupt("return");case 29:y=oi(c.filter((function(e){return e.direction===Zt["a"].RECEIVED}))),e.prev=30,y.s();case 32:if((h=y.n()).done){e.next=38;break}return h.value,e.next=36,Object(oa["transferSecret"])({secret:u.secret},{secrethash:i,direction:Zt["a"].RECEIVED});case 36:e.next=32;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](30),y.e(e.t1);case 43:return e.prev=43,y.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,null,[[5,21,24,27],[30,40,43,46]])}))))}function mi(e,t,n){ii(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(S["a"])(Object(ge["e"])([oa["transferSecret"],oa["transferSecretRegister"].success])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED})),Object(S["a"])((function(e){return oa["transferSecret"].is(e)||!!e.payload.confirmed})),Object(Q["a"])((function(e){return o.pipe(Object(J["g"])("state"),Object(W["a"])(),Object(S["a"])((function(t){var n=t.transfers;return Object(Jt["n"])(e.meta)in n})),Object(N["a"])((function(t){var n,o=t.transfers,i=o[Object(Jt["n"])(e.meta)],c=i.secretReveal;if(c)n=Object(j["a"])(Object(z["t"])(c));else{var u={type:En["d"].SECRET_REVEAL,message_identifier:Object(Jt["g"])(),secret:e.payload.secret};n=Object(O["a"])(Object(je["g"])(a,u,{log:r}))}var s=Object(Jt["m"])(i.transfer.metadata,i.partner);return n.pipe(Object(_["a"])((function(t){return Object(oa["transferSecretReveal"])(ri({message:t},s),e.meta)})))})),Object(L["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),ve["a"]})))})))}function vi(e,t,n){ii(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$,i=n.init$,c=new it["a"];return i.next(c),Object(Z["b"])(r,a.filters.SecretRevealed(null,null),{confirmations:o.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:t.pipe(Object(J["g"])("blockNumber")),onPastCompleted:function(){c.next(null),c.complete()}}).pipe(Object(J["b"])(t),Object(_["a"])(Object(Z["e"])(a)),Object(U["a"])(t,o),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,p,f,d,b,y,h;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ci(t,3),r=ci(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],u=c.transfers,l=c.blockNumber,p=n[2].confirmationBlocks,f=0,d=Object.values(Zt["a"]);case 2:if(!(f<d.length)){e.next=13;break}if(b=d[f],y=Object(Jt["n"])({secrethash:a,direction:b}),h=u[y],h){e.next=8;break}return e.abrupt("continue",10);case 8:return e.next=10,oa["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+p<=l?i.blockNumber<h.expiration:void 0},{secrethash:a,direction:b});case 10:f++,e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))}function Oi(e){return e.pipe(Object(S["a"])(oa["transferSecretRegister"].success.is),Object(S["a"])((function(e){return!!e.payload.confirmed})),Object(_["a"])((function(e){return oa["transfer"].success({},e.meta)})))}function ji(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(U["a"])(r),Object(N["a"])((function(e){var t=ci(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(O["a"])(Object.values(a).filter((function(e){return e.direction===Zt["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(Be["a"])((function(e){return e._id}),{duration:function(e){return a.pipe(Object(P["a"])("state"),Object(S["a"])((function(t){var n=t.blockNumber,r=t.transfers,a=r[e.key];return!a||a.expiration<n||!!a.unlock||!!a.secretRegistered})))}}),Object(N["a"])((function(t){return t.pipe(Object(K["a"])((function(t){var n={secrethash:t.secrethash,direction:Zt["a"].RECEIVED};return Object(Qt["a"])(e,oa["transferSecretRegister"].request({secret:t.secret},n),Object(ge["f"])(oa["transferSecretRegister"],n))})),Object(M["a"])(t.pipe(Object(T["a"])(),Object(H["a"])(1))))})),Object(J["k"])(r.pipe(Object(P["a"])("caps"),Object(_["a"])((function(e){return Object(zt["b"])(e,st["a"].RECEIVE)})),Object(J["b"])(e))))}function gi(e,t,n){ii(t);var r=n.log,a=n.secretRegistryContract,o=n.config$;return e.pipe(Object(S["a"])(oa["transferSecretRegister"].request.is),Object(N["a"])((function(e){return Object(Ee["f"])(a,"registerSecret",[e.payload.secret],n,{error:_e["b"].XFER_REGISTERSECRET_TX_FAILED}).pipe(Object(J["j"])(Object(Oe["b"])(o),{onErrors:_e["f"],log:r.debug}),Object(T["a"])(),Object(L["a"])((function(t){return Object(j["a"])(oa["transferSecretRegister"].failure(t,e.meta))})))})))}var wi=n("fd2c");function _i(e,t){return Ti(e)||Ei(e,t)||Ai(e,t)||ki()}function ki(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ei(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ti(e){if(Array.isArray(e))return e}function Si(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ai(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ai(e,t){if(e){if("string"===typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(e,t):void 0}}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ni(e,t){return xi(e),t.pipe(Object(W["a"])(),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===ke["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=Si(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==ga["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(Qt["c"])(ga["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,oa["withdrawMessage"].request({message:c},{direction:Zt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==ga["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,oa["withdrawExpire"].success({message:c},{direction:Zt["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function Ii(e,t,n){xi(t);var r=n.getTokenNetworkContract;return e.pipe(Object(J["c"])(Bn["matrixPresence"],(function(t){return e.pipe(Object(S["a"])(oa["withdrawResolve"].is),Object(N["a"])((function(e){var n,a=Object(j["a"])(!0);if(null!==(n=e.payload)&&void 0!==n&&n.coopSettle){var o=r(e.meta.tokenNetwork);a=Object(Z["a"])(o,"cooperativeSettle")}return a.pipe(Object(Ue["a"])(t(Bn["matrixPresence"].request(void 0,{address:e.meta.partner}))),Object(_["a"])((function(t){return Object(_e["d"])(t.payload.available,"partner offline"),oa["withdraw"].request(e.payload,e.meta)})),Object(L["a"])((function(t){return Object(j["a"])(oa["withdraw"].failure(t,e.meta))})))})))})))}function Di(e,t,n){var r=n.config$;return e.pipe(Object(S["a"])(oa["withdrawMessage"].request.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(N["a"])((function(n){var a=n.payload.message,o=kn["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),i=t.pipe(Object(S["a"])((function(e){var t=e.channels[Object(Ee["b"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==ke["b"].open||t.own.pendingWithdraws.some(Object(Qt["c"])(ga["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(Qt["c"])(ga["a"].WITHDRAW_REQUEST,n.meta))})));return Object(Qt["d"])(o,e,i,Object(Oe["b"])(r))})))}function Ri(e,t,n){xi(t);var r=n.address,a=n.log,o=n.getTokenNetworkContract,i=n.latest$,c=n.config$;return e.pipe(Object(S["a"])(oa["withdrawMessage"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(Be["a"])((function(e){return Object(Ee["b"])(e.meta)})),Object(N["a"])((function(t){return t.pipe(Object(Q["a"])((function(u){return Object(h["a"])([i,c]).pipe(Object(W["a"])(),Object(N["a"])((function(i){var s=_i(i,2),l=s[0].state,p=s[1].revealTimeout,f=l.channels[t.key];Object(_e["d"])((null===f||void 0===f?void 0:f.state)===ke["b"].open,"channel not open");var d=f.own.pendingWithdraws.find(Object(Qt["c"])(ga["a"].WITHDRAW_REQUEST,u.payload.message));if(Object(_e["d"])(d,"no matching WithdrawRequest found"),"coop_settle"in d)return ve["a"];Object(_e["d"])(u.meta.totalWithdraw.gt(f.own.withdraw),"withdraw already performed"),Object(_e["d"])(d.expiration.gte(l.blockNumber+p),_e["b"].CNL_WITHDRAW_EXPIRES_SOON);var b=u.meta.tokenNetwork;return Object(Ee["f"])(o(b),"setTotalWithdraw",[f.id,r,u.meta.totalWithdraw,u.meta.expiration,d.signature,u.payload.message.signature],n,{error:_e["b"].CNL_WITHDRAW_TRANSACTION_FAILED}).pipe(Object(J["j"])(Object(Oe["b"])(c),{maxRetries:5,onErrors:_e["f"],log:a.info}),Object(N["a"])((function(t){var n=_i(t,2),r=n[1];return e.pipe(Object(S["a"])(Object(ge["f"])(oa["withdraw"],u.meta)),Object(x["a"])(1),Object(T["a"])(),Object(A["a"])(oa["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},u.meta)))})),Object(A["a"])(Object(oa["withdrawBusy"])(void 0,u.meta)))})),Object(L["a"])((function(e){return Object(j["a"])(oa["withdraw"].failure(e,u.meta))})))})))})))}function Ci(e,t,n){xi(t);var r=n.signer,a=n.log,o=new ro["a"](32);return e.pipe(Object(S["a"])(Object(ge["e"])([oa["withdrawMessage"].request,oa["withdrawMessage"].success])),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].RECEIVED!==oa["withdrawMessage"].success.is(e)})),Object(U["a"])(e.pipe(Object(zt["c"])())),Object(Q["a"])((function(e){var t=_i(e,2),n=t[0],i=t[1];return Object(me["a"])((function(){if(Object(zt["f"])(i[n.meta.partner]))return ve["a"];var e,t=n.payload.message,c=t.message_identifier.toString(),u=o.get(c);if(u)e=Object(j["a"])(u);else{var s={type:ga["a"].PROCESSED,message_identifier:t.message_identifier};e=Object(O["a"])(Object(ga["g"])(r,s,{log:a})).pipe(Object(E["a"])((function(e){return o.set(c,e)})))}return e.pipe(Object(_["a"])((function(e){return kn["messageSend"].request({message:e},{address:n.meta.partner,msgId:e.message_identifier.toString()})})))})).pipe(Object(L["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),ve["a"]})))})))}function Mi(e){return"".concat(Object(Ee["b"])(e),"|").concat(e.expiration,"|").concat(e.totalWithdraw.toString())}function Li(e,t,n){var r=n.config$,a=new Set,o=new Set;return e.pipe(Object(S["a"])($["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(U["a"])(t,r,e.pipe(Object(S["a"])(Object(ge["e"])([oa["withdrawBusy"],oa["withdraw"].success,oa["withdraw"].failure])),Object(I["a"])((function(e,t){var n=Mi(t.meta);return oa["withdrawBusy"].is(t)?e.add(n):e.delete(n),e}),o),Object(A["a"])(o))),Object(N["a"])(s.a.mark((function e(t){var n,r,o,i,c,u,l,p,f,d,b,y,h,m,v;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=_i(t,4),r=n[0],o=n[1],i=n[2],c=i.confirmationBlocks,u=i.revealTimeout,l=n[3],p=0,f=Object.values(o.channels);case 2:if(!(p<f.length)){e.next=36;break}if(d=f[p],d.state===ke["b"].open){e.next=6;break}return e.abrupt("continue",33);case 6:b=d.own.pendingWithdraws.filter(Object(Qt["c"])(ga["a"].WITHDRAW_REQUEST)),y=Si(b),e.prev=8,y.s();case 10:if((h=y.n()).done){e.next=25;break}if(m=h.value,!l.has(Mi(Object(Qt["e"])(m,d)))){e.next=14;break}return e.abrupt("continue",23);case 14:if(!m.expiration.lt(o.blockNumber+u)){e.next=20;break}if(v=m.message_identifier.toHexString(),a.has(v)){e.next=20;break}return a.add(v),e.next=20,oa["withdraw"].failure(new _e["c"](_e["b"].CNL_WITHDRAW_EXPIRED),Object(Qt["e"])(m,d));case 20:if(!m.expiration.lt(r+2*c)||d.own.pendingWithdraws.some(Object(Qt["c"])(ga["a"].WITHDRAW_EXPIRED,m))){e.next=23;break}return e.next=23,oa["withdrawExpire"].request(void 0,{direction:Zt["a"].SENT,tokenNetwork:d.tokenNetwork,partner:d.partner.address,expiration:m.expiration.toNumber(),totalWithdraw:m.total_withdraw});case 23:e.next=10;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](8),y.e(e.t0);case 30:return e.prev=30,y.f(),e.finish(30);case 33:p++,e.next=2;break;case 36:case"end":return e.stop()}}),e,null,[[8,27,30,33]])}))))}function Ui(e,t,n){xi(t);var r=n.config$;return e.pipe(Object(S["a"])(oa["withdrawExpire"].success.is),Object(S["a"])((function(e){return e.meta.direction===Zt["a"].SENT})),Object(N["a"])((function(t){var n=t.payload.message,a=kn["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),o=e.pipe(Object(S["a"])(Object(ga["f"])(Object(z["j"])(ga["b"]))),Object(S["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(x["a"])(1),Object(X["a"])(Object(oa["withdrawCompleted"])(void 0,t.meta)),Object(wi["a"])());return Object(m["a"])(Object(Qt["d"])(a,e,o,Object(Oe["b"])(r)),o)})))}var Bi,Fi=n("2111"),Wi=n("ee53"),Vi=n("c96b"),$i=n("393f"),Hi=n("b2c5"),qi=n("5e25a"),Ki=n("1e71"),Gi=n("8045"),Yi=n("aaf7");function Xi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(e,t){return rc(e)||nc(e,t)||ec(e,t)||zi()}function zi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ec(e,t){if(e){if("string"===typeof e)return tc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(e,t):void 0}}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function rc(e){if(Array.isArray(e))return e}function ac(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function oc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ac(o,r,a,i,c,"next",e)}function c(e){ac(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc,uc="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(cc||(cc={}));var sc=Fi["o"](Fi["i"]([Fi["u"]({type:Fi["k"](cc.offer),sdp:Fi["r"]}),Fi["n"]({call_id:Fi["r"]})])),lc=Fi["o"](Fi["i"]([Fi["u"]({type:Fi["k"](cc.answer),sdp:Fi["r"]}),Fi["n"]({call_id:Fi["r"]})])),pc=Fi["o"](Fi["i"]([Fi["u"]({type:Fi["k"](cc.candidates),candidates:Fi["p"](Fi["x"])}),Fi["n"]({call_id:Fi["r"]})])),fc=Fi["o"](Fi["i"]([Fi["u"]({type:Fi["k"](cc.hangup)}),Fi["n"]({call_id:Fi["r"]})])),dc=(Bi={},ic(Bi,cc.offer,sc),ic(Bi,cc.answer,lc),ic(Bi,cc.candidates,pc),ic(Bi,cc.hangup,fc),Bi);function bc(e){var t;return Array.isArray(e)&&3===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}var yc="peer hung up",hc="channel closed",mc="ping",vc=["failed","closed","disconnected"],Oc=new WeakMap;function jc(e){return gc.apply(this,arguments)}function gc(){return gc=oc(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Oc.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),Oc.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function wc(e,t,n){var r=n.peer,a=n.callId,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.log;return e.pipe(Object(S["a"])(kn["messageReceived"].is),Object(S["a"])((function(e){var t=e.meta,n=e.payload;return t.address===r.meta.address&&n.msgtype===uc})),Object(N["a"])(s.a.mark((function e(n){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(we["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(z["n"])(dc[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===i||void 0===i||i.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(S["a"])((function(e){return!a||e.call_id===a})))}function _c(e,t,n,r){var a=r.log;return Object(m["a"])(wc(t,cc.candidates,n,{log:a}).pipe(Object(E["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(N["a"])((function(e){var t;return Object(O["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(N["a"])(function(){var t=oc(s.a.mark((function t(r){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(T["a"])()),Object(Wi["a"])(e,"icecandidate").pipe(Object(P["a"])("candidate"),Object(qi["a"])(z["p"]),Object(Ki["a"])(10),Object(S["a"])((function(e){return e.length>0})),Object(E["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(_["a"])((function(e){var t={type:cc.candidates,candidates:e,call_id:n.callId};return kn["messageSend"].request({message:Object(we["c"])(t),msgtype:uc,userId:n.peer.payload.userId},{address:n.peer.meta.address,msgId:Object(Jt["g"])().toString()})}))))}function kc(e,t,n,r){var a=Ji(e,3),o=a[0],i=a[1],c=a[2],u=Ji(t,2),s=u[0],l=u[1],p=n.httpTimeout;return Object(m["a"])(Object(Wi["a"])(o,"connectionstatechange").pipe(Object(A["a"])(null),Object(N["a"])((function(){if(vc.includes(o.connectionState))throw new Error("RTC: connection failed");return ve["a"]}))),Object(Wi["a"])(i,"close").pipe(Object(_["a"])((function(){throw new Error(hc)}))),Object(Wi["a"])(i,"error").pipe(Object(P["a"])("error"),Object(N["a"])(qn["a"])),wc(s,cc.hangup,c,r).pipe(Object(_["a"])((function(){throw new Error(yc)}))),Object(Wi["a"])(i,"open").pipe(Object(x["a"])(1),Object(J["l"])(p),Object(_["a"])((function(){return r.log.info("RTC: dataChannel open",i.label),c.callId=i.label,i.send(mc),l.next(!0),l.complete(),Object(Bn["rtcChannel"])(i,c.peer.meta)}))),Object(Wi["a"])(i,"message").pipe(Object(E["a"])((function(e){return r.log.debug("RTC: dataChannel message",i.label,e)})),Object(P["a"])("data"),Object(S["a"])((function(e){return"string"===typeof e})),Object(S["a"])((function(e){return e!==mc})),Object(N["a"])((function(e){return Object(O["a"])(e.split("\n"))})),Object(Gi["a"])(Vi["a"]),Object(_["a"])((function(e){return Object(kn["messageReceived"])({text:e,message:Object(je["f"])(e,c.peer,r),ts:Date.now(),userId:c.peer.payload.userId},c.peer.meta)})))).pipe(Object(D["a"])((function(){return o.close()})))}function Ec(e,t){var n=t.config$;return function(r){var a;return Object(me["a"])((function(){return a=new it["a"],r.pipe(Object(M["a"])(a))})).pipe(Object(J["f"])(bc,Object($i["a"])(Object(U["a"])(n),Object(Y["a"])((function(n){var r=Ji(n,2),o=r[0],i=r[1];return kc(o,[e,a],i,t)})))))}}function Tc(e,t,n){var r=Ji(t,2),a=r[0],o=r[1],i=n.matrix$,c=n.config$,u=n.log,l={callId:o.call_id,peer:a};u.info("RTC: callee answering",l);var p=new it["a"];return i.pipe(Object(N["a"])(function(){var e=oc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])(c),Object(N["a"])((function(t){var r=Ji(t,2),i=r[0],c=r[1].fallbackIceServers,u=new RTCPeerConnection({iceServers:i.concat(c)}),f=0;return Object(m["a"])(_c(u,e,l,n).pipe(Object(B["a"])(Ft()(p))),Object(me["a"])(oc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setRemoteDescription(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(oc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(J["m"])(function(){var e=oc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setLocalDescription(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])((function(t){var n=Ji(t,1),r=n[0],o={type:r.type,sdp:r.sdp,call_id:l.callId},i=kn["messageSend"].request({message:Object(we["c"])(o),msgtype:uc,userId:a.payload.userId},Zi(Zi({},a.meta),{},{msgId:Object(Jt["g"])().toString()}));return Object(Qt["a"])(e,i,Object(ge["g"])(kn["messageSend"],i.meta))})),Object(D["a"])((function(){return p.next(!0),p.complete()}))),Object(Wi["a"])(u,"datachannel").pipe(Object(_["a"])((function(e){var t=e.channel;return++f,[u,t,l]})),Object(x["a"])(1),Object(D["a"])((function(){return f?null:u.close()}))))})),Ec(e,n))}function Sc(e,t,n,r){var a=Ji(n,2),o=a[0],i=a[1];return Object(m["a"])(wc(o,cc.answer,t[2],r).pipe(Object(x["a"])(1),Object(N["a"])(function(){var e=oc(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.log.info("RTC: got answer",n.call_id),e.next=3,t[0].setRemoteDescription(n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(){return i.next(!0),i.complete()}))),Object(Qt["a"])(o,e,Object(ge["g"])(kn["messageSend"],e.meta)).pipe(Object(H["a"])(t)))}function Ac(e,t,n){var r=n.matrix$,a=n.config$,o=n.log,i=n.address;return r.pipe(Object(N["a"])(function(){var e=oc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",jc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])(a),Object(N["a"])((function(r){var a=Ji(r,2),c=a[0],u=a[1].fallbackIceServers,l={callId:"".concat(i,"|").concat(e.meta.address,"|").concat(Date.now()),peer:e};o.info("RTC: caller calling",l);var p=new RTCPeerConnection({iceServers:c.concat(u)}),f=p.createDataChannel(l.callId,{ordered:!1}),d=new it["a"],b=0;return Object(m["a"])(_c(p,t,l,n).pipe(Object(B["a"])(Ft()(d))),Object(me["a"])(oc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(N["a"])(function(){var e=oc(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])((function(e){var r={type:e.type,sdp:e.sdp,call_id:l.callId},a=kn["messageSend"].request({message:Object(we["c"])(r),msgtype:uc,userId:l.peer.payload.userId},{address:l.peer.meta.address,msgId:Object(Jt["g"])().toString()});return Sc(a,[p,f,l],[t,d],n)})))).pipe(Object(S["a"])((function(e){return!bc(e)||!b++})),Object(D["a"])((function(){return b?null:p.close()})))})),Ec(t,n))}function Pc(e,t,n){return e.pipe(Object(J["c"])(Bn["matrixPresence"],(function(r){return r(Bn["matrixPresence"].request(void 0,{address:t})).pipe(Object(N["a"])((function(t){return Object(_e["d"])(Object(zt["b"])(t.payload.caps,st["a"].WEBRTC),"peer doesn't support RTC"),Ac(t,e,n)})))})))}function xc(e,t,n){var r=n.log,a=n.config$;return Object($i["a"])(Object(Y["a"])((function(n){var o,i,c=Ji(n,3),u=c[2];return u.pipe(Object(E["a"])((function(e){!o&&Bn["rtcChannel"].is(e)&&e.payload&&t.next([!0,o=e.payload])})),Object(L["a"])((function(t){return r.info("RTC: callee channel error",e,t.message),i=t,ve["a"]})),Object(M["a"])(a.pipe(Object(k["a"])((function(e,t){var n=e.caps,r=t.caps;return y()(n,r)})),Object(F["a"])(1),Object(B["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})))),Object(D["a"])((function(){r.info("RTC: callee disconnecting",e),o&&t.next([!1,o,i])})),Object(M["a"])(t.pipe(Object(S["a"])((function(e){var t=Ji(e,2),n=t[0],r=t[1];return n&&r!==o})))))})))}function Nc(e,t,n){var r=n.log,a=n.config$;return Object($i["a"])(Object(K["a"])((function(n){var o,i,c=Ji(n,3),u=c[2];return Object(me["a"])((function(){return o=void 0,i=void 0,u.pipe(Object(E["a"])({next:function(e){!o&&Bn["rtcChannel"].is(e)&&e.payload&&t.next([!0,o=e.payload])},error:function(t){r.info("RTC: caller channel error",e,t.message),i=t}}),Object(M["a"])(a.pipe(Object(k["a"])((function(e,t){var n=e.caps,r=t.caps;return y()(n,r)})),Object(F["a"])(1),Object(B["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})))),Object(D["a"])((function(){o&&t.next([!1,o,i])})))})).pipe(Object(Yi["a"])(Object($i["a"])(Object(U["a"])(a),Object(N["a"])((function(t,n){var a=Ji(t,2),o=a[1],i=o.pollingInterval,c=o.httpTimeout;if(n>=5)return Object(j["a"])(!0);var u=Math.min(i*Math.pow(2,n),2*c);return r.info("RTC: caller retrying in",u,e,n),Object(g["a"])(u)})),Object(qi["a"])((function(e){return!0!==e})),Object(D["a"])((function(){return r.info("RTC: caller giving up",e)})))),Object(M["a"])(t.pipe(Object(S["a"])((function(e){var t=Ji(e,2),n=t[0],r=t[1];return n&&r!==o})))))})))}function Ic(){return function(e){return e.pipe(Object(S["a"])(kn["messageReceived"].is),Object(U["a"])(e.pipe(Object(zt["d"])())),Object(S["a"])((function(e){var t=Ji(e,2),n=t[0],r=t[1];return n.payload.msgtype===uc&&!!n.payload.userId&&n.payload.userId in r})),Object(N["a"])(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ji(t,2),r=n[0],a=n[1],e.prev=1,o=Object(we["b"])(r.payload.text),o["type"]!==cc.offer){e.next=6;break}return e.next=6,[a[r.payload.userId],Object(z["n"])(dc[cc.offer],o)];case 6:e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])}))))}}function Dc(e,t){var n=t.address,r=t.config$,a=ve["a"];return $["channelMonitored"].is(e)?a=Object(j["a"])(e.meta.partner):oa["transferSigned"].is(e)?e.meta.direction!==Zt["a"].RECEIVED||e.payload.message.target!==n||"secret"in e.payload.message.metadata||(a=Object(j["a"])(e.payload.message.initiator)):kn["messageSend"].request.is(e)&&e.payload.msgtype!==uc?a=Object(j["a"])(e.meta.address):Bn["rtcChannel"].is(e)&&!e.payload&&(a=r.pipe(Object(W["a"])(),Object(N["a"])((function(e){var t=e.pollingInterval;return Object(g["a"])(t)})),Object(X["a"])(e.meta.address))),a}function Rc(e,t){return Object($i["a"])(Object(N["a"])(s.a.mark((function n(r){var a,o,i,c,u,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=Ji(r,3),o=a[0],i=a[1],c=a[2],!o){n.next=4;break}return t.push(i),n.abrupt("return");case 4:if(Object(z["q"])(t)!==i){n.next=10;break}return t.pop(),n.next=8,Object(Bn["rtcChannel"])(Object(z["q"])(t),{address:e});case 8:n.next=12;break;case 10:u=t.indexOf(i),u>=0&&t.splice(u,1);case 12:if(Object(_e["g"])([yc,hc],c)){n.next=16;break}return l={type:cc.hangup,call_id:i.label},n.next=16,kn["messageSend"].request({message:Object(we["c"])(l),msgtype:uc},{address:e,msgId:Object(Jt["g"])().toString()});case 16:case"end":return n.stop()}}),n)}))))}function Cc(e,t,n){Xi(t);var r=e.pipe(Ic(),Object(_["a"])((function(t){var r=Ji(t,2),a=r[0],o=r[1];return[a.meta.address,"callee",Tc(e,[a,o],n)]}))),a=e.pipe(Object(N["a"])((function(e){return Dc(e,n)})),Object(_["a"])((function(t){return[t,"caller",Pc(e,t,n)]})));return Object(m["a"])(r,a).pipe(Object(Be["a"])((function(e){var t=Ji(e,1),n=t[0];return n})),Object(N["a"])((function(t){var r=t.key,a=[],o=new Hi["a"];return Object(m["a"])(t.pipe(Object(Be["a"])((function(e){var t=Ji(e,2),n=t[1];return n})),Object(N["a"])((function(e){return"callee"===e.key?e.pipe(xc(r,o,n)):e.pipe(Object(S["a"])((function(){return!a.length})),Nc(r,o,n))})),Object(J["b"])(e),Object(D["a"])((function(){return setTimeout((function(){return o.complete()}),10)}))),o.pipe(Rc(r,a)))})),Object(J["k"])(n.config$.pipe(Object(P["a"])("caps",st["a"].WEBRTC),Object(J["b"])(e))))}var Mc=n("178d"),Lc=n("b993"),Uc=n("0223");n("759f");function Bc(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function Fc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Wc(e,t){return Kc(e)||qc(e,t)||$c(e,t)||Vc()}function Vc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $c(e,t){if(e){if("string"===typeof e)return Hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hc(e,t):void 0}}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qc(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Kc(e){if(Array.isArray(e))return e}function Gc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Yc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gc(o,r,a,i,c,"next",e)}function c(e){Gc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xc(e){return Qc.apply(this,arguments)}function Qc(){return Qc=Yc(s.a.mark((function e(t){var n,r,a,o=arguments;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 4:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function Zc(e,t,n){var r=n.matrix$,a=n.config$,o=n.init$;return e.pipe(Object(S["a"])(Bn["matrixSetup"].is),Object(x["a"])(1),Object(E["a"])((function(){r.next(t),r.complete()})),Object(N["a"])((function(){return Object(me["a"])(Yc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([Xc(t),t.setPushRuleEnabled("global","override",".m.rule.master",!0)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(B["a"])((function(){return o.pipe(Object(T["a"])(),Object(H["a"])(!0))})),Object(N["a"])(function(){var e=Yc(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Wc(n,1),a=r[0],e.abrupt("return",t.startClient({filter:a}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(J["j"])(Object(Oe["b"])(a),{onErrors:_e["h"],maxRetries:3}))})),Object(T["a"])())}function Jc(e,t){return e.includes("://")||(e="https://"+e),Object(me["a"])((function(){var n=Date.now();return Object(Kn["a"])(e+"/_matrix/client/versions").pipe(Object(Gn["a"])(t),Object(_["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(L["a"])((function(){return Object(j["a"])(NaN)})),Object(_["a"])((function(t){return{server:e,rtt:t-n}})))}))}var zc=Fi["u"]({active_servers:Fi["c"](Fi["r"]),all_servers:Fi["c"](Fi["r"])});function eu(e,t){return Object(Kn["a"])(e).pipe(Object(N["a"])(function(){var t=Yc(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(no["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Gn["a"])(t),Object(N["a"])((function(e){return Object(z["n"])(zc,e).active_servers})),Object(N["a"])((function(e){return Jc(e,t)})),Object(ct["a"])(),Object(N["a"])((function(e){return ot()(e,["rtt"])})),Object(S["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(Uc["a"])((function(){return new _e["c"](_e["b"].TRNS_NO_MATRIX_SERVERS)})))}function tu(e,t,n){var r=n.address,a=n.signer,o=n.config$,i=Bc(e);return Object(no["a"])(i,[_e["b"].TRNS_NO_SERVERNAME,{server:e}]),o.pipe(Object(W["a"])(),Object(N["a"])((function(n){var c=n.pollingInterval;if(t){var u=Object(Mc["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(j["a"])({matrix:u,server:e,setup:t,pollingInterval:c})}var l=Object(Mc["createClient"])({baseUrl:e}),p=r.toLowerCase(),f="@".concat(p,":").concat(i);return Object(O["a"])(a.signMessage(i)).pipe(Object(N["a"])((function(e){return Object(me["a"])(Yc(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:p},password:e,device_id:st["j"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(L["a"])(function(){var t=Yc(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.registerRequest({username:p,password:e,device_id:st["j"]});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),n;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()),Object(J["j"])(Object(Oe["b"])(o),{onErrors:_e["h"],maxRetries:3}))})),Object(N["a"])((function(t){var n=t.access_token,r=t.device_id,o=t.user_id;return Object(no["a"])(o===f,["Wrong login/register user_id",{user_id:o,userId:f}]),l.deviceId=r,l.http.opts.accessToken=n,l.credentials={userId:f},Object(O["a"])(a.signMessage(f)).pipe(Object(_["a"])((function(t){return{matrix:l,server:e,setup:{userId:f,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(N["a"])((function(e){var t=e.matrix,n=e.server,r=e.setup;return Object(me["a"])(Yc(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setDisplayName(r.displayName));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(J["j"])(Object(Oe["b"])(o),{onErrors:_e["h"]}),Object(X["a"])({matrix:t,server:n,setup:r}))})))}function nu(e,t,n){Fc(t);var r=n.matrix$,a=n.latest$,o=n.config$,i=n.init$;return Object(h["a"])([a,o]).pipe(Object(W["a"])(),Object(N["a"])((function(e){var t=Wc(e,2),a=t[0].state,o=t[1],c=o.matrixServer,u=o.matrixServerLookup,s=o.httpTimeout,l=a.transport.server,p=a.transport.setup;i.next(r);var f,d=[];c?(c===l&&d.push(Object(j["a"])({server:l,setup:p})),d.push(Object(j["a"])({server:c}))):(l&&d.push(Object(j["a"])({server:l,setup:p})),d.push(Object(Yn["a"])(void 0,n,!0).pipe(Object(_["a"])((function(e){var t=e.matrixServer;return{server:t}})))),d.push(eu(u,s)));var b=function(e){return f=e,ve["a"]};return Object(me["a"])((function(){return d.shift()||ve["a"]})).pipe(Object(L["a"])(b),Object(Q["a"])((function(e){var t=e.server,r=e.setup;return tu(t,r,n).pipe(Object(L["a"])(b))})),Object(W["a"])(),Object(E["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(Yi["a"])((function(e){return e.pipe(Object(N["a"])((function(){if(d.length)return Object(j["a"])(null);throw f})))})))})),Object(N["a"])((function(t){var r=t.matrix,a=t.server,i=t.setup;return Object(m["a"])(Zc(e,r,n),Object(j["a"])(Object(Bn["matrixSetup"])({server:a,setup:i})),o.pipe(Object(J["g"])("logger"),Object(E["a"])((function(e){return Lc["logger"].setLevel(e||"silent",!1)})),Object(T["a"])()))})),Object(J["b"])(e))}function ru(e,t,n){Fc(t);var r=n.matrix$;return e.pipe(Object(U["a"])(r),Object(J["e"])(function(){var e=Yc(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(T["a"])())}var au=n("6c09"),ou=n.n(au),iu=n("d495"),cu=n("78b8");function uu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){pu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fu(e,t){return yu(e)||bu(e,t)||Ou(e,t)||du()}function du(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function yu(e){if(Array.isArray(e))return e}function hu(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function mu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hu(o,r,a,i,c,"next",e)}function c(e){hu(o,r,a,i,c,"throw",e)}i(void 0)}))}}function vu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ou(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ou(e,t){if(e){if("string"===typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gu(e){return"string"===typeof e?e:Object(je["c"])(e)}var wu="m.text";function _u(e){var t;return null!==(t=e.payload.msgtype)&&void 0!==t?t:wu}function ku(e,t){for(var n=0,r=new Map,a=0;a<e.length&&n<t;a++){var o=e[a],i=o.payload.userId,c=r.get(i),u=c&&_u(o)!==_u(c[0]);u||(e.splice(a--,1),c?c.push(o):r.set(i,[o]),n++)}return r}function Eu(e,t){if(!e.length)return ve["a"];var n,r=Date.now(),a=ku(e,20),o={},i=vu(a);try{for(i.s();!(n=i.n()).done;){var c=fu(n.value,2),u=c[0],l=c[1],p=l.map((function(e){return gu(e.payload.message)})).join("\n"),f={msgtype:_u(l[0]),body:p};o[u]=pu({},"*",f)}}catch(b){i.e(b)}finally{i.f()}var d=-1;return t.matrix$.pipe(Object(N["a"])(function(){var e=mu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d++,e.abrupt("return",t.sendToDevice("m.room.message",o));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(J["j"])(Object(Oe["b"])(t.config$),{maxRetries:3,onErrors:_e["h"],log:t.log.warn}),Object(N["a"])(s.a.mark((function e(){var t,n,o,i,c,u,l,p,f;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Date.now()-r,n=vu(a),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=25;break}i=fu(o.value,2),c=i[0],u=i[1],l=vu(u),e.prev=7,l.s();case 9:if((p=l.n()).done){e.next=15;break}return f=p.value,e.next=13,Object(j["a"])(kn["messageSend"].success({via:c,tookMs:t,retries:d},f.meta));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])}))),Object(L["a"])(s.a.mark((function e(t){var n,r,o,i,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=vu(a),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=24;break}o=fu(r.value,2),i=o[1],c=vu(i),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=14;break}return l=u.value,e.next=12,Object(j["a"])(kn["messageSend"].failure(t,l.meta));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))))}function Tu(e,t){var n=[];return e.pipe(Object(E["a"])((function(e){var t=fu(e,2),r=t[0],a=t[1];return n.push(lu(lu({},r),{},{payload:lu(lu({},r.payload),{},{userId:a})}))})),Object(Q["a"])((function(){return Object(me["a"])((function(){return Eu(n,t)}))})),Object(N["a"])((function(t){return t.pipe(Object(J["b"])(e,10))})))}function Su(e){return e.pipe(Object(_["a"])((function(e){var t=fu(e,2),n=t[0],r=t[1];try{var a=Date.now();r.send(gu(n.payload.message));var o={via:r.label,tookMs:Date.now()-a,retries:0};return kn["messageSend"].success(o,n.meta)}catch(i){return kn["messageSend"].failure(i,n.meta)}})))}function Au(e,t,n){return uu(t),e.pipe(Object(J["c"])(Bn["matrixPresence"],(function(t){var r=e.pipe(Object(S["a"])(kn["messageSend"].request.is),Object(J["m"])((function(r){var a=r.meta.address,o=_u(r)!==wu?ve["a"]:n.latest$.pipe(Object(P["a"])("rtc",a),Object(S["a"])(z["p"]),Object(S["a"])((function(e){var t=e.readyState;return"open"===t}))),i=r.payload.userId?Object(j["a"])(r.payload.userId):t(Bn["matrixPresence"].request(void 0,{address:a})).pipe(Object(P["a"])("payload","userId"),Object(L["a"])((function(e){return Object(j["a"])(e)})));return Object(m["a"])(o,i).pipe(Object(x["a"])(1),Object(J["b"])(e))})),Object(wi["a"])()),a=Object(iu["a"])(r,(function(e){var t=fu(e,2),n=t[1];return!!n&&(null===n||void 0===n?void 0:n.readyState)})),o=fu(a,2),i=o[0],c=o[1],u=Object(iu["a"])(c,(function(e){var t=fu(e,2),n=t[1];return"string"===typeof n})),s=fu(u,2),l=s[0],p=s[1],f=Su(i),d=Tu(l,n),b=p.pipe(Object(_["a"])((function(e){var t=fu(e,2),n=t[0],r=t[1];return kn["messageSend"].failure(r,n.meta)})));return Object(m["a"])(b,f,d)}),void 0,(function(e){var t=e.meta;return t.address})))}function Pu(e,t){var n=t.matrix$,r=t.config$,a=t.latest$;return n.pipe(Object(U["a"])(a,r),Object(J["m"])((function(e){var n=fu(e,3),r=n[2].additionalServices;return Object(O["a"])(r).pipe(Object(N["a"])((function(e){return z["a"].is(e)?Object(j["a"])(e):Object(me["a"])(mu(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(Yn["d"])(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(L["a"])(Ft()(ve["a"])))}),5),Object(ct["a"])())})),Object(N["a"])((function(t){var n=fu(t,2),a=fu(n[0],2),o=a[0],i=a[1].state,c=n[1],u=ou()(c.concat(Object.keys(i.services)));Object(_e["d"])(u.length,"no services to messageServiceSend to");var l=Bc(o.getHomeserverUrl()),p=u.map((function(e){return"@".concat(e.toLowerCase(),":").concat(l)})),f={msgtype:"m.text",body:gu(e.payload.message)},d=Object.fromEntries(p.map((function(t){return[t,pu({},Tn["p"][e.meta.service],f)]}))),b=Date.now(),y=-1;return Object(me["a"])(mu(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return y++,t.next=3,o.sendToDevice("m.room.message",d);case 3:return t.abrupt("return",kn["messageServiceSend"].success({via:p,tookMs:Date.now()-b,retries:y},e.meta));case 4:case"end":return t.stop()}}),t)})))).pipe(Object(J["j"])(Object(Oe["b"])(r),{maxRetries:3,onErrors:_e["h"]}))})),Object(L["a"])((function(t){return Object(j["a"])(kn["messageServiceSend"].failure(t,e.meta))})))}function xu(e,t,n){return uu(t),e.pipe(Object(S["a"])(Object(ge["e"])(kn["messageServiceSend"].request)),Object(B["a"])((function(){return n.init$.pipe(Object(T["a"])(),Object(H["a"])(!0))})),Object(N["a"])((function(e){return Pu(e,n)}),5))}function Nu(e,t,n){uu(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return e.pipe(Object(J["c"])(Bn["matrixPresence"],(function(t){return a.pipe(Object(J["m"])((function(e){return Object(Wi["a"])(e,"toDeviceEvent")})),Object(S["a"])((function(e){var t=fu(e,2),n=t[0],r=t[1];return"m.room.message"===r.getType()&&r.getSender()!==n.getUserId()})),Object(P["a"])(1),Object(U["a"])(o,e.pipe(Object(zt["d"])())),Object(J["m"])((function(e){var n=fu(e,3),r=n[0],a=n[1].httpTimeout,o=n[2],c=r.getSender(),u=o[c];return u?Object(j["a"])(u):i.pipe(Object(J["g"])("whitelisted"),Object(_["a"])((function(e){var t=Object(zt["a"])(c);if(t&&e.includes(t))return t})),Object(S["a"])(z["p"]),Object(x["a"])(1),Object(M["a"])(Object(g["a"])(a)),Object(N["a"])((function(e){return t(Bn["matrixPresence"].request(void 0,{address:e}))})),Object(L["a"])(Ft()(ve["a"])))})),Object(J["b"])(e),Object(N["a"])((function(e){var t,n=fu(e,2),a=fu(n[0],1),o=a[0],i=n[1],c=(null!==(t=o.getContent().body)&&void 0!==t?t:"").split("\n");return Object(cu["a"])(c,Vi["a"]).pipe(Object(_["a"])((function(e){var t;return o.getContent().msgtype===wu&&(t=Object(je["f"])(e,i,{log:r})),Object(kn["messageReceived"])(lu(lu({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:o.getSender()},o.getContent().msgtype?{msgtype:o.getContent().msgtype}:{}),i.meta)})))})))})))}function Iu(e,t,n){uu(t);var r=n.log,a=n.signer,o=new ro["a"](32);return e.pipe(Object(S["a"])(Object(je["e"])([Object(z["j"])(En["f"]),Object(z["j"])(En["g"]),Object(z["j"])(En["h"])])),Object(U["a"])(e.pipe(Object(zt["c"])())),Object(S["a"])((function(e){var t=fu(e,2),n=t[0],r=t[1];return!Object(zt["f"])(r[n.meta.address])})),Object(Q["a"])((function(e){var t=fu(e,1),n=t[0],i=n.payload.message;return Object(me["a"])((function(){var e=i.message_identifier,t=e.toString(),c=o.get(t);if(c)return Object(j["a"])(kn["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var u={type:En["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(u.type,'" for "').concat(i.type,'" with id=').concat(e.toString())),Object(O["a"])(Object(je["g"])(a,u,{log:r})).pipe(Object(E["a"])((function(e){return o.set(t,e)})),Object(_["a"])((function(e){return kn["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}var Du=n("ffef");function Ru(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Cu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ru(o,r,a,i,c,"next",e)}function c(e){Ru(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Mu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Lu(e,t){return Vu(e)||Wu(e,t)||Bu(e,t)||Uu()}function Uu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bu(e,t){if(e){if("string"===typeof e)return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fu(e,t):void 0}}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Vu(e){if(Array.isArray(e))return e}function $u(e,t,n){return t.pipe(Object(U["a"])(n.config$),Object(Q["a"])((function(t){var r=Lu(t,2),a=r[0].url,o=r[1].httpTimeout;return Object(Yn["b"])(e,a,n).pipe(Object(Gn["a"])(o),Object(J["a"])({onErrors:_e["h"],log:n.log.debug},"Error fetching presence from service",e,a))})),Object(W["a"])(),Object(L["a"])((function(t){return Object(j["a"])(Bn["matrixPresence"].failure(t,{address:e}))})))}function Hu(e,t,n){Mu(t);var r=n.latest$,a=n.config$,o=new Map,i=Object(Yn["a"])(void 0,n,!0).pipe(Object(Du["a"])());return e.pipe(Object(E["a"])((function(e){Bn["matrixPresence"].success.is(e)?o.set(e.meta.address,e):Bn["matrixPresence"].failure.is(e)&&o.delete(e.meta.address)})),Object(S["a"])(Object(ge["e"])(Bn["matrixPresence"].request)),Object(Be["a"])((function(e){return e.meta.address})),Object(N["a"])((function(e){return e.pipe(Object(U["a"])(r,a),Object(K["a"])((function(e){var t=Lu(e,3),r=t[0],a=t[1].rtc,c=t[2].pollingInterval,u=r.meta.address,s=o.get(u);return s&&(Date.now()-s.payload.ts<c||u in a)?Object(j["a"])(s):$u(u,i,n)})))})))}function qu(e){return e.pipe(Object(S["a"])($["channelMonitored"].is),Object(_["a"])((function(e){return Bn["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Ku(e,t,n){Mu(t);var r=n.matrix$,a=n.config$,o=n.init$;return a.pipe(Object(J["b"])(e),Object(P["a"])("caps"),Object(k["a"])(y.a),Object(U["a"])(o.pipe(Object(T["a"])(),Object(A["a"])(!1),Object(H["a"])(!0))),Object(Y["a"])((function(e){var t=Lu(e,2),n=t[0],o=t[1];return r.pipe(Object(J["m"])(function(){var e=Cu(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setAvatarUrl(n&&!rt()(n)?Object(zt["g"])(n):""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(S["a"])((function(){return o})),Object(J["m"])(function(){var e=Cu(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Lu(t,1),r=n[0],e.abrupt("return",r.setPresence({presence:"offline",status_msg:""}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(J["m"])(function(){var e=Cu(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Lu(t,1),r=Lu(n[0],1),a=r[0],e.abrupt("return",a.setPresence({presence:"online",status_msg:Date.now().toString()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(J["j"])(Object(Oe["b"])(a)))})),Object(T["a"])())}function Gu(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Yu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gu(o,r,a,i,c,"next",e)}function c(e){Gu(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Xu(e,t){return es(e)||zu(e,t)||Zu(e,t)||Qu()}function Qu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zu(e,t){if(e){if("string"===typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ju(e,t):void 0}}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function es(e){if(Array.isArray(e))return e}function ts(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ns(e,t,n){ts(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(J["m"])((function(e){return Object(Wi["a"])(e,"Room")})),Object(U["a"])(o),Object(B["a"])((function(e){var t=Xu(e,2),n=t[1].httpTimeout;return Object(g["a"])(Math.round((.5+.5*Math.random())*n))})),Object(J["b"])(t),Object(S["a"])((function(e){var t=Xu(e,1),n=Xu(t[0],2),r=n[1],a=r.getMyMembership();return!(!a||"leave"===a)})),Object(N["a"])(function(){var e=Yu(s.a.mark((function e(t){var n,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Xu(t,1),a=Xu(n[0],2),o=a[0],i=a[1],r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(T["a"])())}function rs(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function as(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rs(o,r,a,i,c,"next",e)}function c(e){rs(o,r,a,i,c,"throw",e)}i(void 0)}))}}function os(e){return us(e)||cs(e)||ps(e)||is()}function is(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cs(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function us(e){if(Array.isArray(e))return fs(e)}function ss(e,t){return bs(e)||ds(e,t)||ps(e,t)||ls()}function ls(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ps(e,t){if(e){if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fs(e,t):void 0}}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function bs(e){if(Array.isArray(e))return e}function ys(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e){var t,n=e.stale,r=e.udcDeposit,a=e.config.monitoringReward;return t={},vs(t,st["a"].RECEIVE,!n&&null!==a&&void 0!==a&&a.gt(0)&&a.lte(r.balance)?1:0),vs(t,st["a"].WEBRTC,"RTCPeerConnection"in globalThis?1:0),t}function js(e,t,n){return null===n?n:void 0!==n?ms(ms(ms({},e),t),n):null===t?t:ms(ms({},e),t)}function gs(e,t,n){ys(e);var r=n.defaultConfig,a=n.latest$;return Object(h["a"])([t.pipe(Object(J["g"])("config","caps")),a]).pipe(Object(_["a"])((function(e){var t=ss(e,2),n=t[0],a=t[1];return js(Os(a),r.caps,n)})),Object(k["a"])(y.a),Object(_["a"])((function(e){return Object(V["c"])({caps:e})})),Object(J["b"])(t))}function ws(e,t,n){ys(t);var r=n.config$,a=n.log,o=n.provider;return Object(m["a"])(r.pipe(Object(J["g"])("logger"),Object(E["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object(J["g"])("pollingInterval"),Object(E["a"])((function(e){return o.pollingInterval=e})))).pipe(Object(T["a"])(),Object(J["b"])(e))}var _s={configCapsEpic:gs,configReactEpic:ws};function ks(e,t,n){var r=n.defaultConfig,a=n.mediationFeeCalculator,o={balance:l["b"],totalDeposit:l["b"]},i=!1,c=e.pipe(Object(S["a"])(jn["udcDeposit"].success.is),Object(S["a"])((function(e){return!("confirmed"in e.payload)||!!e.payload.confirmed})),Object(_["a"])((function(e){return{balance:e.payload.balance,totalDeposit:e.meta.totalDeposit}})),Object(A["a"])(o),Object(k["a"])((function(e,t){var n=e.balance,r=t.balance;return n.eq(r)}))),u=e.pipe(Object(S["a"])($["blockTime"].is),Object(P["a"])("payload","blockTime"),Object(A["a"])(15e3)),s=e.pipe(Object(S["a"])($["blockStale"].is),Object(P["a"])("payload","stale"),Object(A["a"])(i)),f=Object(m["a"])(t.pipe(Object(x["a"])(1),Object(P["a"])("config"),Object(_["a"])((function(e){var t=e.caps,n=e.monitoringReward;return js(Os({udcDeposit:o,stale:i,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(S["a"])(V["c"].is),Object(P["a"])("payload","caps"))),b=Object(h["a"])([t.pipe(Object(J["g"])("config")),f]).pipe(Object(_["a"])((function(e){var t=ss(e,2),n=t[0],o=t[1];return ms(ms(ms({},r),n),{},{caps:o,mediationFees:a.decodeConfig(n.mediationFees,r.mediationFees)})}))),y=t.pipe(Object(x["a"])(1),Object(N["a"])((function(t){var n=Object(p["uniq"])(Object.values(t.channels).map((function(e){var t=e.partner;return t.address})));return e.pipe(Object(S["a"])(Bn["matrixPresence"].request.is),Object(I["a"])((function(e,t){return e.includes(t.meta.address)?e:[].concat(os(e),[t.meta.address])}),n),Object(A["a"])(n),Object(k["a"])())}))),v=e.pipe(Object(S["a"])(Bn["rtcChannel"].is),Object(I["a"])((function(e,t){return t.payload?ms(ms({},e),{},vs({},t.meta.address,t.payload)):d()(t.meta.address,e)}),{}),Object(A["a"])({}));return Object(h["a"])([Object(h["a"])([e,t,b,y,v]),Object(h["a"])([c,u,s])]).pipe(Object(_["a"])((function(e){var t=ss(e,2),n=ss(t[0],5),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=ss(t[1],3),s=u[0],l=u[1],p=u[2];return{action:r,state:a,config:o,whitelisted:i,rtc:c,udcDeposit:s,blockTime:l,stale:p}})))}function Es(e,t,n){return ks(e,t,n).pipe(Object(E["a"])(n.latest$),Object(D["a"])(n.latest$.complete.bind(n.latest$)),Object(T["a"])())}var Ts=ms(ms(ms(ms(ms(ms({},_s),r),i),o),c),a);function Ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(Ts);return function(t,n,r){var a=t.pipe(Object(S["a"])(V["e"].is)),o=new v["a"]([]),i=Object(O["a"])(e).pipe(Object(A["a"])(Es),Object(N["a"])((function(e){e===Es?o.next(o.value.concat(e)):o.next(o.value.slice(0,-1).concat(e,Object(z["q"])(o.value)));var i=o.pipe(Object(R["a"])(a),Object(C["a"])(a),Object(S["a"])((function(t){var n=ss(t,1),r=n[0];return r[0]===e})));return e(t.pipe(Object(M["a"])(i)),n.pipe(Object(M["a"])(i)),r).pipe(Object(L["a"])((function(t){return r.log.error("Epic error",e.name,e,t),Object(j["a"])(Object(V["e"])({reason:t}))})),Object(M["a"])(i.pipe(Object(U["a"])(r.config$),Object(B["a"])((function(e){var t=ss(e,2),n=(t[0],t[1].httpTimeout);return Object(g["a"])(n)})),Object(E["a"])((function(){return r.log.warn("Epic stuck:",e.name,e)})))),Object(D["a"])((function(){o.next(o.value.filter((function(t){return t!==e})))})))})),Object(M["a"])(a.pipe(Object(F["a"])(1)))),c=r.db.busy$.pipe(Object(W["a"])((function(e){return!e})),Object(E["a"])((function(){return r.db.busy$.next(!0)})),Object(L["a"])((function(){return Object(j["a"])(null)})),Object(N["a"])(as(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(T["a"])(),Object(D["a"])((function(){r.db.busy$.next(!1),r.db.busy$.complete()})));return Object(w["a"])(i,c)}}},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return A})),n.d(t,"l",(function(){return N})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return C})),n.d(t,"c",(function(){return H}));var r,a=n("2111"),o=n("9201"),i=n("d011"),c=n("ca14");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var u=a["o"](a["u"]({message_identifier:Object(c["l"])(8)})),s=a["o"](a["u"]({type:a["k"](r.DELIVERED),delivered_message_identifier:Object(c["l"])(8)})),l=s,p=a["o"](a["i"]([a["u"]({type:a["k"](r.PROCESSED)}),u])),f=p,d=a["o"](a["i"]([a["u"]({type:a["k"](r.SECRET_REQUEST),payment_identifier:Object(c["l"])(8),secrethash:c["c"],amount:Object(c["l"])(32),expiration:Object(c["l"])(32)}),u])),b=d,y=a["o"](a["i"]([a["u"]({type:a["k"](r.SECRET_REVEAL),secret:c["h"]}),u])),h=y,m=a["o"](a["i"]([a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),nonce:Object(c["l"])(8),transferred_amount:Object(c["l"])(32),locked_amount:Object(c["l"])(32),locksroot:c["c"]}),u])),v=a["o"](a["i"]([a["u"]({route:i["g"]}),i["m"]])),O=v,j=a["o"](a["u"]({routes:a["p"](O)})),g=j,w=a["o"](a["i"]([a["u"]({payment_identifier:Object(c["l"])(8),token:c["a"],recipient:c["a"],lock:o["d"],target:c["a"],initiator:c["a"],metadata:a["x"]}),m])),_=a["o"](a["i"]([a["u"]({type:a["k"](r.LOCKED_TRANSFER)}),w])),k=_,E=a["o"](a["i"]([a["u"]({type:a["k"](r.UNLOCK),payment_identifier:Object(c["l"])(8),secret:c["h"]}),m])),T=E,S=a["o"](a["i"]([a["u"]({type:a["k"](r.LOCK_EXPIRED),recipient:c["a"],secrethash:c["c"]}),m])),A=S,P=a["o"](a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),participant:c["a"],total_withdraw:Object(c["l"])(32),nonce:Object(c["l"])(8),expiration:Object(c["l"])(32)})),x=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_REQUEST)}),a["n"]({coop_settle:a["d"]}),P,u])),N=x,I=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_CONFIRMATION)}),P,u])),D=I,R=a["o"](a["i"]([a["u"]({type:a["k"](r.WITHDRAW_EXPIRED)}),P,u])),C=R,M=a["o"](a["u"]({type:a["k"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["o"](a["u"]({chain_identifier:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32)})),updating_participant:c["a"],other_participant:c["a"],updating_nonce:Object(c["l"])(8),other_nonce:Object(c["l"])(8),updating_capacity:Object(c["l"])(32),other_capacity:Object(c["l"])(32),reveal_timeout:Object(c["l"])(32)})),L=M,U=a["o"](a["u"]({type:a["k"](r.PFS_FEE_UPDATE),canonical_identifier:a["o"](a["u"]({chain_identifier:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32)})),updating_participant:c["a"],timestamp:a["r"],fee_schedule:a["u"]({cap_fees:a["d"],imbalance_penalty:a["w"]([a["l"],a["p"](a["o"](a["t"]([Object(c["l"])(32),Object(c["l"])(32)])))]),proportional:i["b"],flat:i["b"]})})),B=U,F=a["o"](a["u"]({type:a["k"](r.MONITOR_REQUEST),balance_proof:a["u"]({chain_id:Object(c["l"])(32),token_network_address:c["a"],channel_identifier:Object(c["l"])(32),nonce:Object(c["l"])(8),balance_hash:c["c"],additional_hash:c["c"],signature:c["i"]}),monitoring_service_contract_address:c["a"],non_closing_participant:c["a"],non_closing_signature:c["i"],reward_amount:Object(c["l"])(32)})),W=F,V=[l,f,b,h,k,T,A,N,D,C,L,B,W],$=V,H=a["w"]($)},"59ec":function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return Z})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return ee})),n.d(t,"g",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"o",(function(){return oe})),n.d(t,"k",(function(){return se})),n.d(t,"c",(function(){return le})),n.d(t,"f",(function(){return pe})),n.d(t,"a",(function(){return be})),n.d(t,"j",(function(){return ye})),n.d(t,"b",(function(){return me})),n.d(t,"l",(function(){return ve})),n.d(t,"m",(function(){return Oe}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),u=n("905c9"),s=n("6da0"),l=n("007a"),p=n("09d5"),f=n("f361"),d=n("2111"),b=n("605b"),y=n.n(b),h=n("f541"),m=n("f068"),v=n("cd9d"),O=n("cea7"),j=n("c0bf"),g=n("996a"),w=n("1319"),_=n("ef4a"),k=n("9201"),E=n("8120"),T=n("2b5b"),S=n("5778"),A=n("7de2"),P=n("358d"),x=n("0862"),N=n("f2df"),I=n("46f7"),D=n("ca14"),R=n("1a78"),C=["route"];function M(e,t){if(null==e)return{};var n,r,a=L(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,c,"next",e)}function c(e){F(o,r,a,i,c,"throw",e)}i(void 0)}))}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return K(e)||q(e,t)||Y(e,t)||H()}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function K(e){if(Array.isArray(e))return e}function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Y(e,t){if(e){if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){var t,n=[],r=G(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(I["a"])(a.expiration,32),Object(I["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(s["a"])(Object(c["b"])(n))}function Z(e){return Object(p["c"])(e)}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(l["a"])(e))}var z=0;function ee(){return i["a"].from(z=Math.max(z+1,Date.now()))}var te=0;function ne(){return i["a"].from(te=Math.max(te+1,Date.now()))}function re(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var ae=new RegExp("^(".concat(Object.values(R["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function oe(e){var t=e.match(ae);Object(N["a"])(t,"Invalid transferKey format");var n=$(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var ie=(r={},V(r,R["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),V(r,R["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),V(r,R["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),V(r,R["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),V(r,R["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),V(r,R["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),V(r,R["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),V(r,R["c"].pending,(function(e){return e.transfer.ts})),r);function ce(e){for(var t=0,n=Object.entries(ie);t<n.length;t++){var r=$(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return R["c"].pending}function ue(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function se(e){var t=ce(e),n=new Date(e.transfer.ts),r=new Date(ie[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),u=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,s=ue(e);return{key:re(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:u,completed:s,secret:e.secret}}function le(e,t,n,r){return r===u["a"]?Object(h["a"])(k["b"]):Object(m["a"])((function(){return e.find({selector:{channel:Object(E["c"])(t),direction:n}})})).pipe(Object(j["a"])((function(e){var t=e.docs;return Object(v["a"])(t)})),Object(j["a"])((function(e){var t=Object(D["n"])(R["e"],e);return Object(v["a"])([t.transfer,t.unlock,t.expired])})),Object(g["a"])(D["p"]),Object(w["a"])(A["d"]),Object(_["a"])((function(e){return Object(A["b"])(e)===r})))}function pe(e,t,n){return fe.apply(this,arguments)}function fe(){return fe=W(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=re(r)),"address"in t){e.next=5;break}return e.next=4,Object(O["a"])(t);case 4:t=e.sent;case 5:if(a=t.transfers[r],!a){e.next=8;break}return e.abrupt("return",a);case 8:return e.t0=D["n"],e.t1=R["e"],e.next=12,n.get(r);case 12:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 14:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}var de=d["f"](d["u"]({routes:d["c"](d["f"](d["u"]({route:d["c"](d["r"]),address_metadata:d["x"]})))}));function be(e,t){var n;try{n=Object(D["n"])(de,t)}catch(a){return t}var r=e.toLowerCase();return B(B({},n),{},{routes:n.routes.map((function(e){var t=e.route,n=M(e,C);return B(B({},n),{},{route:t.slice(t.findIndex((function(e){return e.toLowerCase()===r}))+1)})}))})}function ye(t,n,r){var a=t.map((function(e){var t=e.path,n=(e.fee,e.address_metadata);return B({route:t},n&&!y()(n)?{address_metadata:n}:{})})),o=t[0];Object(N["a"])(o,"empty paths");var i,u,s=o.fee,l=o.path[1];if(Object(N["a"])(l,"empty route"),l===n.meta.address)i=n.payload.userId,u=n.payload.caps;else{var p=ve(o.address_metadata,l);i=null===p||void 0===p?void 0:p.payload.userId,u=null===p||void 0===p?void 0:p.payload.caps}var d={userId:i},b={routes:a};if(Object(x["b"])(u,T["a"].IMMUTABLE_METADATA)){if(r){var h=Object(c["i"])(Object(f["encrypt"])(n.payload.pubkey,e.from(Object(I["c"])(R["d"].encode(r)))));b=B(B({},b),{},{secret:h})}}else b=be(o.path[0],b);return B({resolved:!0,metadata:b,fee:s,partner:l},d)}var he=d["u"]({secret:Object(D["d"])()});function me(t,n,r){var a=$(n,3),o=a[0],i=a[1],u=a[2],s=r.privateKey;if(s)try{var l=Object(D["n"])(he,t).secret,p=Object(f["decrypt"])(s,e.from(Object(c["a"])(l))).toString(),d=Object(D["n"])(R["d"],Object(I["b"])(p));return Object(N["a"])(i.gte(d.amount)&&Z(d.secret)===o),Object(N["a"])(!u||!d.payment_identifier||u.eq(d.payment_identifier)),d.secret}catch(b){}}function ve(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:null===e||void 0===e?void 0:e[t.toLowerCase()];if(r){var a=Object(P["g"])(r,t);if(a)return a}}function Oe(e,t){var n,r;try{r=Object(D["n"])(S["e"],e)}catch(u){}if(r&&t){var a,o=G(r.routes);try{for(o.s();!(a=o.n()).done;){var i,c=a.value.address_metadata;if(n=null===(i=ve(c,t))||void 0===i?void 0:i.payload.userId)return{userId:n}}}catch(s){o.e(s)}finally{o.f()}}}}).call(this,n("ab29").Buffer)},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r,a=n("87b8"),o=n("24c6"),i=n("2111"),c=n("ef4a"),u=n("2b5b"),s=n("d011"),l=n("438d"),p=n("0602"),f=n("ca14");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=i["u"]({urls:i["w"]([i["r"],i["c"](i["r"])])}),m=i["o"](i["i"]([i["u"]({matrixServerLookup:i["r"],revealTimeout:i["m"],settleTimeout:i["m"],expiryFactor:i["m"],httpTimeout:i["m"],additionalServices:i["p"](i["w"]([f["a"],i["r"]])),pfsMode:s["k"],pfsSafetyMargin:i["w"]([i["m"],i["t"]([i["m"],i["m"]])]),pfsMaxPaths:i["m"],pfsMaxFee:Object(f["l"])(32),pfsIouTimeout:i["m"],confirmationBlocks:i["m"],monitoringReward:i["w"]([i["l"],Object(f["l"])(32)]),logger:i["j"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:i["w"]([i["l"],p["a"]]),fallbackIceServers:i["c"](h),rateToSvt:i["q"](i["r"],Object(f["l"])(32)),pollingInterval:i["m"],minimumAllowance:Object(f["l"])(32),autoSettle:i["d"],autoUDCWithdraw:i["d"],mediationFees:i["x"],encryptSecret:i["d"]}),i["n"]({matrixServer:i["r"],subkey:i["d"],gasPriceFactor:i["w"]([i["m"],i["l"]])})])),v=i["o"](i["f"](i["n"](b(b({},m.type.types["0"].props),m.type.types["1"].props))));function O(e,t){var n,r=e.network,i=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",c=null===(null===t||void 0===t?void 0:t.caps)?null:b((n={},y(n,u["a"].DELIVERY,0),y(n,u["a"].MEDIATE,0),y(n,u["a"].TO_DEVICE,1),y(n,u["a"].IMMUTABLE_METADATA,1),n),null===t||void 0===t?void 0:t.caps);return b(b({matrixServerLookup:i,settleTimeout:500,revealTimeout:u["h"],expiryFactor:1.1,httpTimeout:3e4,additionalServices:[],pfsMode:s["j"].auto,pfsSafetyMargin:1,pfsMaxPaths:u["f"],pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:u["e"],confirmationBlocks:u["c"],monitoringReward:u["d"],logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:1e3*u["g"],minimumAllowance:a["b"],autoSettle:!1,autoUDCWithdraw:!0,mediationFees:{},encryptSecret:!0},t),{},{caps:c})}function j(e){var t,n=(t={_iter:void 0},y(t,Symbol.iterator,(function(){return this._iter=void 0,this})),y(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(l["b"])(t,n)}return this._iter.next()})),t);return n}},"5c1d":function(e,t,n){},"5c69":function(e,t,n){"use strict";n("1624")},6:function(e,t){},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},"62a5":function(e,t,n){"use strict";n("8e8c")},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return O}));var r=n("30c0"),a=n("bbdc"),o=n("2111"),i=n("f5be"),c=n("b8ff"),u=n("5bbb"),s=n("d011"),l=n("1a78"),p=n("ee57"),f=n("ca14");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=o["o"](o["u"]({address:f["a"],chainId:o["m"],registry:f["a"],blockNumber:o["m"],config:u["a"],channels:o["o"](o["q"](o["r"],c["a"])),oldChannels:o["o"](o["q"](o["r"],c["a"])),tokens:o["o"](o["q"](o["r"],f["a"])),transport:o["o"](o["n"]({server:o["r"],setup:p["a"]})),transfers:o["o"](o["q"](o["r"],l["e"])),iou:o["o"](o["q"](o["r"],o["q"](o["r"],Object(f["j"])(s["c"])))),pendingTxs:o["p"](i["a"]),services:s["q"]}),"RaidenState"),m=h;function v(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],services:{},config:{}},a)}var O=v({network:Object(a["a"])("unspecified"),address:r["a"],contractsInfo:{TokenNetworkRegistry:{address:r["a"],block_number:0},ServiceRegistry:{address:r["a"],block_number:0},UserDeposit:{address:r["a"],block_number:0},SecretRegistry:{address:r["a"],block_number:0},MonitoringService:{address:r["a"],block_number:0},OneToN:{address:r["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:e.width,"hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("0a08");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){f(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return p(n,[{key:"close",value:function(){return!0}}]),n}(i["g"]);Object(o["f"])([Object(i["e"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["f"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["f"])([Object(i["e"])({required:!1,default:"350",type:String})],O.prototype,"width",void 0),Object(o["f"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["f"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var j=O,g=j,w=(n("a500"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),S=n("c56b"),A=n("b503"),P=Object(w["a"])(g,r,a,!1,null,"46e7cf3b",null);t["a"]=P.exports;k()(P,{VBtn:E["a"],VCard:T["a"],VDialog:S["a"],VIcon:A["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__content"},[r("div",{staticClass:"info-overlay__content__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__content__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v("mdi-close")])],1),r("div",{staticClass:"info-overlay__content__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__content__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__content__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__content__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])])},a=[],o=n("6dbe"),i=n("5cf9"),c=n("750b"),u=n("b592");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){d(n,e);var t=y(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"closeOverlay",value:function(){}}]),n}(i["g"]);Object(o["f"])([Object(i["b"])()],j.prototype,"closeOverlay",null),j=Object(o["f"])([Object(i["a"])({components:{HeaderContent:u["a"],ActionButton:c["a"]}})],j);var g=j,w=g,_=(n("bcdd"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),S=Object(_["a"])(w,r,a,!1,null,"21819c06",null);t["a"]=S.exports;E()(S,{VIcon:T["a"]})},"6bc1":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _}));var r,a=["_type"];function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=d();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e){e["INSTALLED_VERSION"]="installed_version",e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid",e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache",e["UNKNOWN"]="unknown"})(r||(r={}));var g=function(){function e(){v(this,e)}return j(e,[{key:"encode",value:function(){return h({type:this.type},this.payload)}},{key:"encodeOldFormat",value:function(){return this.type}}]),e}(),w=function(e){u(n,e);var t=l(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v(this,n),r=t.call(this),r.type=e,r.payload=a,r}return j(n)}(g),_=function(e){u(n,e);var t=l(n);function n(e){var r;return v(this,n),r=t.call(this),r.event=e,r}return j(n,[{key:"isInOldFormat",get:function(){return this.event.data&&"string"===typeof this.event.data}},{key:"isInNewFormat",get:function(){return this.event.data&&"object"===c(this.event.data)&&this.event.data.type&&"string"===typeof this.event.data.type}},{key:"isInUnknownFormat",get:function(){return!(this.isInOldFormat||this.isInNewFormat)}},{key:"type",get:function(){if(this.isInUnknownFormat)return r.UNKNOWN;var e=this.event.data,t=this.isInOldFormat?e:e.type;return this.mapRawTypeToMessageType(t)}},{key:"payload",get:function(){if(this.isInNewFormat){var e=this.event.data,t=(e._type,o(e,a));return t}return{}}},{key:"mapRawTypeToMessageType",value:function(e){for(var t=0,n=Object.values(r);t<n.length;t++){var a=n[t];if(e==a)return a}return r.UNKNOWN}}]),n}(g)},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return ot}));var r=n("2bde"),a=n.n(r),o=n("f5be"),i=n("30c0"),c=n("87b8"),u=n("65e1"),s=n("83ee"),l=n("1a78"),p=n("d276");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],u=i(c,r);u!==c&&(n=d(d({},n),{},b({},a,u)))}}return n}}var h=n("f799"),m=n("b8ff"),v=n("9201"),O=n("8120");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){if(null==e)return{};var n,r,a=w(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function _(e){var t=k(e,"string");return"symbol"===j(t)?t:String(t)}function k(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e,t){return A(e)||S(e,t)||N(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function A(e){if(Array.isArray(e))return e}function P(e){return D(e)||I(e)||N(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function I(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e){if(Array.isArray(e))return R(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var B=Object(p["d"])(u["b"].blockNumber).handle(h["newBlock"],(function(e,t){U(e);var n=t.payload;return n.blockNumber})),F=Object(p["d"])(u["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:M(M({},e),{},L({},r,a))}));function W(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(o["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(W(e,t)),[t]);var n=W(e,t);return n.length!==e.length?n:e}return e},$={address:i["a"],deposit:c["h"],withdraw:c["h"],locks:[],balanceProof:v["b"],pendingWithdraws:[],nextNonce:c["e"]};function H(e,t){var n,r,a=Object(O["b"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(O["c"])(M(M({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:M(M({},$),{},{address:e.address}),partner:M(M({},$),{},{address:t.meta.partner})};return M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,i))})}function q(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(O["b"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],u=E(c,3),s=u[0],l=u[1],p=u[2];return l.lte(o[i][s])?e:(o=M(M({},o),{},L({},i,M(M({},o[i]),{},(r={},L(r,s,l),L(r,"pendingWithdraws",p),r)))),M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,o))}))}function K(e,t){var n,r=Object(O["b"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=M(M({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=M(M({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},r,a))})}function G(e,t){var n=Object(O["b"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=M(M({},r),{},{state:m["b"].closing});else if(h["channelClose"].failure.is(t)&&r.state===m["b"].closing)r=M(M({},r),{},{state:m["b"].open});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=M(M({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=M(M({},r),{},{state:m["b"].settleable})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,r))})}function Y(e,t){var n=Object(O["b"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id)return e;var a={closeBlock:"closeBlock"in r?r.closeBlock:0,closeParticipant:"closeParticipant"in r?r.closeParticipant:i["a"]};if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,M(M(M({},r),a),{},{state:m["b"].settling})))});if(t.payload.confirmed){var o=e.channels,c=(o[n],g(o,[n].map(_)));return M(M({},e),{},{channels:c,oldChannels:M(M({},e.oldChannels),{},L({},Object(O["c"])(r),M(M(M({},r),a),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function X(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,M(M({},e),{},{registered:!0}))}));return r?a:e}function Q(e,t){if(!t.payload.confirmed)return e;for(var n=t.meta.direction===l["a"].SENT?"own":"partner",r=0,a=Object.entries(e.channels);r<a.length;r++){var o=E(a[r],2),i=o[0],c=o[1],u=X(c[n].locks,t.meta.secrethash,t.payload.txBlock);u!==c[n].locks&&(e=M(M({},e),{},{channels:M(M({},e.channels),{},L({},i,M(M({},c),{},L({},n,M(M({},c[n]),{},{locks:u})))))}))}return e}var Z=Object(p["d"])(u["b"]).handle(h["channelOpen"].success,H).handle([h["channelDeposit"].success,h["channelWithdrawn"]],q).handle([h["channelClose"].request,h["channelClose"].failure,h["channelSettleable"],h["channelSettle"].request],G).handle(h["channelClose"].success,K).handle(h["channelSettle"].success,Y).handle(s["transferSecretRegister"].success,Q),J=y({blockNumber:B,tokens:F,pendingTxs:V},u["b"]),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return[J,Z].reduce((function(e,n){return n(e,t)}),e)},ee=z,te=n("eed9");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe,ie,ce=Object(p["d"])(u["b"].iou).handle(te["iouPersist"],(function(e,t){return re(re({},e),{},ae({},t.meta.tokenNetwork,re(re({},e[t.meta.tokenNetwork]),{},ae({},t.meta.serviceAddress,t.payload.iou))))})).handle(te["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),ue=Object(p["d"])(u["b"].services).handle(te["servicesValid"],(function(e,t){return t.payload})),se=y({iou:ce,services:ue},u["b"]),le=se,pe=n("ee9f"),fe=n.n(pe),de=n("7de2"),be=n("ca14"),ye=n("59ec");function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){if(null==e)return{};var n,r,a=ve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ve(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Oe(e){var t=je(e,"string");return"symbol"===he(t)?t:String(t)}function je(e,t){if("object"!==he(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ge(e){return Ee(e)||ke(e)||_e(e)||we()}function we(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _e(e,t){if(e){if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function ke(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ee(e){if(Array.isArray(e))return Te(e)}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=(oe={},Pe(oe,l["a"].SENT,"own"),Pe(oe,l["a"].RECEIVED,"partner"),oe);function Ne(e,t){var n,r=Object(ye["n"])(t.meta),a=e.transfers[r];return a?(a.secret||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secret:t.payload.secret})))})),s["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secretRegistered:Object(be["s"])(fe()(["txHash","txBlock"],t.payload))})))})),e):e}function Ie(e,t){var n,r,a=t.payload.message,o=Object(ye["n"])(t.meta),i=t.payload.partner,c=Object(O["b"])({tokenNetwork:a.token_network_address,partner:i}),u=xe[t.meta.direction],l=e.channels[c],p=e.transfers[o],f=s["transferUnlock"].success.is(t)?"unlock":"expired",d=s["transferSigned"].is(t)&&p,b=!s["transferSigned"].is(t)&&(!p||f in p);if(d||b||(null===(n=l)||void 0===n?void 0:n.state)!==m["b"].open||!a.nonce.eq(l[u].nextNonce))return e;switch(t.type){case s["transferSigned"].type:r=[].concat(ge(l[u].locks),[t.payload.message.lock]),p=Ae(Ae({_id:o,channel:Object(O["c"])(l)},t.meta),{},{transfer:Object(be["s"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:i,cleared:0});break;case s["transferUnlock"].success.type:case s["transferExpire"].success.type:r=l[u].locks.filter((function(e){return e.secrethash!==t.meta.secrethash})),p=Ae(Pe({},f,Object(be["s"])(t.payload.message)),p);break}return l=Ae(Ae({},l),{},Pe({},u,Ae(Ae({},l[u]),{},{locks:r,balanceProof:Object(de["d"])(a),nextNonce:l[u].nextNonce.add(1)}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},c,l)),transfers:Ae(Ae({},e.transfers),{},Pe({},o,p))})}var De=(ie={},Pe(ie,s["transferSecretRequest"].type,"secretRequest"),Pe(ie,s["transferSecretReveal"].type,"secretReveal"),Pe(ie,s["transferProcessed"].type,"transferProcessed"),Pe(ie,s["transferUnlockProcessed"].type,"unlockProcessed"),Pe(ie,s["transferExpireProcessed"].type,"expiredProcessed"),ie);function Re(e,t){var n=Object(ye["n"])(t.meta),r=De[t.type],a=e.transfers[n];return!a||!s["transferSecretRequest"].is(t)&&r in a||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},a),{},Pe({},r,Object(be["s"])(t.payload.message)))))})),e}function Ce(e,t){var n=Object(ye["n"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],me(r,[n].map(Oe)));e=Ae(Ae({},e),{},{transfers:a})}return e}function Me(e,t){var n=Object(ye["n"])(t.meta);return n in e.transfers||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},t.payload),{},{cleared:0})))})),e}function Le(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(O["c"])(Ae({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},Object(ye["n"])(i),Ae(Ae({},i),{},Pe({},n,Object(be["s"])(fe()(["txHash","txBlock"],t.payload))))))}))}return e}function Ue(e,t){var n,r=t.payload.message,a=Object(O["b"])(t.meta),o=e.channels[a],i=t.meta.direction===l["a"].RECEIVED!==s["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=Ae(Ae({},o),{},Pe({},i,Ae(Ae({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===l["a"].RECEIVED?"partner":"own",u=[].concat(ge(o[c].pendingWithdraws),[t.payload.message]);return o=Ae(Ae({},o),{},Pe({},c,Ae(Ae({},o[c]),{},{pendingWithdraws:u}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},a,o))})}function Be(e,t){var n,r=Object(O["b"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===l["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=Ae(Ae({},a),{},Pe({},o,Ae(Ae({},a[o]),{},{pendingWithdraws:i}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},r,a))})}var Fe=Object(p["d"])(u["b"]).handle([s["transferSecret"],s["transferSecretRegister"].success],Ne).handle([s["transferSigned"],s["transferUnlock"].success,s["transferExpire"].success],Ie).handle([s["transferProcessed"],s["transferUnlockProcessed"],s["transferExpireProcessed"],s["transferSecretRequest"],s["transferSecretReveal"]],Re).handle(s["transferClear"],Ce).handle(s["transferLoad"],Me).handle([h["channelClose"].success,h["channelSettle"].success],Le).handle([s["withdrawMessage"].request,s["withdrawMessage"].success,s["withdrawExpire"].success],Ue).handle(s["withdrawCompleted"],Be),We=Fe,Ve=n("fe07"),$e=n.n(Ve),He=n("d890"),qe=Object(p["d"])(u["b"].transport).handle(He["matrixSetup"],(function(e,t){return $e()(e,t.payload)||(e=t.payload),e})),Ke=y({transport:qe},u["b"]),Ge=Ke;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){return nt(e)||tt(e,t)||ze(e,t)||Je()}function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ze(e,t){if(e){if("string"===typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function nt(e){if(Array.isArray(e))return e}var rt=Object(p["d"])(u["b"]).handle(o["d"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=Ze(i[o],2),u=c[0],s=c[1];void 0!==s?r=Xe(Xe({},r),{},Qe({},u,s)):u in r&&(r=a()(u,r))}return r===e.config?e:Xe(Xe({},e),{},{config:r})})).handle(o["f"],(function(e){return Xe({},e)})),at={configReducer:rt,channelsReducer:ee,transportReducer:Ge,transfersReducer:We,servicesReducer:le},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(at).reduce((function(e,n){return n(e,t)}),e)}},"6c88":function(e,t,n){"use strict";n("5c1d")},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},"6fce":function(e,t,n){},7:function(e,t){},"727f":function(e,t,n){"use strict";n("38b1")},7419:function(e,t,n){},"74ae":function(e,t,n){"use strict";n("3b50")},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return pe})),n.d(t,"d",(function(){return fe})),n.d(t,"f",(function(){return be})),n.d(t,"c",(function(){return Oe})),n.d(t,"e",(function(){return ge})),n.d(t,"g",(function(){return Te})),n.d(t,"b",(function(){return De}));var r,a=n("36d8"),o=n.n(a),i=n("1b87"),c=n.n(i),u=n("111d"),s=n.n(u),l=n("590d"),p=n("a914"),f=n("6075"),d=n("f068"),b=n("0146"),y=n("ee53"),h=n("9ead"),m=n("cd9d"),v=n("c0bf"),O=n("9c65"),j=n("33b9"),g=n("b7ab"),w=n("a157"),_=n("8120"),k=n("ee6c"),E=n("ca14");function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function A(){return P.apply(this,arguments)}function P(){return P=S(o.a.mark((function e(){var t,a,i,c,u;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=11;break}return e.next=5,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 5:a=e.sent,i=a.default,l["a"].plugin(i),r="indexeddb",e.next=17;break;case 11:return e.next=13,n.e("chunk-6841e23e").then(n.bind(null,"4d49"));case 13:c=e.sent,u=c.default,l["a"].plugin(u),r="leveldb";case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function x(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,c,"next",e)}function c(e){x(o,r,a,i,c,"throw",e)}i(void 0)}))}}var I={1:function(){var e=N(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("state.address"!==t._id){e.next=2;break}return e.abrupt("return",[t,{_id:"state.services",value:{}}]);case 2:return e.abrupt("return",[t]);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},D=I,R=["_rev"];function C(e,t){if(null==e)return{};var n,r,a=M(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function L(e,t){return F(e)||B(e,t)||V(e,t)||U()}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function F(e){if(Array.isArray(e))return e}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function V(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(k){return void n(k)}c.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,c,"next",e)}function c(e){G(o,r,a,i,c,"throw",e)}i(void 0)}))}}function X(e){return function(){return new Q(e.apply(this,arguments))}}function Q(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof J;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(u){o("throw",u)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function Z(e){return new J(e)}function J(e){this.wrapped=e}function z(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ee(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ee(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return ee=function(e){this.s=e,this.n=e.next},ee.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ee(e)}function te(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}Q.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Q.prototype.next=function(e){return this._invoke("next",e)},Q.prototype.throw=function(e){return this._invoke("throw",e)},Q.prototype.return=function(e){return this._invoke("return",e)},l["a"].plugin(p["a"]);var ne="state.",re="channels.";function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"￰";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function oe(e){return ie.apply(this,arguments)}function ie(){return ie=Y(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"z￰"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new f["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function ce(e){return ue.apply(this,arguments)}function ue(){return ue=Y(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",oe(n));case 9:case"end":return e.stop()}}),e,this)}))),ue.apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return le=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",oe(n));case 5:case"end":return e.stop()}}),e,this)}))),le.apply(this,arguments)}function pe(e,t){return Object(d["a"])((function(){var n=e.changes(t);return Object(b["a"])(Object(y["a"])(n,"change"),Object(y["a"])(n,"error").pipe(Object(v["a"])((function(e){throw e})))).pipe(Object(O["a"])(0),Object(j["a"])(Object(y["a"])(n,"complete")),Object(g["a"])((function(){return n.cancel()})))}))}function fe(e){return de.apply(this,arguments)}function de(){return de=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,p,f,d,b,y,h,m,v,O,j;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(q(q({},ae(ne)),{},{include_docs:!0}));case 4:a=e.sent,i=W(a.rows);try{for(i.s();!(c=i.n()).done;)u=c.value,s=u.id,l=u.doc,r[s.substring(ne.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(q(q({},ae(re)),{},{include_docs:!0}));case 9:p=e.sent,f=W(p.rows);try{for(f.s();!(d=f.n()).done;)b=d.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=q(q({},h),{},{_id:y.substring(re.length)}):r.channels[Object(_["b"])(h)]=q(q({},h),{},{_id:y.substring(re.length)})}catch(o){f.e(o)}finally{f.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.debug(m.warning,"getRaidenState")),v=W(m.docs);try{for(v.s();!(O=v.n()).done;)j=O.value,r.transfers[j._id]=j}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function be(e,t){return ye.apply(this,arguments)}function ye(){return ye=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,p,f,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=L(i[a],2),u=c[0],s=c[1],"channels"===u||"oldChannels"===u)for(l=0,p=Object.values(s);l<p.length;l++)f=p[l],r.push(q(q({},f),{},{_id:re+f._id}));else if("transfers"===u)for(d=0,b=Object.values(s);d<b.length;d++)y=b[d],r.push(y);else r.push({_id:ne+u,value:s});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function he(e){return Object.keys(e).map((function(e){return+e})).sort()}function me(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return null!==(e=Object(E["q"])(he(t)))&&void 0!==e?e:0}function ve(e){return+e.name.match(/_(\d+)$/)[1]}function Oe(){return je.apply(this,arguments)}function je(){return je=Y(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:s.a},t.log||(t.log=s.a),t.adapter){e.next=6;break}return e.next=5,A();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",l["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function ge(e){return we.apply(this,arguments)}function we(){return we=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,p,f,b,y,O,j=this,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:D,r=g.length>2&&void 0!==g[2]&&g[2],a=this.__defaults.log,i=he(n),c=0,s=i.length-1;case 6:if(!(s>=0)){e.next=18;break}return l=i[s],e.next=10,ce.call(this,"".concat(t,"_").concat(l));case 10:if(p=e.sent,!p){e.next=15;break}return c=l,u=p,e.abrupt("break",18);case 15:--s,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,ce.call(this,"".concat(t,"_").concat(c));case 21:u=e.sent;case 22:if(u){e.next=27;break}return c=me(n),e.next=26,se.call(this,"".concat(t,"_").concat(c));case 26:u=e.sent;case 27:f=W(i),e.prev=28,y=o.a.mark((function e(){var i,s,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=b.value,!(i<=c)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,se.call(j,"".concat(t,"_").concat(i));case 5:return s=e.sent,e.prev=6,l=/^[a-z]/i,e.next=10,Object(h["a"])(pe(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return l.test(t)}}).pipe(Object(w["a"])((function(e){return Object(d["a"])((function(){return n[i](e.doc,u)})).pipe(Object(v["a"])((function(e){return Object(m["a"])(e)})),Object(w["a"])(function(){var e=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._rev,n=C(t,R),e.abrupt("return",s.put(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))));case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:c,to:i},e.t0),s.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:c,to:i}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:c=i,u=s;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),f.s();case 31:if((b=f.n()).done){e.next=38;break}return e.delegateYield(y(),"t0",33);case 33:if(O=e.t0,"continue"!==O){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),f.e(e.t1);case 43:return e.prev=43,f.f(),e.finish(43);case 46:return Object(k["d"])(ve(u)===me(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),we.apply(this,arguments)}function _e(e){return ke.apply(this,arguments)}function ke(){return ke=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ve(t),e.next=3,t.get(ne+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(ne+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(ne+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(ne+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Ee(e){return"function"===typeof e[Symbol.asyncIterator]}function Te(e,t){return Se.apply(this,arguments)}function Se(){return Se=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,p,f,d,b,y,h,m,v,O,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j.length>2&&void 0!==j[2]?j[2]:D,a=j.length>3&&void 0!==j[3]&&j[3],i=this.__defaults.log,c=Ee(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:u=e.sent,Object(k["d"])(!u.done&&"_meta"===u.value._id,'first yielded value must be "_meta"'),s=u.value,l=me(r);case 10:if(!(l>=s.version)){e.next=28;break}return p="".concat(n,"_").concat(l),e.next=14,ce.call(this,p);case 14:if(f=e.sent,f){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,_e(f);case 19:return d=e.sent,Object(k["d"])(s.version>=l&&s.blockNumber>=d.blockNumber,k["b"].RDN_STATE_MIGRATION),Object(k["d"])(s.address===d.address,[k["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:s.address}],null===i||void 0===i?void 0:i.error),Object(k["d"])(s.registry===d.registry&&s.network===d.network,[k["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:s.registry,expectedNetwork:d.network,receivedNetwork:s.network}],null===i||void 0===i?void 0:i.error),e.next=25,f.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(s.version),e.next=31,se.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=L(v,1),h=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:s}),e.next=48,y.close();case 48:return e.next=50,ge.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),Se.apply(this,arguments)}function Ae(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Pe(e){return xe.apply(this,arguments)}function xe(){return xe=X(o.a.mark((function e(t){var n,r,a,i,u,s,l,p,f=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.batch,a=void 0===r?10:r,u=t.changes({since:"now",live:!0}),u.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,Z(_e(t));case 6:return e.next=8,e.sent;case 8:s="a";case 9:return e.next=12,Z(t.allDocs({startkey:s,endkey:"￰",limit:a,include_docs:!0}));case 12:return l=e.sent,e.delegateYield(te(z(l.rows.map((function(e){var t=e.doc;return c()(["_rev"],t)}))),Z),"t0",14);case 14:if(Object(k["d"])(!i,["Database changed while dumping",{key:i}]),p=Object(E["q"])(l.rows),!p){e.next=20;break}s=Ae(p.id),e.next=21;break;case 20:return e.abrupt("break",23);case 21:e.next=9;break;case 23:return e.prev=23,u.cancel(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,,23,26]])}))),xe.apply(this,arguments)}function Ne(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",se.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function De(e,t){return Re.apply(this,arguments)}function Re(){return Re=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,p,f,d;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=51;break}e.prev=4,c=[],u=!1,s=!1,e.prev=8,p=z(Pe(t,n));case 10:return e.next=12,p.next();case 12:if(!(u=!(f=e.sent).done)){e.next=18;break}d=f.value,c.push(d);case 15:u=!1,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](8),s=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!u||null==p.return){e.next=29;break}return e.next=29,p.return();case 29:if(e.prev=29,!s){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:if(!a){e.next=37;break}return e.next=37,t.close();case 37:return e.abrupt("return",c);case 40:if(e.prev=40,e.t1=e["catch"](4),!k["a"].is(e.t1)||!e.t1.message.includes("database is closed")){e.next=47;break}return a=!0,e.next=46,Ne(t);case 46:t=e.sent;case 47:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 48:--i,e.next=3;break;case 51:throw new Error("Could not dump database");case 52:case"end":return e.stop()}}),e,null,[[4,40],[8,20,24,34],[25,,29,33]])}))),Re.apply(this,arguments)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"text-capitalize action-button",class:{"action-button--sticky":e.sticky,"action-button--full-width":e.fullWidth,"action-button--angular":e.angular},style:{width:e.width,height:e.height},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.loadingText?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__loading"},[n("span",[e._v(e._s(e.loadingText))]),n("v-progress-linear",{staticClass:"action-button__loading__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){p(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["g"]);Object(o["f"])([Object(i["e"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["f"])([Object(i["e"])({required:!0})],v.prototype,"text",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["f"])([Object(i["e"])({type:String})],v.prototype,"loadingText",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["f"])([Object(i["e"])({type:String,default:"250px"})],v.prototype,"width",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["f"])([Object(i["e"])({type:String,default:"40px"})],v.prototype,"height",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"angular",void 0),Object(o["f"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["f"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("74ae"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("b503"),T=n("452d"),S=Object(g["a"])(j,r,a,!1,null,"616272c7",null);t["a"]=S.exports;_()(S,{VBtn:k["a"],VIcon:E["a"],VProgressLinear:T["a"]})},"77fd":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return u(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["g"]);h=Object(r["f"])([a["a"]],h),t["a"]=h},7990:function(e,t,n){},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return $}));var r,a=n("36d8"),o=n.n(a),i=n("b97c"),c=n("905c9"),u=n("6da0"),s=n("f211"),l=n("699d"),p=n("8379"),f=n("b8fc"),d=n("111d"),b=n.n(d),y=n("2b5b"),h=n("0862"),m=n("f2df"),v=n("46f7"),O=n("ee6c"),j=n("ca14"),g=n("8173"),w=n("5778");function _(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,c,"next",e)}function c(e){_(o,r,a,i,c,"throw",e)}i(void 0)}))}}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,x=(r={},A(r,w["d"].DELIVERED,12),A(r,w["d"].PROCESSED,0),A(r,w["d"].SECRET_REQUEST,3),A(r,w["d"].SECRET_REVEAL,11),A(r,w["d"].LOCKED_TRANSFER,7),A(r,w["d"].UNLOCK,4),A(r,w["d"].LOCK_EXPIRED,13),A(r,w["d"].WITHDRAW_REQUEST,15),A(r,w["d"].WITHDRAW_CONFIRMATION,16),A(r,w["d"].WITHDRAW_EXPIRED,17),A(r,w["d"].PFS_CAPACITY_UPDATE,-1),A(r,w["d"].PFS_FEE_UPDATE,-1),A(r,w["d"].MONITOR_REQUEST,-1),r);function N(e){return Object(u["a"])(Object(l["f"])(Object(f["a"])(e)))}function I(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot,a=c["a"];return t.isZero()&&n.isZero()&&(r===c["a"]||r===y["i"])||(a=Object(u["a"])(Object(i["b"])([Object(v["a"])(t,32),Object(v["a"])(n,32),Object(v["a"])(r,32)]))),a}function D(e){var t;switch(e.type){case w["d"].LOCKED_TRANSFER:t=Object(u["a"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.lock.expiration,32),Object(v["a"])(e.token,20),Object(v["a"])(e.recipient,20),Object(v["a"])(e.target,20),Object(v["a"])(e.initiator,20),Object(v["a"])(e.lock.secrethash,32),Object(v["a"])(e.lock.amount,32),N(e.metadata)]));break;case w["d"].UNLOCK:t=Object(u["a"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.secret,32)]));break;case w["d"].LOCK_EXPIRED:t=Object(u["a"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.recipient,20),Object(v["a"])(e.secrethash,32)]));break}return t}function R(e){switch(e.type){case w["d"].DELIVERED:return Object(i["i"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.delivered_message_identifier,8)]));case w["d"].PROCESSED:return Object(i["i"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8)]));case w["d"].LOCKED_TRANSFER:case w["d"].UNLOCK:case w["d"].LOCK_EXPIRED:var t=D(e),n=I({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(i["i"])(Object(i["b"])([Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.BALANCE_PROOF,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(n,32),Object(v["a"])(e.nonce,32),Object(v["a"])(t,32)]));case w["d"].SECRET_REQUEST:return Object(i["i"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.payment_identifier,8),Object(v["a"])(e.secrethash,32),Object(v["a"])(e.amount,32),Object(v["a"])(e.expiration,32)]));case w["d"].SECRET_REVEAL:return Object(i["i"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.secret,32)]));case w["d"].WITHDRAW_REQUEST:case w["d"].WITHDRAW_CONFIRMATION:return Object(i["i"])(Object(i["b"])([Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.WITHDRAW,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(e.participant,20),Object(v["a"])(e.total_withdraw,32),Object(v["a"])(e.expiration,32)]));case w["d"].WITHDRAW_EXPIRED:return Object(i["i"])(Object(i["b"])([Object(v["a"])(x[e.type],1),Object(v["a"])(0,3),Object(v["a"])(e.nonce,32),Object(v["a"])(e.message_identifier,8),Object(v["a"])(e.token_network_address,20),Object(v["a"])(e.chain_id,32),Object(v["a"])(P.WITHDRAW,32),Object(v["a"])(e.channel_identifier,32),Object(v["a"])(e.participant,20),Object(v["a"])(e.total_withdraw,32),Object(v["a"])(e.expiration,32)]));case w["d"].PFS_CAPACITY_UPDATE:return Object(i["i"])(Object(i["b"])([Object(v["a"])(e.canonical_identifier.chain_identifier,32),Object(v["a"])(e.canonical_identifier.token_network_address,20),Object(v["a"])(e.canonical_identifier.channel_identifier,32),Object(v["a"])(e.updating_participant,20),Object(v["a"])(e.other_participant,20),Object(v["a"])(e.updating_nonce,8),Object(v["a"])(e.other_nonce,8),Object(v["a"])(e.updating_capacity,32),Object(v["a"])(e.other_capacity,32),Object(v["a"])(e.reveal_timeout,32)]));case w["d"].PFS_FEE_UPDATE:return Object(i["i"])(Object(i["b"])([Object(v["a"])(e.canonical_identifier.chain_identifier,32),Object(v["a"])(e.canonical_identifier.token_network_address,20),Object(v["a"])(e.canonical_identifier.channel_identifier,32),Object(v["a"])(e.updating_participant,20),Object(v["a"])(e.fee_schedule.cap_fees,1),Object(v["a"])(e.fee_schedule.flat,32),Object(v["a"])(e.fee_schedule.proportional,32),Object(s["encode"])(e.fee_schedule.imbalance_penalty?e.fee_schedule.imbalance_penalty.map((function(e){return e.map((function(e){return e.isZero()?"0x":e.toHexString()}))})):"0x"),Object(l["f"])(e.timestamp)]));case w["d"].MONITOR_REQUEST:return Object(i["i"])(Object(i["b"])([Object(v["a"])(e.monitoring_service_contract_address,20),Object(v["a"])(e.balance_proof.chain_id,32),Object(v["a"])(P.MS_REWARD,32),Object(v["a"])(e.balance_proof.token_network_address,20),Object(v["a"])(e.non_closing_participant,20),Object(v["a"])(e.non_closing_signature,65),Object(v["a"])(e.reward_amount,32)]))}}function C(e){return j["i"].is(e.signature)}function M(e,t){return!Object(h["b"])(t,y["a"].IMMUTABLE_METADATA)&&"metadata"in e&&(e=S(S({},e),{},{metadata:Object(j["n"])(w["e"],e.metadata)})),Object(p["b"])(Object(i["a"])(R(e)),e.signature)}function L(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:D(e),signature:e.signature}}function U(e){return"signature"in e?Object(v["c"])(Object(j["j"])(w["c"]).encode(e)):Object(v["c"])(w["c"].encode(e))}function B(e){var t=Object(v["b"])(e);return Object(m["a"])(t&&"object"===E(t)&&"type"in t&&Object.values(w["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(j["n"])(Object(j["j"])(w["c"]),t):Object(j["n"])(w["c"],t)}function F(e,t){return W.apply(this,arguments)}function W(){return W=k(o.a.mark((function e(t,n){var r,a,c,u=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{log:b.a},a=r.log,!C(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(i["a"])(R(n)));case 6:return c=e.sent,e.abrupt("return",S(S({},n),{},{signature:c}));case 8:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function V(e){return function(t){return g["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}function $(e,t,n){var r=n.log;if("string"===typeof e)try{var a=B(e);if("signature"in a){var o=M(a,t.payload.caps);Object(m["a"])(o===t.meta.address,[O["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t.meta.address,signer:o}])}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(P||(P={}))},8:function(e,t){},8089:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return ke})),n.d(t,"e",(function(){return Se})),n.d(t,"h",(function(){return Ae})),n.d(t,"l",(function(){return Pe})),n.d(t,"a",(function(){return xe})),n.d(t,"c",(function(){return Ne})),n.d(t,"n",(function(){return Ie})),n.d(t,"b",(function(){return Re})),n.d(t,"g",(function(){return Me})),n.d(t,"j",(function(){return Ue})),n.d(t,"k",(function(){return Be})),n.d(t,"f",(function(){return We})),n.d(t,"m",(function(){return qe})),n.d(t,"i",(function(){return Ge}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("87b8"),c=n("2b89"),u=n("09d5"),s=n("699d"),l=n("8379"),p=n("9551"),f=n("7ff5"),d=n.n(f),b=n("427e"),y=n.n(b),h=n("111d"),m=n.n(h),v=n("47c8"),O=n.n(v),j=n("0146"),g=n("cea7"),w=n("f068"),_=n("a669"),k=n("c32d"),E=n("277b"),T=n("9c65"),S=n("996a"),A=n("1319"),P=n("b211"),x=n("009f"),N=n("ef4a"),I=n("c0bf"),D=n("aaf7"),R=n("dd89"),C=n("ffef"),M=n("f5be"),L=n("b8ff"),U=n("8120"),B=n("5bbb"),F=n("2b5b"),W=n("de7d"),V=n("74e4"),$=n("3501"),H=n("ee79"),q=n("31a7"),K=n("a0df"),G=n("4c29"),Y=n("1f0b"),X=n("0ff6"),Q=n("b4cc"),Z=n("65e1"),J=n("a349"),z=n("1a78"),ee=n("59ec"),te=n("05eb"),ne=n("f2df"),re=n("d276"),ae=n("46f7"),oe=n("ee6c"),ie=n("1b23"),ce=n("9a49"),ue=n("325b"),se=n("ca14"),le=["state"];function pe(e,t){if(null==e)return{};var n,r,a=fe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function de(e,t){return ve(e)||me(e,t)||ye(e,t)||be()}function be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e,t){if(e){if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ve(e){if(Array.isArray(e))return e}function Oe(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,c,"next",e)}function c(e){Oe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(t){var n;switch(t.name){case"rinkeby":n=we(we({},q.contracts),X.contracts);break;case"ropsten":n=we(we({},K.contracts),Q.contracts);break;case"goerli":n=we(we({},$.contracts),G.contracts);break;case"homestead":n=we(we({},H.contracts),Y.contracts);break;default:try{n=we(we({},JSON.parse(Object(p["readFileSync"])(O.a.join(e,"deployment","deployment_".concat(Object(ie["d"])(t),".json")),"utf-8"))),JSON.parse(Object(p["readFileSync"])(O.a.join(e,"deployment","deployment_services_".concat(Object(ie["d"])(t),".json")),"utf-8")))}catch(r){throw new oe["c"](oe["b"].RDN_UNRECOGNIZED_NETWORK,{network:t})}}return Object(se["n"])(te["a"],n)}function Ee(e,t,n){return Te.apply(this,arguments)}function Te(){return Te=je(a.a.mark((function e(t,n,r){var o,i,c,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=null!==(o=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.location)||void 0===i?void 0:i.origin)&&void 0!==o?o:"unknown",p="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(ie["d"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(c,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(s["f"])(p));case 4:return f=e.sent,d=Object(u["c"])(f),b=new l["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}var Se=function(){var e=je(a.a.mark((function e(t,n,r,i){var c,u,s,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof l["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new oe["c"](oe["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:u=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:u=e.sent,e.next=38;break;case 22:if(!se["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(p=e.sent,p.includes(t)){e.next=28;break}throw new oe["c"](oe["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(p)});case 28:c=n.getSigner(t),u=t,e.next=38;break;case 32:if(!se["f"].is(t)){e.next=37;break}c=new l["a"](t,n),u=c.address,e.next=38;break;case 37:throw new oe["c"](oe["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return s={signer:c,address:u},e.t0=Ee,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=s.signer,e.t3=i,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:f=e.sent,c=f.signer,u=f.address;case 51:return e.abrupt("return",{signer:c,address:u,main:s});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function Ae(e,t){return Object(j["a"])(Object(V["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(z["a"])}}}).pipe(Object(T["a"])("doc"),Object(S["a"])(se["p"]),Object(A["a"])((function(e){return Object(se["n"])(z["e"],e)}))),e.pipe(Object(ue["g"])("transfers"),Object(ue["d"])(),Object(T["a"])(1))).pipe(Object(A["a"])(ee["k"]))}var Pe=function(e){return Object.values(e).reduce((function(e,t){var n=Object(U["a"])(t),r=we({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return we(we({},e),{},_e({},t.token,we(we({},e[t.token]),{},_e({},t.partner.address,r))))}),{})};function xe(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function Ne(e,t){return e.signer===t?e:e.connect(t)}function Ie(e,t,n){return De.apply(this,arguments)}function De(){return De=je(a.a.mark((function e(t,n,r){var o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,u=t.blockNumber,s=t.transactionHash,e.abrupt("return",Object(g["a"])(o.pipe(Object(ue["g"])("state","blockNumber"),Object(P["a"])(i),Object(S["a"])((function(e){var t=de(e,2),n=t[0],a=t[1].confirmationBlocks;return u+(null!==r&&void 0!==r?r:a)<=n})),Object(x["a"])((function(e){var t=de(e,2),n=t[0],o=t[1].confirmationBlocks;return Object(w["a"])(je(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.getTransactionReceipt(s));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(A["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:o))return e.blockNumber;if(u+2*(null!==r&&void 0!==r?r:o)<n)throw new oe["c"](oe["b"].RDN_TRANSACTION_REORG,{transactionHash:s})})))})),Object(S["a"])(se["p"]))));case 4:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Re(e,t,n){return Ce.apply(this,arguments)}function Ce(){return Ce=je(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=W["h"].connect(n,t),e.next=3,o.msc_address();case 3:return i=e.sent,c=W["c"].connect(i,t),e.next=7,c.token_network_registry();case 7:return u=e.sent,s=W["f"].connect(u,t),e.next=11,s.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return p=e.sent,e.next=17,t.getBlockNumber();case 17:if(f=e.sent,e.t0=r,e.t0){e.next=23;break}return e.next=22,Object(g["a"])(Object(ie["c"])(t,we(we({},s.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:f})).pipe(Object(T["a"])("blockNumber"),Object(S["a"])(se["p"])),{defaultValue:f});case 22:e.t0=e.sent;case 23:return d=e.t0,e.next=26,o.one_to_n_address();case 26:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:u,block_number:d},ServiceRegistry:{address:p,block_number:d},UserDeposit:{address:n,block_number:d},SecretRegistry:{address:l,block_number:d},MonitoringService:{address:i,block_number:d},OneToN:{address:b,block_number:d}});case 28:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function Me(e){return Le.apply(this,arguments)}function Le(){return Le=je(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g["a"])(t.pipe(Object(T["a"])("udcDeposit","balance"),Object(S["a"])((function(e){return!!e&&e.lt(i["b"])})))));case 1:case"end":return e.stop()}}),e)}))),Le.apply(this,arguments)}function Ue(e){return Object(g["a"])(e.pipe(Object(N["a"])(Object(re["e"])([M["g"],M["e"]])),Object(A["a"])((function(e){if(M["e"].is(e)){if(Object.values(F["k"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))))}function Be(e){var t=e.log,n=e.getTokenContract;return y()(function(){var e=je(a.a.mark((function e(r){var o,i,c,u,s,l,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ne["a"])(se["a"].is(r),[oe["b"].DTA_INVALID_ADDRESS,{token:r}],t.info),o=n(r),e.next=4,Promise.all([o.callStatic.totalSupply(),o.callStatic.decimals(),o.callStatic.name().catch(d()(void 0)),o.callStatic.symbol().catch(d()(void 0))]);case 4:return i=e.sent,c=de(i,4),u=c[0],s=c[1],l=c[2],p=c[3],e.abrupt("return",{totalSupply:u,decimals:s,name:l,symbol:p});case 11:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}())}function Fe(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,u=e[0];Object(ne["a"])("_meta"===(null===u||void 0===u?void 0:u._id),oe["b"].RDN_STATE_MIGRATION),Object(ne["a"])(u.address===o,oe["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])(u.registry===c.TokenNetworkRegistry.address,oe["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])(u.network===i.chainId,oe["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,oe["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,oe["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,oe["b"].RDN_STATE_NETWORK_MISMATCH)}function We(e){return Ve.apply(this,arguments)}function Ve(){return Ve=je(a.a.mark((function e(t){var n,r,o,i,c,u,s,l,p,f,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=y.length>1&&void 0!==y[1]?y[1]:{},u=["raiden",Object(ie["d"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=c.state,p=pe(c,le),f=l,e.next=7,Object(V["c"])(we(we({},p),{},{log:i}));case 7:if(d=e.sent,!f){e.next=16;break}return"string"===typeof f&&(f=Object(ae["b"])(f)),Fe(f,{address:n,network:r,contractsInfo:o}),e.next=13,V["g"].call(d,f,u);case 13:s=e.sent,e.next=19;break;case 16:return e.next=18,V["e"].call(d,u);case 18:s=e.sent;case 19:return e.next=21,Object(V["d"])(s);case 21:if(b=e.sent,b){e.next=28;break}return b=Object(Z["c"])({network:r,address:n,contractsInfo:o}),e.next=26,Object(V["f"])(s,b);case 26:e.next=29;break;case 28:b=Object(se["n"])(Z["a"],b);case 29:return e.abrupt("return",{db:s,state:b});case 30:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}var $e=[L["b"].settleable,L["b"].settling],He=[L["b"].closed].concat($e);function qe(e,t){return e.pipe(Object(N["a"])(),Object(I["a"])((function(n){var r=n.channels,a=r[Object(U["b"])(t)];return Object(ne["a"])(a&&He.includes(a.state),oe["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND),e.pipe(Object(ue["g"])("channels",Object(U["b"])(t)))})),Object(N["a"])((function(e){return $e.includes(e.state)})))}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new ce["a"](128);return function(r){var o=n.get(r);return o||(o=Object(w["a"])(je(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getBlock(r));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(A["a"])((function(e){var t=e.timestamp;return Object(ne["a"])(t,["no timestamp in block",{block:r}]),t})),Object(D["a"])((function(n){return n.pipe(Object(I["a"])((function(n,r){if(r>=t)throw n;return Object(_["a"])(e.pollingInterval)})))})),Object(R["a"])({error:function(){return n.delete(r)}}),Object(C["a"])({bufferSize:1,refCount:!1})),n.set(r,o)),o}}function Ge(e,t,n){var r,a,o,i,u,s=n.signer,l=n.contractsInfo,p=n.db,f=n.main;Object(ne["a"])(s.provider&&s.provider instanceof c["a"]&&s.provider.network,"Signer must be connected to a JsonRpcProvider");var d=new k["a"](1),b=d.pipe(Object(ue["g"])("config")),h=W["f"].connect(l.TokenNetworkRegistry.address,null!==(r=null===f||void 0===f?void 0:f.signer)&&void 0!==r?r:s);return{latest$:d,config$:b,matrix$:new E["a"],signer:s,provider:s.provider,network:s.provider.network,address:e.address,log:m.a.getLogger("raiden:".concat(e.address)),defaultConfig:Object(B["c"])({network:s.provider.network},t),contractsInfo:l,registryContract:h,getTokenNetworkContract:y()((function(e){var t;return W["g"].connect(e,null!==(t=null===f||void 0===f?void 0:f.signer)&&void 0!==t?t:s)})),getTokenContract:y()((function(e){var t;return W["b"].connect(e,null!==(t=null===f||void 0===f?void 0:f.signer)&&void 0!==t?t:s)})),serviceRegistryContract:W["e"].connect(l.ServiceRegistry.address,null!==(a=null===f||void 0===f?void 0:f.signer)&&void 0!==a?a:s),userDepositContract:W["h"].connect(l.UserDeposit.address,null!==(o=null===f||void 0===f?void 0:f.signer)&&void 0!==o?o:s),secretRegistryContract:W["d"].connect(l.SecretRegistry.address,null!==(i=null===f||void 0===f?void 0:f.signer)&&void 0!==i?i:s),monitoringServiceContract:W["c"].connect(l.MonitoringService.address,null!==(u=null===f||void 0===f?void 0:f.signer)&&void 0!==u?u:s),main:f,db:p,init$:new k["a"],mediationFeeCalculator:J["a"],getBlockTimestamp:Ke(s.provider)}}}).call(this,"/")},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["QUICK_PAY"]="quick-pay",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["NO_CONNECTED_TOKEN"]="no-connected-token",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return W})),n.d(t,"a",(function(){return V})),n.d(t,"e",(function(){return H})),n.d(t,"f",(function(){return G})),n.d(t,"d",(function(){return Y}));var r=n("36d8"),a=n.n(r),o=n("87b8"),i=n("c32d"),c=n("f068"),u=n("f541"),s=n("dd89"),l=n("c0bf"),p=n("1319"),f=n("9c65"),d=n("c1c6"),b=n("33b9"),y=n("996a"),h=n("b211"),m=n("ef4a"),v=n("15e7"),O=n("4a12"),j=n("8089"),g=n("5778"),w=n("ee6c"),_=n("325b"),k=n("ca14");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e,t){return D(e)||I(e,t)||M(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function D(e){if(Array.isArray(e))return e}function R(e){return U(e)||L(e)||M(e)||C()}function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(e){if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function L(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(e){if(Array.isArray(e))return B(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function W(e){return"_id"in e&&e._id?e._id:"".concat(F(e),"#").concat(e.id.toString().padStart(9,"0"))}function V(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,i=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),c=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),u=r.add(i),s=a.add(c),l=e.own.balanceProof.lockedAmount.sub(i),p=e.partner.balanceProof.lockedAmount.sub(c),f=s.sub(u),d=u.sub(s),b=k["m"].apply(void 0,[t].concat(R(e.own.pendingWithdraws.filter((function(e){return e.type===g["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=k["m"].apply(void 0,[n].concat(R(e.partner.pendingWithdraws.filter((function(e){return e.type===g["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),h=e.own.deposit.sub(b).sub(l).add(f),m=e.partner.deposit.sub(y).sub(p).add(d),v=e.own.deposit.add(f).sub(l),O=v.sub(t),j=e.partner.deposit.add(d).sub(p),w=j.sub(n),_=e.own.deposit.sub(e.own.withdraw).add(e.partner.deposit).sub(e.partner.withdraw);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:l,ownBalance:f,ownCapacity:h,ownOnchainUnlocked:i,ownUnlocked:u,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:p,partnerBalance:d,partnerCapacity:m,partnerOnchainUnlocked:c,partnerUnlocked:s,ownTotalWithdrawable:v,ownWithdrawable:O,partnerTotalWithdrawable:j,partnerWithdrawable:w,totalCapacity:_}}function $(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(s["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(l["a"])((function(e){return Object(_["i"])((function(){return e.wait()}),a.pollingInterval,{onErrors:w["h"]}).pipe(Object(p["a"])((function(t){return[e,t]})))})),Object(p["a"])((function(n){var a,o,i,c=x(n,2),u=c[0],s=c[1];if(!s.status||!s.transactionHash||!s.blockNumber)throw new w["c"](t,{status:null!==(a=s.status)&&void 0!==a?a:null,transactionHash:null!==(o=s.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=s.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(s.transactionHash,'" successfuly mined!')),[u,s]})))}}function H(){return function(e){return e.pipe(Object(f["a"])("channels"),Object(_["d"])(),Object(f["a"])(1),Object(d["a"])(W,{connector:function(){return new i["a"](1)}}),Object(p["a"])((function(t){var n=t.key.split("#"),r=x(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(b["a"])(e.pipe(Object(y["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}}var q=new WeakMap,K=Object.assign((function(e){var t=q.get(e);if((null===t||void 0===t?void 0:t[0])===e.blockNumber)return t[1];var n=e.getFeeData().catch((function(t){throw q.delete(e),t}));return q.set(e,[e.blockNumber,n]),n}),{cache:q});function G(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.subkey,u=o.error,s=void 0===u?w["b"].RDN_TRANSACTION_FAILED:u,p=r.provider,f=r.config$;return Object(c["a"])(P(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",K(p));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(h["a"])(f),Object(l["a"])((function(o){var u,s=x(o,2),p=s[0],f=s[1],d=f.gasPriceFactor,b=f.subkey;if(d&&1!==d)if(p.maxPriorityFeePerGas&&p.maxFeePerGas){var y=p.maxPriorityFeePerGas.mul(Math.round(1e6*(d-1))).div(1e6);u={maxPriorityFeePerGas:p.maxPriorityFeePerGas.add(y),maxFeePerGas:p.maxFeePerGas.add(y)}}else p.gasPrice&&(u={gasPrice:p.gasPrice.mul(Math.round(1e6*d)).div(1e6)});else u=void 0;var h=e;if(null!==i){var m=Object(j["a"])(r,null!==i&&void 0!==i?i:b),v=m.signer;h=Object(j["c"])(e,v)}return Object(c["a"])(P(a.a.mark((function e(){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(r=h.estimateGas)[t].apply(r,R(n)));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(l["a"])(function(){var e=P(a.a.mark((function e(r){var o,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=r.add(r.mul(5).div(100)),i=n.length===h[t].length?n.slice(0,-1).concat(T(T(T({},Object(k["q"])(n)),u),{},{gasLimit:r})):n.concat(T(T({},u),{},{gasLimit:r})),e.abrupt("return",(o=h)[t].apply(o,R(i)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),$(t,s,r))}function Y(e,t,n,r){var o=r.config$;return o.pipe(Object(m["a"])(),Object(l["a"])(function(){var n=P(a.a.mark((function n(o){var i,c,u;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=o.subkey,c=Object(j["a"])(r,i),u=c.address,n.abrupt("return",Promise.all([e.callStatic.balanceOf(u),e.callStatic.allowance(u,t)]));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object(h["a"])(o),Object(l["a"])((function(a){var o=x(a,2),i=x(o[0],2),c=i[0],s=i[1],l=o[1].minimumAllowance;if(Object(w["d"])(c.gte(n),[w["b"].RDN_INSUFFICIENT_BALANCE,{current:c,required:n}]),s.gte(n))return Object(u["a"])(!0);var p=Object(u["a"])(!0);return s.isZero()||(p=G(e,"approve",[t,0],r,{error:w["b"].RDN_APPROVE_TRANSACTION_FAILED}).pipe(Object(v["a"])(!0))),p.pipe(Object(O["a"])(G(e,"approve",[t,Object(k["m"])(l,n)],r,{error:w["b"].RDN_APPROVE_TRANSACTION_FAILED})),Object(f["a"])(1))})))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return s})),n.d(t,"messageServiceSend",(function(){return l})),n.d(t,"messageReceived",(function(){return p}));var r=n("2111"),a=n("d011"),o=n("0602"),i=n("d276"),c=n("ca14"),u=n("5778"),s=Object(i["c"])(r["u"]({address:c["a"],msgId:r["r"]}),"message/send",r["i"]([r["u"]({message:r["w"]([r["r"],Object(c["j"])(u["c"])])}),r["n"]({msgtype:r["r"]}),o["b"]]),r["w"]([r["v"],r["u"]({via:r["r"],tookMs:r["m"],retries:r["m"]})])),l=Object(i["c"])(r["u"]({service:a["o"],msgId:r["r"]}),"message/service/send",r["u"]({message:Object(c["j"])(u["c"])}),r["w"]([r["v"],r["u"]({via:r["x"],tookMs:r["m"],retries:r["m"]})])),p=Object(i["b"])("message/received",r["i"]([r["u"]({text:r["r"],ts:r["m"]}),r["n"]({message:r["w"]([u["c"],Object(c["j"])(u["c"])]),userId:r["r"],msgtype:r["r"]})]),r["u"]({address:c["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return d})),n.d(t,"transferProcessed",(function(){return b})),n.d(t,"transferSecret",(function(){return y})),n.d(t,"transferSecretRegister",(function(){return h})),n.d(t,"transferSecretRequest",(function(){return m})),n.d(t,"transferSecretReveal",(function(){return v})),n.d(t,"transferUnlock",(function(){return O})),n.d(t,"transferUnlockProcessed",(function(){return j})),n.d(t,"transferExpire",(function(){return g})),n.d(t,"transferExpireProcessed",(function(){return w})),n.d(t,"transferClear",(function(){return _})),n.d(t,"transferLoad",(function(){return k})),n.d(t,"withdrawResolve",(function(){return T})),n.d(t,"withdraw",(function(){return S})),n.d(t,"withdrawMessage",(function(){return A})),n.d(t,"withdrawBusy",(function(){return P})),n.d(t,"withdrawExpire",(function(){return x})),n.d(t,"withdrawCompleted",(function(){return N}));var r=n("2111"),a=n("9201"),o=n("5778"),i=n("d011"),c=n("0602"),u=n("d276"),s=n("ca14"),l=n("1a78"),p=r["u"]({secrethash:s["c"],direction:l["b"]}),f=Object(u["c"])(p,"transfer",r["i"]([r["u"]({tokenNetwork:s["a"],target:s["a"],value:Object(s["l"])(32),paymentId:Object(s["l"])(8)}),r["w"]([r["i"]([r["u"]({resolved:r["k"](!1)}),r["n"]({paths:i["d"],pfs:r["w"]([i["f"],r["l"]]),encryptSecret:r["d"]})]),r["i"]([r["u"]({resolved:r["k"](!0),metadata:r["x"],fee:i["b"],partner:s["a"]}),c["b"]])]),r["n"]({secret:s["h"],initiator:s["a"]}),r["w"]([r["n"]({expiration:r["m"]}),r["n"]({lockTimeout:r["m"]})])]),r["n"]({balanceProof:Object(s["j"])(a["a"])})),d=Object(u["b"])("transfer/signed",r["i"]([r["u"]({message:Object(s["j"])(o["b"]),fee:i["b"],partner:s["a"]}),c["b"]]),p),b=Object(u["b"])("transfer/processed",r["i"]([r["u"]({message:Object(s["j"])(o["f"])}),c["b"]]),p),y=Object(u["b"])("transfer/secret",r["u"]({secret:s["h"]}),p),h=Object(u["c"])(p,"transfer/secret/register",r["u"]({secret:s["h"]}),r["u"]({secret:s["h"],txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(u["b"])("transfer/secret/request",r["i"]([r["u"]({message:Object(s["j"])(o["g"])}),c["b"]]),p),v=Object(u["b"])("transfer/secret/reveal",r["i"]([r["u"]({message:Object(s["j"])(o["h"])}),c["b"]]),p),O=Object(u["c"])(p,"transfer/unlock",r["w"]([r["v"],c["b"]]),r["i"]([r["u"]({message:Object(s["j"])(o["i"]),partner:s["a"]}),c["b"]])),j=Object(u["b"])("transfer/unlock/processed",r["i"]([r["u"]({message:Object(s["j"])(o["f"])}),c["b"]]),p),g=Object(u["c"])(p,"transfer/expire",void 0,r["u"]({message:Object(s["j"])(o["a"]),partner:s["a"]})),w=Object(u["b"])("transfer/expire/processed",r["i"]([r["u"]({message:Object(s["j"])(o["f"])}),c["b"]]),p),_=Object(u["b"])("transfer/clear",r["v"],p),k=Object(u["b"])("transfer/load",l["e"],p),E=r["u"]({direction:l["b"],tokenNetwork:s["a"],partner:s["a"],totalWithdraw:Object(s["l"])(32),expiration:r["m"]}),T=Object(u["b"])("withdraw/resolve",r["w"]([r["v"],r["u"]({coopSettle:r["k"](!0)})]),E),S=Object(u["c"])(E,"withdraw",r["w"]([r["v"],r["u"]({coopSettle:r["d"]})]),r["u"]({txHash:s["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),A=Object(u["c"])(E,"withdraw/message",r["u"]({message:Object(s["j"])(o["l"])}),r["u"]({message:Object(s["j"])(o["j"])})),P=Object(u["b"])("withdraw/busy",r["v"],E),x=Object(u["c"])(E,"withdraw/expire",r["v"],r["u"]({message:Object(s["j"])(o["k"])})),N=Object(u["b"])("withdraw/completed",r["v"],E)},"87b1":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return re}));var r=n("36d8"),a=n.n(r),o=n("fbcd"),i=n("2fca");function c(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(){s(this,e);var t=this.constructor.isAvailable;if(!t)throw new Error("The provider is not available.")}return p(e,null,[{key:"isDisabled",value:function(){var e=u(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].configuration();case 2:return n=e.sent,r=null!==(t=n.disabled_ethereum_providers)&&void 0!==t?t:[],e.abrupt("return",r.includes(this.providerName));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function g(e){var t=k();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}f.isAvailable=!1;var T=function(e){O(n,e);var t=g(n);function n(e,r){var a;return h(this,n),a=t.call(this),a.provider=new o["b"].JsonRpcProvider(e),a.account=r,a}return v(n,null,[{key:"link",value:function(){var e=y(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t.rpcUrl,t.privateKey));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(f);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function C(e){var t=U();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===S(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}T.providerName="direct_rpc_provider",T.isAvailable=!0;var F=function(e){D(n,e);var t=C(n);function n(e){var r;return x(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return I(n,null,[{key:"isAvailable",get:function(){return!!window.ethereum||!!window.web3}},{key:"link",value:function(){var e=P(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isAvailable){e.next=2;break}throw new Error("No injected provider is available.");case 2:if(!window.ethereum){e.next=9;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t=window.ethereum,e.next=10;break;case 9:t=window.web3.currentProvider;case 10:return t.on("chainChanged",W),t.on("disconnect",W),e.abrupt("return",new this(t));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(f);function W(){window.location.replace(window.location.origin)}F.providerName="injected_provider";var V=n("7dd2");function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function J(e){var t=te();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){Q(n,e);var t=J(n);function n(e){var r;return G(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return X(n,null,[{key:"link",value:function(){var e=K(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=(null===t||void 0===t?void 0:t.bridgeUrl)||void 0,void 0!==t.rpcUrl||void 0!==t.infuraId){e.next=5;break}throw new Error("One of the options RPC URL or Infura Id are required to link.");case 5:if(void 0===t.rpcUrl||void 0===t.infuraId){e.next=9;break}throw new Error("Only one link option allowed. Either a RPC URL or a Infura Id.");case 9:if(void 0===t.rpcUrl){e.next=15;break}return e.next=12,ae(t.rpcUrl,r);case 12:o=e.sent,e.next=16;break;case 15:t.infuraId&&(o=ie(t.infuraId,r));case 16:return e.next=18,o.enable();case 18:return o.on("chainChanged",ce),o.on("disconnect",ce),e.abrupt("return",new n(o));case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(f);function ae(e,t){return oe.apply(this,arguments)}function oe(){return oe=K(a.a.mark((function e(t,n){var r,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new o["b"].JsonRpcProvider(t),e.next=3,r.getNetwork();case 3:return i=e.sent,c={bride:n,rpc:H({},i.chainId,t)},e.abrupt("return",new V["a"](c));case 6:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e,t){return new V["a"]({bridge:t,infuraId:e})}function ce(){window.location.replace(window.location.origin)}re.providerName="wallet_connect",re.isAvailable=!0},"8a6f":function(e,t,n){"use strict";n("7990")},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("1d25"),i=n("111d"),c=n.n(i);function u(e){return p(e)||l(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return v(e)}function f(e,t){return y(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function S(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function A(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"—— log end ——"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?S(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:S(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function P(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function x(e){return N.apply(this,arguments)}function N(){return N=j(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(o["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var I=/^raiden:(0x[0-9a-f]{40})$/i;function D(e){return R.apply(this,arguments)}function R(){return R=j(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(I.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(t);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function C(){return M.apply(this,arguments)}function M(){return M=j(a.a.mark((function e(){var t,n,r,o,i=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,x("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;function n(e,n,r){var a=this,o=t.call(this,e,n,r),i=r.toString();return D(i),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.call.apply(o,[a].concat(n));var c=A(n);c&&k.put(E,w({logger:i,level:e,message:c},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:i,level:e,message:n.map(P)},T?{block:T}:{}),Date.now())}))}}n.allowOverwrite=!0,e.methodFactory=n},r=0,o=[c.a].concat(u(t.map(c.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}var L=[[/(\\?["']?access_?token\\?["']?\s*[=:]\s*\\?["']?)[\w-]+(\\?["']?)/gi,"$1<redacted>$2"],[/(\\?["']?secret\\?["']?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/(\\?["']?secret\\?["']?\s*[=:]\s*\\?["']?)\w+(\\?["']?)/gi,"$1<redacted>$2"]];function U(e){var t,n=h(L);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=j(a.a.mark((function e(){var t,n,r,o,i,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,u=i.level,s=i.message,l=i.block,p=s.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,f=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(f).concat(d).concat(b," [").concat(u,"] \t=> ").concat(p,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=U(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8d26":function(e,t,n){},"8e8c":function(e,t,n){},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},9:function(e,t){},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n("87b8"),a=n("30c0"),o=n("905c9"),i=n("2111"),c=n("2b5b"),u=n("ca14"),s=(Object(u["r"])(/^0x[0-9a-fA-F]{40}@0x[0-9a-fA-F]{40}$/),Object(u["r"])(/^0x[0-9a-fA-F]{40}@0x[0-9a-fA-F]{40}#\d+$/)),l=i["i"]([i["u"]({amount:Object(u["l"])(32),expiration:Object(u["l"])(32),secrethash:u["c"]}),i["n"]({registered:i["k"](!0)})],"Lock"),p=i["o"](i["u"]({chainId:Object(u["l"])(32),tokenNetworkAddress:u["a"],channelId:Object(u["l"])(32),nonce:Object(u["l"])(8),transferredAmount:Object(u["l"])(32),lockedAmount:Object(u["l"])(32),locksroot:u["c"],additionalHash:u["c"]})),f=p,d={chainId:r["h"],tokenNetworkAddress:a["a"],channelId:r["h"],nonce:r["h"],transferredAmount:r["h"],lockedAmount:r["h"],locksroot:c["i"],additionalHash:o["a"],signature:c["l"]}},"92b0":function(e,t,n){},9547:function(e,t,n){"use strict";n("4b97")},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9a49":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},c.apply(this,arguments)}function u(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function l(e){var t=y();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},d(e)}function b(e,t,n){return b=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&m(o,n.prototype),o},b.apply(null,arguments)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,"a",(function(){return O}));var O=function(e){s(n,e);var t=l(n);function n(e){var r;return a(this,n),r=t.call(this),r.max=e,r}return i(n,[{key:"get",value:function(e){var t;return this.has(e)&&(t=c(v(n.prototype),"get",this).call(this,e),this.delete(e),c(v(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){this.get(e),c(v(n.prototype),"set",this).call(this,e,t);while(this.size>this.max){var r=this.keys().next().value;this.delete(r)}return this}}]),n}(d(Map))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7","transaction_hash":"0x93ba1e7c354da55e5ed30f84f7c9c5f709764534e4ae91beda7367c2b3eb9178","block_number":10948968,"gas_cost":253286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xE7c3c20c7e9d3E73cBD269aEc21029c7Fa60ECA1","transaction_hash":"0x42287bccb873835be04a9232ee4333a8e1ac5ab8d11672393f441814f163acd8","block_number":10948971,"gas_cost":4579888,"constructor_arguments":["0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7",20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x9EC018301D9968A553E917949cDb6FA79DA0AD6f","constructor_arguments":{"_token_address":"0xA9A8b1b74d7256b30C81a7BD82B5B659569E4EB2","_secret_registry":"0x00a286e17418A2cf0384ef0E001B7F47483Fb6D7","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_controller":"0xfB398E621c15E2BC5Ae6A508D8D89AF1f88c93e8","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a2b8:function(e,t,n){"use strict";n("bbb7")},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLE_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLE_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_COOP_SETTLE_FAILED":"TokenNetwork.cooperativeSettle transaction reverted.","CNL_SETTLE_AUTO_ENABLED":"Interactive channel settlement disabled when config.autoSettle is enabled; request will be made automatically","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_PENDING":"There\'s already a withdraw request pending.","CNL_WITHDRAW_RETRY_CONFIRMATION":"Retrying pending WithdrawConfirmation. Confirm or try again later.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","CNL_COOP_SETTLE_NOT_POSSIBLE":"Can not create or answer channel cooperative settle request","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_REGISTER_TOKEN_FAILED":"Failed to register tokens.","RDN_REGISTER_TOKEN_MAINNET":"Registering a token is only allowed on test networks.","RDN_REGISTER_TOKEN_REGISTERED":"Token is already registered.","RDN_TRANSACTION_FAILED":"Contract transaction failed.","RDN_APPROVE_TRANSACTION_FAILED":"Token approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC.","UDC_WITHDRAW_AUTO_ENABLED":"Interactive UDC withdraw disabled when config.autoUDCWithdraw is enabled; request will be made automatically","UDC_WITHDRAW_NO_PLAN":"No plan currently registered; you must call Raiden.planUDCWithdraw first","UDC_WITHDRAW_TOO_LARGE":"Your current plan is not enough to withdraw the requested amount"}')},a349:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n("c00b"),a=n("87b8"),o=n("30c0"),i=n("79b8"),c=n("2111"),u=n("8120"),s=n("d011"),l=n("f2df"),p=n("ca14");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return v(e)||m(e)||g(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){if(Array.isArray(e))return w(e)}function O(e,t){return k(e)||_(e,t)||g(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function k(e){if(Array.isArray(e))return e}var E=i["Decimal"].clone({precision:40,rounding:i["Decimal"].ROUND_HALF_EVEN}),T=new E(0),S=new E(1);function A(e){var t=parseInt(e);return Object(l["a"])(void 0!==t&&t==e),t}function P(e,t){var n=O(t,2),r=n[0],a=n[1];return Object(l["a"])(e.gt(0),"no output channel capacity available"),function(t){var n=new E(t.toHexString()),o=r(n),i=function(e){return o.add(a(e.neg())).sub(n).add(e)},c=T,u=i(c);Object(l["a"])(u.lt(0),"input transfer not enough to pay minimum fees");var f=e,d=i(f);Object(l["a"])(d.gte(0),"output capacity not enough to mediate transfer");while(1){var b=f.add(c).div(2),y=i(b),h=y.sub(u).div(b.sub(c)),m=d.sub(y).div(f.sub(b));if(m.sub(h).abs().lt(1e-6))break;u.isNegative()!==y.isNegative()?(f=b,d=y):(c=b,u=y)}var v=c.sub(u.mul(f.sub(c)).div(d.sub(u)));return Object(p["n"])(s["b"],n.sub(v).toFixed(0,E.ROUND_HALF_EVEN))}}var x={name:"flat",emptySchedule:{flat:a["h"]},decodeConfig:function(e,t){return Object(p["n"])(s["b"],null!==e&&void 0!==e?e:t).div(2)},channelFee:function(e){var t=new E(e.toHexString());return function(){return t}},fee:function(e){var t=Object(p["n"])(s["b"],e.mul(2));return function(){return t}},schedule:function(e){return{flat:e}}},N={name:"proportional",emptySchedule:{proportional:a["h"]},decodeConfig:function(e,t){var n=new E(A(null!==e&&void 0!==e?e:t)).div(1e6),r=n.div(n.add(2)).mul(1e6);return r.toDecimalPlaces(0,E.ROUND_HALF_EVEN).toNumber()},channelFee:function(e){var t=new E(e).div(1e6);return function(e){return e.mul(t).abs()}},fee:function(e){var t=new E(e).div(1e6);return function(e){var n=new E(e.toHexString()),r=n.mul(S.sub(t).div(S.add(t))),a=n.sub(r);return Object(p["n"])(s["b"],a.toFixed(0,E.ROUND_HALF_EVEN))}},schedule:function(e){return{proportional:r["a"].from(e)}}};function I(e,t,n){var r=t.sub(e);Object(l["a"])(n>=2&&r.gte(n-1),"invalid linspace params");for(var a=n-1,o=new E(r.toString()).div(a),i=[e],c=1;c<a;c++)i.push(e.add(o.mul(c).toFixed(0,E.ROUND_HALF_EVEN)));return[].concat(i,[t])}function D(e,t){Object(l["a"])(t.length>=2,"invalid linspace");var n=t[0][0],r=t[t.length-1][0];if(e.eq(r.toHexString()))return t.length-2;var a=new E(r.sub(n).toHexString()),o=a.div(t.length-1),i=Math.floor(e.sub(n.toHexString()).div(o).toNumber()),c=0;do{if(i<0)return-1;if(i>=t.length-1)return t.length-1;c=e.gte(t[i+1][0].toHexString())?-1:e.lt(t[i][0].toHexString())?1:0,i+=c}while(c);return i}function R(e,t,n){var r=O(t,2),a=r[0],o=r[1],i=O(n,2),c=i[0],u=i[1];return e.sub(a.toHexString()).mul(u.sub(o).toHexString()).div(c.sub(a).toHexString()).add(o.toHexString())}function C(e,t){var n=D(e,t);return n<0?n=0:n>=t.length-1&&(n=t.length-2),R(e,t[n],t[n+1])}function M(e,t){var n=21,o=new E("0.1");Object(l["a"])(e.gt(0),"not enough capacity");var i=new E(e.toHexString()),c=E.min(n,i.add(1)).toNumber(),u=I(a["h"],e,c);if(0===t)return[[a["h"],a["h"]],[e,a["h"]]];var s=new E(t).div(1e6);Object(l["a"])(s.lte(o.div(2)),"Too high imbalance fee");var p=i.mul(s),f=o,d=p,b=i.div(2),y=E.min(10,f.mul(b).div(d)),h=function(e){return r["a"].from(new E(e.toHexString()).sub(b).abs().pow(y).mul(d).div(b.pow(y)).toFixed(0,E.ROUND_HALF_EVEN))};return u.map((function(e){return[e,h(e)]}))}var L={name:"imbalance",emptySchedule:{imbalance_penalty:null},decodeConfig:function(e,t){var n=A(null!==e&&void 0!==e?e:t);return Object(l["a"])(n>=0&&n<=5e4,"Too high imbalance fee"),n},channelFee:function(e,t){var n=Object(u["a"])(t),r=n.totalCapacity,a=n.ownCapacity;if(!e||!r.gt(0))return function(){return T};var o=M(r,e),i=C(new E(a.toHexString()),o);return function(e){return C(e.add(a.toHexString()),o).sub(i)}},fee:function(e,t,n){var r=this.channelFee(e,t),a=this.channelFee(e,n),o=new E(Object(u["a"])(n).ownCapacity.toHexString());return P(o,[r,a])},schedule:function(e,t){var n=Object(u["a"])(t),r=n.totalCapacity;if(!e||!r.gt(0))return{imbalance_penalty:null};var a=M(r,e);return{imbalance_penalty:a}}};function U(e){var t=Object.assign.apply(Object,[{cap_fees:!0}].concat(y(Object.values(e).map((function(e){return e.emptySchedule}))))),n=c["w"]([c["v"],c["q"](c["r"],c["q"](c["r"],c["x"]))]),r={name:"standard",emptySchedule:t,decodeConfig:function(t,r){for(var a=d(d({},Object(p["n"])(n,t)),Object(p["n"])(n,r)),o=0,i=Object.entries(a);o<i.length;o++){for(var c,u=O(i[o],2),s=u[0],l=u[1],f=Object(p["n"])(p["a"],s),b={cap:null===(c=l["cap"])||void 0===c||c},y=0,h=Object.entries(e);y<h.length;y++){var m=O(h[y],2),v=m[0],j=m[1],g=v;g in l&&(b[g]=j.decodeConfig(l[v]))}a[f]=b}return a},channelFee:function(t,n){var r,a=n.token,i=null!==(r=t[a])&&void 0!==r?r:t[o["a"]],c=Object.entries(e).map((function(e){var t=O(e,2),r=t[0],a=t[1],o=null===i||void 0===i?void 0:i[r];if(o)return a.channelFee(o,n)})).filter(p["p"]);return function(e){return c.reduce((function(t,n){return t.add(n(e))}),T)}},fee:function(e,n,r){var i,c,s,l=this.channelFee(e,n),p=this.channelFee(e,r),f=new E(Object(u["a"])(r).ownCapacity.toHexString()),d=null!==(i=null===(c=null!==(s=e[n.token])&&void 0!==s?s:e[o["a"]])||void 0===c?void 0:c.cap)&&void 0!==i?i:t.cap_fees,b=P(f,[l,p]);return function(e){var t=b(e);return d&&t.lt(0)&&(t=a["h"]),t}},schedule:function(n,r){var a,i=r.token,c=null!==(a=n[i])&&void 0!==a?a:n[o["a"]];return Object.assign.apply(Object,[{},t,void 0!==(null===c||void 0===c?void 0:c.cap)?{cap_fees:c.cap}:void 0].concat(y(Object.entries(e).map((function(e){var t=O(e,2),n=t[0],a=t[1],o=n,i=null===c||void 0===c?void 0:c[o];return i?a.schedule(i,r):{}})))))}};return r}var B=U({flat:x,proportional:N,imbalance:L})},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["c"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["c"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){try{return r["c"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}catch(n){return r["a"].Zero}}}]),e}()},a500:function(e,t,n){"use strict";n("6fce")},b19b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r,a=n("36d8"),o=n.n(a),i=n("8962"),c=n("6bc1");function u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=(null!==(r="/")&&void 0!==r?r:"/")+"version.json",y=function(){function t(n){var r,a,o,u,s=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,b=arguments.length>3?arguments[3]:void 0;p(this,t),this.handleInstalledVersionMessage=function(e){var t=e.version;if(!Object(i["b"])(t))throw new Error("Malformed installation version: ".concat(t));s.store.commit("versionInformation/setInstalledVersion",t)},this.handleInstallationErrorMessage=function(e){s.console.error("Service worker failed during installation phase."),s.console.error(e.error),s.setUpdateIsMandatory()},this.handleCacheIsInvalidMessage=function(){s.setUpdateIsMandatory()},this.handleReloadWindowMessage=function(){s.reloadWindow()},this.store=n,this.serviceWorkerContainer=null!==(r=null===b||void 0===b?void 0:b.serviceWorkerContainer)&&void 0!==r?r:e.navigator.serviceWorker,this.window=null!==(a=null===b||void 0===b?void 0:b.window)&&void 0!==a?a:e.window,this.console=null!==(o=null===b||void 0===b?void 0:b.console)&&void 0!==o?o:e.console,this.messageHandlers=(u={},l(u,c["c"].INSTALLED_VERSION,this.handleInstalledVersionMessage),l(u,c["c"].INSTALLATION_ERROR,this.handleInstallationErrorMessage),l(u,c["c"].CACHE_IS_INVALID,this.handleCacheIsInvalidMessage),l(u,c["c"].RELOAD_WINDOW,this.handleReloadWindowMessage),u),this.serviceWorkerContainer&&(this.serviceWorkerContainer.addEventListener("message",this.onMessage.bind(this)),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion.bind(this),f),setInterval(this.verifyCacheValidity.bind(this),d))}return d(t,[{key:"update",value:function(){var e=s(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.prepareUpdate(),e.next=3,this.postMessage(c["c"].UPDATE);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"verifyIfCorrectVersionGotLoaded",value:function(){var e=s(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=!this.correctVersionIsLoaded,!e.t0){e.next=5;break}return e.next=4,this.isAnyServiceWorkerRegistered();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=10;break}return this.console.error("Active version is not installed version."),e.next=9,this.unregisterAllServiceWorker();case 9:this.reloadWindow();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMessage",value:function(e){var t,n=new c["a"](e);n.isInOldFormat||null===(t=this.messageHandlers[n.type])||void 0===t||t.call(this,n.payload)}},{key:"updateAvailableVersion",value:function(){var e=s(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.window.fetch(b);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.version.version,this.setAvailableVersion(r),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.console.error("Failed to update available version"),this.console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"verifyCacheValidity",value:function(){this.postMessage(c["c"].VERIFY_CACHE)}},{key:"isAnyServiceWorkerRegistered",value:function(){var e=s(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.serviceWorkerContainer)||void 0===n?void 0:n.getRegistrations();case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=[];case 11:return r=e.t2,e.abrupt("return",r.length>0);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"postMessage",value:function(){var e=s(o.a.mark((function e(t){var n,r,a,i=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},!this.serviceWorkerContainer){e.next=6;break}return e.next=4,this.serviceWorkerContainer.ready;case 4:a=new c["b"](t,n),null===(r=this.serviceWorkerContainer.controller)||void 0===r||r.postMessage(a.encode());case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unregisterAllServiceWorker",value:function(){var e=s(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.serviceWorkerContainer)||void 0===n?void 0:n.getRegistrations();case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=[];case 11:return r=e.t2,e.next=14,Promise.all(r.map(function(){var e=s(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.unregister());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reloadWindow",value:function(){this.window.location.reload()}},{key:"correctVersionIsLoaded",get:function(){return this.store.getters["versionInformation/correctVersionIsLoaded"]}},{key:"setAvailableVersion",value:function(e){if(!Object(i["b"])(e))throw new Error("Malformed available version: ".concat(e));this.store.commit("versionInformation/setAvailableVersion",e)}},{key:"setUpdateIsMandatory",value:function(){this.store.commit("versionInformation/setUpdateIsMandatory")}},{key:"prepareUpdate",value:function(){this.store.commit("versionInformation/prepareUpdate")}}]),t}()}).call(this,n("a42b"))},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E","transaction_hash":"0xb86c3f9d6595c93131a9f667cee1427451e16b081cf0c3790cd3c88037555428","block_number":10948974,"gas_cost":1684374,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C","0xfB398E621c15E2BC5Ae6A508D8D89AF1f88c93e8",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xAa77531BfdC85aC07D662d2BB3421859b4e838b9","transaction_hash":"0xda5ee5d2b499f0629f6b51a730e85125ae85bfa3138064598438fc501d79a080","block_number":10948975,"gas_cost":1030612,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C",1.157920892373162e+77]},"MonitoringService":{"address":"0xb901a61208b7AF03f19CF32818fFE49521f93252","transaction_hash":"0xd60a214dc73f10a25dde138f19ff55ad147f3da547195dd5bf6eaa8c60a5015f","block_number":10948977,"gas_cost":1450972,"constructor_arguments":["0xF8881DdDfB76147c0627F5d7bD1206b101AFE58C","0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E","0xAa77531BfdC85aC07D662d2BB3421859b4e838b9","0xE7c3c20c7e9d3E73cBD269aEc21029c7Fa60ECA1"]},"OneToN":{"address":"0x9Bc911f72BD9156dD6EDdf68be0b89ff91c01B72","transaction_hash":"0x95acbe202e964f2a04879c8880474df1d9eae4652651951c8e1daf47f4a364f9","block_number":10948978,"gas_cost":962079,"constructor_arguments":["0xAa77531BfdC85aC07D662d2BB3421859b4e838b9",3,"0xB1A7C888e261504A3F2290F8DE1A0642d58abe6E"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"header-content pa-0",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"2"}},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"36px",width:"36px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("v-col",{staticClass:"header-content__title",attrs:{cols:"auto"}},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"","x-small":""}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83"),width:"10px"},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("v-col",{attrs:{cols:"2"}},[e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=j();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){y(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){var e;return!(null===(e=this.$route.meta)||void 0===e||!e.infoOverlay)}},{key:"canNavigateBack",get:function(){var e;return!this.disableBackButton&&!(null!==(e=this.$route.meta)&&void 0!==e&&e.cannotNavigateBack)}}]),n}(i["g"]);Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(o["f"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(o["f"])([Object(i["b"])()],w.prototype,"showInfo",null),Object(o["f"])([Object(i["b"])()],w.prototype,"navigateBack",null),w=Object(o["f"])([Object(i["a"])({computed:l(l({},Object(c["e"])(["isConnected"])),Object(c["c"])(["network"]))})],w);var _=w,k=_,E=(n("62a5"),n("a6c2")),T=n("411c"),S=n.n(T),A=n("9c46"),P=n("1fb1"),x=n("f56c"),N=n("1331"),I=n("e614"),D=Object(E["a"])(k,r,a,!1,null,"c5165142",null);t["a"]=D.exports;S()(D,{VBtn:A["a"],VCol:P["a"],VContainer:x["a"],VImg:N["a"],VRow:I["a"]})},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("0ba5"),i=n("ca14"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var u=a["o"](a["u"]({address:i["a"],deposit:Object(i["l"])(32),withdraw:Object(i["l"])(32),locks:a["p"](c["d"]),balanceProof:Object(i["j"])(c["a"]),pendingWithdraws:a["p"](a["w"]([Object(i["j"])(o["e"]),Object(i["j"])(o["c"]),Object(i["j"])(o["d"])])),nextNonce:Object(i["l"])(8)}),"ChannelEnd"),s=u,l=a["i"]([a["o"](a["u"]({_id:c["c"],id:a["m"],token:i["a"],tokenNetwork:i["a"],settleTimeout:a["m"],isFirstParticipant:a["d"],openBlock:a["m"],own:s,partner:s}),"Channel"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.open),a["k"](r.closing)])}),"state[open|closing]"),a["i"]([a["o"](a["u"]({closeBlock:a["m"],closeParticipant:i["a"]}),"ChannelClosed"),a["w"]([a["o"](a["u"]({state:a["w"]([a["k"](r.closed),a["k"](r.settleable),a["k"](r.settling)])}),"state[closed|settleable|settling]"),a["o"](a["u"]({state:a["k"](r.settled),settleBlock:a["m"]}),"state[settled]")])])])])},bbb7:function(e,t,n){},bcdd:function(e,t,n){"use strict";n("c12f")},bf6c:function(e){e.exports=JSON.parse('{"sdk":"2.2.0","contracts":"0.40.0"}')},c12f:function(e,t,n){},c50f:function(e,t,n){"use strict";n("0f05")},ca14:function(e,t,n){"use strict";n.d(t,"n",(function(){return j})),n.d(t,"p",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"l",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"k",(function(){return D})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"j",(function(){return M})),n.d(t,"o",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"m",(function(){return B})),n.d(t,"r",(function(){return F}));var r=n("2d67"),a=n("c00b"),o=n("b97c"),i=n("87b8"),c=n("a91f"),u=n("2111"),s=n("c2c4"),l=n("427e"),p=n.n(l),f=n("ee6c"),d=["ts"];function b(e,t){if(null==e)return{};var n,r,a=y(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Object(c["isLeft"])(e))throw new Error(s["PathReporter"].report(e).join("\n"))}function j(e,t,n,r){try{var a=e.decode(t);return O(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e.name,e,t,o),n?n instanceof Error?Object.assign(n,{data:t}):new f["c"](n,{data:t}):Object.assign(o,{data:t})}}function g(e){return null!=e}var w=new u["b"]("BigNumber",a["a"].isBigNumber,(function(e,t){try{return u["s"](a["a"].from(e))}catch(n){return u["g"](e,t)}}),(function(e){return e.toString()})),_=p()((function(e){return u["e"](u["r"],(function(t){return"string"===typeof t&&(e?Object(o["d"])(t)===e:Object(o["l"])(t))}),"HexString")})),k=p()((function(e){var t=e?i["h"].sub(i["f"].pow(8*e-1)):void 0,n=e?i["f"].pow(8*e-1):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),E=p()((function(e){var t=e?i["h"]:void 0,n=e?i["f"].pow(8*e):void 0;return u["e"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),T=_(65),S=_(32),A=_(32),P=_(32),x=_(65);function N(e){try{return Object(r["a"])(e)===e}catch(t){return!1}}var I=new u["a"]("Address",N,(function(e,t){try{return u["s"](Object(r["a"])(e))}catch(n){return u["g"](e,t)}}),u["h"],_(20),N),D=p()((function(e){return u["i"]([e,u["o"](u["u"]({ts:u["m"]}))])}));function R(e){return m(m({},e),{},{ts:Date.now()})}function C(e){e.ts;var t=b(e,d);return t}var M=p()((function(e){return u["i"]([e,u["o"](u["u"]({signature:T}))])})),L=p()((function(e){return new u["b"]("instanceOf(".concat(e,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e}),(function(t,n){var r;return(null===t||void 0===t||null===(r=t.constructor)||void 0===r?void 0:r.name)===e?u["s"](t):u["g"](t,n)}),u["h"])}));function U(e){return e[e.length-1]}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}function F(e,t){var n="string"===typeof e?new RegExp(e):e,r=function(e){return n.test(e)};return new u["a"](null!==t&&void 0!==t?t:"TemplateLiteral<".concat(n.source,">"),(function(e){return u["r"].is(e)&&r(e)}),(function(e,t){var n=u["r"].validate(e,t);if(Object(c["isLeft"])(n))return n;var a=n.right;return r(a)?u["s"](a):u["g"](a,t)}),u["r"].encode,u["r"],r)}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("d74d");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var a=n("e832"),o=n("b7e6"),i=n.n(o);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=function(){function e(){c(this,e),this.cache={}}return s(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=i()(e);return this.cache[e]=n,n}}]),e}();function p(e,t){e.prototype.$identicon=new l}var f,d=n("3568"),b=n("4af9"),y=n("e6ee"),h=n.n(y),m=n("79e0"),v=n.n(m),O=n("0cb2"),j=n.n(O),g=n("605b"),w=n.n(g),_=n("fe07"),k=n.n(_),E=n("c38e"),T=n.n(E),S=n("6298"),A=n.n(S),P=n("94ea"),x=n("fbac"),N=n("f455"),I=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},D={name:"",chainId:-1};(function(e){e["DEPLOYMENT_INFO_PARSING_FAILED"]="deployment-info-parsing-failed",e["UNSUPPORTED_NETWORK"]="unsupported-network",e["SDK_INITIALIZATION_FAILED"]="sdk-initialization-failed",e["STATE_MIGRATION_FAILED"]="state-migration-failed"})(f||(f={}));var R=n("6485");function C(e,t){return t.id-e.id}var M={notifications:function(e){return Object.values(e.notifications).sort(C)},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===R["a"].HIGH&&!0===e.display})).sort(C)}},L=n("d8a5");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return q(e)||H(e)||$(e)||V()}function V(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(e,t){if(e){if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function H(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function q(e){if(Array.isArray(e))return K(e)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,W(t).concat([0]))+1}var Y={notificationDelete:function(e,t){var n=B({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,u=e.notifications,s=Object.values(u).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=s[0])||void 0===r?void 0:r.id)&&void 0!==n?n:G(u),p=null===(a=s[0])||void 0===a||!a.id,f=B(B({},t),{},{id:l,received:new Date,display:p,context:null!==(o=t.context)&&void 0!==o?o:L["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:R["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=B(B({},u),{},F({},f.id,f)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}},X=function(){return{notifications:{},newNotifications:!1}},Q=X(),Z=Q,J={namespaced:!0,mutations:Y,state:Z,getters:M},z={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},ee=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},te=ee(),ne=te,re={namespaced:!0,mutations:z,state:ne},ae={getEthereumProviderOptions:function(e){return function(t){var n;return null!==(n=e.ethereumProviderOptions[t])&&void 0!==n?n:{}}}},oe={enableRaidenAccount:function(e){e.useRaidenAccount=!0},disableRaidenAccount:function(e){e.useRaidenAccount=!1},saveEthereumProviderOptions:function(e,t){e.ethereumProviderOptions[t.providerName]=t.providerOptions}},ie=function(){return{useRaidenAccount:!0,ethereumProviderOptions:{}}},ce=ie(),ue=ce,se={namespaced:!0,state:ue,getters:ae,mutations:oe};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=new x["a"]({key:"raiden_dapp_settings",storage:e,modules:["userSettings"]});return t.plugin}var pe=n("8962"),fe="disclaimer";function de(e,t,n){return Object(pe["b"])(e)&&Object(pe["b"])(t)&&Object(pe["a"])(e,t,n)}function be(){return null===localStorage.getItem(fe)}var ye={correctVersionIsLoaded:function(e){if(be()||e.updateInProgress)return!0;var t=e.installedVersion,n=e.activeVersion;return void 0===t?de(n,"2.0.1","<="):de(t,n,"=")},updateIsAvailable:function(e){return de(e.availableVersion,e.installedVersion,">")}},he={setInstalledVersion:function(e,t){Object(pe["b"])(t)&&(e.installedVersion=t),e.updateInProgress=!1},setAvailableVersion:function(e,t){Object(pe["b"])(t)&&(e.availableVersion=t)},setUpdateIsMandatory:function(e){e.updateIsMandatory=!0},prepareUpdate:function(e){e.updateInProgress=!0}},me=function(){var e;return{activeVersion:null!==(e="2.2.0")&&void 0!==e?e:"0.0.0",installedVersion:void 0,availableVersion:void 0,updateIsMandatory:!1,updateInProgress:!1}},ve=me(),Oe=ve,je={namespaced:!0,state:Oe,getters:ye,mutations:he};function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=new x["a"]({key:"raiden_dapp_versionInformation",storage:e,reducer:function(e){return{versionInformation:{installedVersion:e.versionInformation.installedVersion,updateInProgress:e.versionInformation.updateInProgress}}},filter:function(e){return["versionInformation/setInstalledVersion","versionInformation/prepareUpdate"].includes(e.type)}});return t.plugin}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return xe(e)||Pe(e,t)||Se(e,t)||Te()}function Te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function xe(e){if(Array.isArray(e))return e}a["a"].use(P["b"]);var Ne={isConnected:!1,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",channels:{},tokens:{},transfers:{},presences:{},network:D,stateBackup:"",config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1};function Ie(){return h()(Ne)}var De=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},Re=new x["b"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:fe}),Ce=new x["b"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Me={state:Ie(),mutations:{setConnected:function(e){e.isConnected=!0},setDisconnected:function(e){e.isConnected=!1},account:function(e,t){e.defaultAccount=t},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Ee(r[n],2),o=a[0],i=a[1];o in e.tokens&&k()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=_e(_e({},e.tokens[o]),i):e.tokens=_e(_e({},e.tokens),{},ke({},o,i)))}},updatePresence:function(e,t){e.presences=_e(_e({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.disclaimerAccepted,n=e.stateBackup,r=e.stateBackupReminderDateMs;Object.assign(e,_e(_e({},Ie()),{},{disclaimerAccepted:t,stateBackup:n,stateBackupReminderDateMs:r}))},updateTransfers:function(e,t){e.transfers=_e(_e({},e.transfers),{},ke({},t.key,t))},backupState:function(e,t){e.stateBackup=t},clearBackupState:function(e){e.stateBackup=""},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t}},actions:{},getters:{tokensWithChannels:function(e){for(var t={},n=0,r=Object.entries(e.tokens);n<r.length;n++){var a=Ee(r[n],2),o=a[0],i=a[1];e.channels[o]&&(t[o]=i)}return t},tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return T()(v()(j()(e.channels),(function(e){return!w()(e)})),(function(n){var r=A()(n,t,I()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return De(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!w()(r)&&(n=j()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(N["g"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===N["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}}},plugins:[le(),Re.plugin,Ce.plugin,ge()],modules:{notifications:J,userDepositContract:re,userSettings:se,versionInformation:je}},Le=new P["b"].Store(Me),Ue=n("80bf");function Be(e,t,r){null===t.name?r({name:Ue["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-3314e250").then(n.bind(null,"47f5"))}),r()}var Fe=[Ue["a"].ACCOUNT_ROOT,Ue["a"].ACCOUNT_BACKUP,Ue["a"].ACCOUNT_SETTINGS],We=function(e,t){var n,r=t.state.isConnected,a=Fe.includes(null!==(n=e.name)&&void 0!==n?n:""),o=e.name===Ue["a"].HOME;if(!a)return r||o?!r&&o?null:r&&o?{name:Ue["a"].TRANSFER}:void 0:{name:Ue["a"].HOME,query:{redirectTo:e.fullPath}}},Ve=function(e,t){var n=t.state.disclaimerAccepted,r=e.name===Ue["a"].DISCLAIMER;return n||r?!n&&r?null:n&&r?{name:Ue["a"].HOME}:void 0:{name:Ue["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}};function $e(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=He(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function He(e,t){if(e){if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t,n){var r,a=$e(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e,this.store);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}var Ge=[Ue["a"].ACCOUNT_ROOT,Ue["a"].ACCOUNT_BACKUP,Ue["a"].ACCOUNT_RAIDEN,Ue["a"].ACCOUNT_SETTINGS,Ue["a"].ACCOUNT_WITHDRAWAL,Ue["a"].ACCOUNT_UDC],Ye=[Ue["a"].SELECT_TOKEN,Ue["a"].SELECT_HUB,Ue["a"].OPEN_CHANNEL],Xe=function(e,t){var n,r,a=t.getters.tokensWithChannels,o=0===Object.keys(a).length,i=e.name===Ue["a"].NO_CONNECTED_TOKEN,c=e.name===Ue["a"].QUICK_PAY,u=Ge.includes(null!==(n=e.name)&&void 0!==n?n:""),s=Ye.includes(null!==(r=e.name)&&void 0!==r?r:"");if(!u&&!c)return s?null:o&&!i?{name:Ue["a"].NO_CONNECTED_TOKEN}:o&&i?null:!o&&i?{name:Ue["a"].TRANSFER}:void 0};function Qe(e,t,r){null===t.name?r({name:Ue["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-f6a6c064").then(n.bind(null,"c284"))}),r()}var Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__text"},[n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.user-info.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.user-info.body")))]),n("div",e._l(e.$t("disclaimer.user-info.bullet-points"),(function(t,r){return n("ul",{key:r,staticClass:"disclaimer__content__text__bullet-points"},[n("li",[e._v(" "+e._s(t.text)+" "),n("a",{attrs:{href:e.disclaimerUrlMappings[r],target:"_blank"}},[e._v(" "+e._s(t.link)+" ")])])])})),0),e.imprint&&e.terms?n("span",{staticClass:"disclaimer__content__text__header, imprint_terms_header"},[e._v(" "+e._s(e.$t("disclaimer.terms.header"))+" ")]):e._e(),e.imprint&&e.terms?n("i18n",{staticClass:"disclaimer__content__text__imprint-terms-body",attrs:{path:"disclaimer.terms.body",tag:"span"}},[n("a",{attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-terms"))+" ")]),n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-policy"))+" ")])]):e._e(),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.disclaimer.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.disclaimer.body")))]),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.privacy.header"))+" ")]),e._l(e.$t("disclaimer.privacy.body"),(function(t,r){return n("div",{key:r,staticClass:"disclaimer__content__text__body"},[n("span",[e._v(e._s(t))])])}))],2),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,"full-width":"",sticky:""},on:{click:e.accept}})],1)},Je=[],ze=n("6dbe"),et=n("5cf9"),tt=n("750b");function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function it(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function ut(e){var t=pt();return function(){var n,r=ft(e);if(t){var a=ft(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return st(this,n)}}function st(e,t){if(t&&("object"===nt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}var dt=function(e){it(n,e);var t=ut(n);function n(){var e;return rt(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e.disclaimerUrlMappings={portal:"https://developer.raiden.network",docs:"https://docs.raiden.network",videos:"https://www.youtube.com/channel/UCoUP_hnjUddEvbxmtNCcApg",medium:"https://medium.com/@raiden_network"},e}return ot(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ue["a"].HOME}}},{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}}]),n}(et["g"]);dt=Object(ze["f"])([Object(et["a"])({components:{ActionButton:tt["a"]}})],dt);var bt=dt,yt=bt,ht=(n("5c69"),n("a6c2")),mt=n("411c"),vt=n.n(mt),Ot=n("0591"),jt=Object(ht["a"])(yt,Ze,Je,!1,null,"37e09807",null),gt=jt.exports;vt()(jt,{VCheckbox:Ot["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#try-out-the-raiden-dapp",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("connection-manager")],1)],1)],1)},_t=[],kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection-manager"},[n("v-alert",{staticClass:"connection-manager__error-message font-weight-light",class:{"connection-manager__error-message--hidden":!e.errorCode},attrs:{color:"error",icon:"warning"}},[e._v(" "+e._s(e.translatedErrorCode)+" ")]),e.showProviderButtons?[e._l(e.providerList,(function(t,r){return[e.isProviderDisabled(r)?e._e():n("action-button",{key:"button_"+r,staticClass:"connection-manager__provider-dialog-button",attrs:{"data-cy":"connection-manager__provider-dialog-button__"+r,enabled:t.factory.isAvailable,text:e.$t(t.buttonText),width:"280px"},on:{click:function(t){return e.openProviderDialog(r)}}})]}))]:e._e(),e._l(e.providerList,(function(t,r){return[e.isProviderDialogVisible(r)?n(t.dialogComponent,{key:"dialog_"+r,tag:"component",on:{linkEstablished:e.onProviderLinkEstablished,cancel:function(t){return e.closeProviderDialog(r)}}}):e._e()]})),e.inProgress?[n("connection-pending-dialog",{on:{"reset-connection":e.resetConnection}})]:e._e()],2)},Et=[],Tt=n("36d8"),St=n.n(Tt),At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{attrs:{visible:!0,"hide-close":!0}},[n("v-card-title",[e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.title"))+" ")]),n("v-card-text",[n("spinner"),e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.text"))+" ")],1),n("v-card-actions",[n("action-button",{attrs:{text:e.$t("connection-manager.dialogs.connection-pending.button"),enabled:!0},on:{click:e.resetConnection}})],1)],1)},Pt=[],xt=n("66bc"),Nt=n("0527");function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}function Lt(e,t){return Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lt(e,t)}function Ut(e){var t=Wt();return function(){var n,r=Vt(e);if(t){var a=Vt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){if(t&&("object"===It(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}var $t=function(e){Mt(n,e);var t=Ut(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Ct(n,[{key:"resetConnection",value:function(){}}]),n}(et["g"]);Object(ze["f"])([Object(et["b"])("reset-connection")],$t.prototype,"resetConnection",null),$t=Object(ze["f"])([Object(et["a"])({components:{ActionButton:tt["a"],RaidenDialog:xt["a"],Spinner:Nt["a"]}})],$t);var Ht=$t,qt=Ht,Kt=n("e47e"),Gt=Object(ht["a"])(qt,At,Pt,!1,null,null,null),Yt=Gt.exports;vt()(Gt,{VCardActions:Kt["a"],VCardText:Kt["c"],VCardTitle:Kt["d"]});var Xt,Qt=n("2fca"),Zt=n("87b1");function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t){return cn(e)||on(e,t)||rn(e,t)||nn()}function nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rn(e,t){if(e){if("string"===typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function cn(e){if(Array.isArray(e))return e}function un(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){un(o,r,a,i,c,"next",e)}function c(e){un(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}function bn(e,t){return bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bn(e,t)}function yn(e){var t=vn();return function(){var n,r=On(e);if(t){var a=On(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===Jt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e){return e instanceof Qt["b"]?f.DEPLOYMENT_INFO_PARSING_FAILED:e.message&&e.message.includes("No deploy info provided")?f.UNSUPPORTED_NETWORK:e.message&&e.message.includes("Could not replace stored state")?f.STATE_MIGRATION_FAILED:f.SDK_INITIALIZATION_FAILED}var wn=Object(P["a"])("userSettings"),_n=wn.mapState,kn=(Xt={},jn(Xt,Zt["b"].providerName,{factory:Zt["b"],buttonText:"connection-manager.dialogs.injected-provider.header",dialogComponent:function(){return n.e("chunk-999b6682").then(n.bind(null,"073a"))}}),jn(Xt,Zt["c"].providerName,{factory:Zt["c"],buttonText:"connection-manager.dialogs.wallet-connect-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-0516db04"),n.e("chunk-b99bb93e")]).then(n.bind(null,"f634"))}}),jn(Xt,Zt["a"].providerName,{factory:Zt["a"],buttonText:"connection-manager.dialogs.direct-rpc-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-0516db04"),n.e("chunk-2d0ac3da")]).then(n.bind(null,"1962"))}}),Xt),En=function(e){dn(n,e);var t=yn(n);function n(){var e;return ln(this,n),e=t.apply(this,arguments),e.inProgress=!1,e.errorCode=null,e.providerList=kn,e.providerDialogOpenState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!1]}))),e.providerDisabledState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!0]}))),e}return fn(n,[{key:"showProviderButtons",get:function(){return!this.isConnected&&!this.inProgress}},{key:"translatedErrorCode",get:function(){if(this.errorCode){var e="error-codes.".concat(this.errorCode.toString());return this.$t(e)}return""}},{key:"isProviderDisabled",value:function(e){var t;return null===(t=this.providerDisabledState[e])||void 0===t||t}},{key:"isProviderDialogVisible",value:function(e){var t;return null!==(t=this.providerDialogOpenState[e])&&void 0!==t&&t}},{key:"openProviderDialog",value:function(e){this.providerDialogOpenState[e]=!0}},{key:"closeProviderDialog",value:function(e){this.providerDialogOpenState[e]=!1}},{key:"created",value:function(){this.checkForDisabledProviders()}},{key:"checkForDisabledProviders",value:function(){var e=sn(St.a.mark((function e(){var t,n,r,a=this;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(){var e=tn(r[n],2),t=e[0],o=e[1];o.factory.isDisabled().then((function(e){a.providerDisabledState[t]=e}))},n=0,r=Object.entries(this.providerList);n<r.length;n++)t();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeAllProviderDialogs",value:function(){this.providerDialogOpenState=Object.fromEntries(Object.keys(this.providerDialogOpenState).map((function(e){return[e,!1]})))}},{key:"onProviderLinkEstablished",value:function(){var e=sn(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeAllProviderDialogs(),e.next=3,this.connect(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=sn(St.a.mark((function e(t){var n,r,a;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isConnected&&!this.inProgress){e.next=2;break}throw new Error("Can only connect once!");case 2:return this.inProgress=!0,this.errorCode=null,this.$store.commit("reset"),e.next=7,Qt["a"].configuration();case 7:return n=e.sent,r=!!this.useRaidenAccount||void 0,e.next=11,t.provider.getNetwork();case 11:a=e.sent,a.chainId,e.next=16;break;case 16:return e.prev=16,e.next=19,this.$raiden.connect(t.provider,t.account,this.stateBackup,n.per_network,r);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e["catch"](16),this.errorCode=gn(e.t0),this.inProgress=!1,e.abrupt("return");case 26:this.$store.commit("setConnected"),this.$store.commit("clearBackupState");case 28:case"end":return e.stop()}}),e,this,[[16,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetConnection",value:function(){localStorage.removeItem("walletconnect"),window.location.replace(window.location.origin)}}]),n}(et["g"]);En=Object(ze["f"])([Object(et["a"])({computed:en(en({},Object(P["e"])(["isConnected","stateBackup"])),_n(["useRaidenAccount"])),components:{ActionButton:tt["a"],ConnectionPendingDialog:Yt}})],En);var Tn=En,Sn=Tn,An=(n("9547"),n("36c4")),Pn=Object(ht["a"])(Sn,kt,Et,!1,null,"7294558e",null),xn=Pn.exports;function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Un(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bn(e,t)}function Bn(e,t){return Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bn(e,t)}function Fn(e){var t=$n();return function(){var n,r=Hn(e);if(t){var a=Hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){if(t&&("object"===Nn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}vt()(Pn,{VAlert:An["a"]});var qn=function(e){Un(n,e);var t=Fn(n);function n(){return Cn(this,n),t.apply(this,arguments)}return Ln(n,[{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ue["a"].TRANSFER}}},{key:"onConnectionEstablished",value:function(e){e&&this.$router.push(this.navigationTarget)}}]),n}(et["g"]);Object(ze["f"])([Object(et["h"])("isConnected",{immediate:!0})],qn.prototype,"onConnectionEstablished",null),qn=Object(ze["f"])([Object(et["a"])({computed:Dn({},Object(P["e"])(["isConnected"])),components:{ConnectionManager:xn}})],qn);var Kn=qn,Gn=Kn,Yn=(n("e3b7"),n("1fb1")),Xn=n("1331"),Qn=n("e614"),Zn=Object(ht["a"])(Gn,wt,_t,!1,null,"11491f22",null),Jn=Zn.exports;vt()(Zn,{VCol:Yn["a"],VImg:Xn["a"],VRow:Qn["a"]});var zn=[{path:"/",name:Ue["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:gt},{path:"*",redirect:"/"},{path:"/home",name:Ue["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:Jn},{path:"/no_connected_token",name:Ue["a"].NO_CONNECTED_TOKEN,meta:{title:"Connect",cannotNavigateBack:!0},component:function(){return n.e("chunk-2d0abce7").then(n.bind(null,"179d"))}},{path:"/transfer/:token?",name:Ue["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-548cab13")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:Ue["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-0f5a786a")]).then(n.bind(null,"146c"))}},{path:"/quick_pay",name:Ue["a"].QUICK_PAY,meta:{title:"Quick Pay",cannotNavigateBack:!0},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-43e44688"),n.e("chunk-554e465f")]).then(n.bind(null,"3fb0"))}},{path:"/connect",name:Ue["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-451aab9e")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:Ue["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-95a85f32")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:Ue["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-43e44688"),n.e("chunk-6060fe37")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:Ue["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-04c2b6fd"),n.e("chunk-2cce55b7"),n.e("chunk-6f7377eb"),n.e("chunk-9ad0759c")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:Ue["a"].NOTIFICATIONS,beforeEnter:Qe},{path:"/account",beforeEnter:Be,children:[{path:"/",name:Ue["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-69594727")]).then(n.bind(null,"f18d"))}},{path:"backup",name:Ue["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-bd351282")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:Ue["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-5f022d76")]).then(n.bind(null,"9114"))}},{path:"settings",name:Ue["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-767d4d90")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:Ue["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-60aceac4")]).then(n.bind(null,"c917"))}},{path:"udc",name:Ue["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-46e56bfa"),n.e("chunk-7f857a46")]).then(n.bind(null,"4c07"))}}]}];function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){var t=Object(d["parse"])(window.location.search),n=Object(d["parse"])(e);return tr(tr({},t),n)}a["a"].use(b["a"]);var ar=new b["a"]({base:"/",mode:"hash",parseQuery:rr,routes:zn});ar.beforeEach(Ke.bind({store:Le,children:[Ve,We,Xe]}));var or=ar,ir=n("22b7"),cr=n("fbcd"),ur=n("590d"),sr=n("996a"),lr=n("009f"),pr=n("573d"),fr=n.n(pr),dr=n("2726");function br(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}a["a"].use(dr["a"]);var yr=new dr["a"]({locale:"en",fallbackLocale:"en",messages:br()}),hr=n("a3d5");function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function vr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tr(e,t)}function Or(e){var t=kr();return function(){var n,r=Sr(e);if(t){var a=Sr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){if(t&&("object"===mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gr(e)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){var t="function"===typeof Map?new Map:void 0;return wr=function(e){if(null===e||!Er(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _r(e,arguments,Sr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tr(n,e)},wr(e)}function _r(e,t,n){return _r=kr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&Tr(o,n.prototype),o},_r.apply(null,arguments)}function kr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Er(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Tr(e,t){return Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tr(e,t)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}function Ar(e,t){return Nr(e)||xr(e,t)||Mr(e,t)||Pr()}function Pr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Nr(e){if(Array.isArray(e))return e}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Mr(e,t){if(e){if("string"===typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ur(o,r,a,i,c,"next",e)}function c(e){Ur(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t,n){return t&&Wr(e.prototype,t),n&&Wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e){return void 0===e?yr.t("notifications.tx-state-pending"):e?yr.t("notifications.tx-state-confirmed"):""}var Hr=function(){function e(t,n){var r=this;Fr(this,e),this._userDepositTokenAddress="",this.disconnect=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:window.onbeforeunload=null;case 3:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return Vr(e,[{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"updateBalances",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=Br(St.a.mark((function e(){var t,n,r,a,o,i;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=Cr(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}},{key:"ensResolve",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new qr(e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=Br(St.a.mark((function t(n,r,a){var o,i,c,u,s=this,l=arguments;return St.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{},i=l.length>4?l[4]:void 0,t.next=4,e.createRaiden(n,r,a,i);case 4:return c=t.sent,this._raiden=c,this.usingSubkey=null!==i&&void 0!==i&&i,u=this.getAccount(),this.store.commit("account",u),t.next=11,c.userDepositTokenAddress();case 11:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=15,this.monitorPreSetTokens(o);case 15:return c.events$.subscribe((function(e){"block/new"===e.type&&s.store.commit("updateBlock",e.payload.blockNumber)})),c.events$.pipe(Object(sr["a"])((function(e){return"block/new"===e.type})),Object(lr["a"])((function(){return s.updateUserDepositContractToken()}))).subscribe(),c.events$.pipe(Object(sr["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){s.store.commit("reset"),s.router.push({name:Ue["a"].HOME})})),c.config$.subscribe(function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[N["a"].RECEIVE]){e.next=4;break}return e.next=4,s.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe(function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}s.store.commit("updateTokens",Rr({},t.payload.token,{address:t.payload.token})),s.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}s.store.commit("updatePresence",Rr({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,s.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdraw/success"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,s.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/plan/failure"!==t.type){e.next=28;break}return e.next=26,s.notifyWithdrawalFailure(t.payload.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,s.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,s.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,s.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failure"!==t.type){e.next=47;break}return e.next=47,s.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe((function(e){s.updatePlannedUserDepositWithdrawals(e)})),c.channels$.subscribe((function(e){s.store.commit("updateChannels",e)})),c.transfers$.subscribe((function(e){s.store.commit("updateTransfers",e)})),this.store.commit("network",c.network),window.onbeforeunload=function(e){return e.preventDefault(),""},t.next=27,c.start();case 27:return t.t0=this.store,t.next=30,this.getBalance();case 30:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!i){t.next=38;break}return t.t2=this.store,t.next=36,this.getBalance(c.address);case 36:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 38:case"end":return t.stop()}}),t,this)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:yr.t("notifications.no-receive.icon"),title:yr.t("notifications.no-receive.title"),description:yr.t("notifications.no-receive.description"),importance:R["a"].HIGH,context:L["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=Br(St.a.mark((function e(t){var n,r,a,o,i,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.raiden.network.chainId,o=null!==(n=null===(r=t[a])||void 0===r?void 0:r.monitored)&&void 0!==n?n:[],i=Cr(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=11;break}return u=c.value,e.next=9,this.raiden.monitorToken(u);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=Br(St.a.mark((function e(t,n,r){var a,o,i,c,u,s;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=hr["a"].toUnits(n,i),u="string"===typeof t?yr.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,s=u||yr.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.withdrawal.failure.title"),description:s,context:L["a"].ERROR,importance:R["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=Br(St.a.mark((function e(t,n){var r,a,o,i,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=hr["a"].toUnits(t,o),c=hr["a"].toUnits(n,o),u={icon:yr.t("notifications.withdrawn.icon"),title:yr.t("notifications.withdrawn.title"),description:yr.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:L["a"].INFO,importance:R["a"].HIGH},this.usingSubkey&&(u=Dr(Dr({},u),{},{link:yr.t("notifications.withdrawn.link"),dappRoute:Ue["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){var o,i,c,u;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,u=hr["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.ms-balance-proof.title"),description:yr.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:u,symbol:i.symbol,txHash:a}),context:L["a"].INFO,importance:R["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=yr.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.settlement.success.title"),description:n,icon:yr.t("notifications.settlement.icon"),context:L["a"].NONE,importance:R["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.settlement.failure.title"),description:yr.t("notifications.settlement.failure.description",{partner:t}),icon:yr.t("notifications.settlement.icon"),context:L["a"].NONE,importance:R["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){var o,i,c,u,s,l,p,f,d,b;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,u=t+c,s=yr.t("notifications.channel-open.icon"),l="",p="",void 0===r||!0===r?(l=yr.t("notifications.channel-open.success.title"),f=$r(r),p=yr.t("notifications.channel-open.success.description",{partner:a,state:f})):(d=yr.t("notifications.tx-reorged-failure-reason"),l=yr.t("notifications.channel-open.failure.title"),p=yr.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:p,icon:s,txHash:n,txConfirmationBlock:u,importance:R["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:yr.t("notifications.channel-open.failure.title"),description:yr.t("notifications.channel-open.failure.description",{reason:t}),icon:yr.t("notifications.channel-open.icon"),importance:R["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/plan/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdraw/success"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",hr["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Br(St.a.mark((function e(t){var n,r,a,o,i,c,u,s;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=Ar(r,2),o=a[0],i=a[1],c=i.decimals,u=i.symbol,s=i.name,e.abrupt("return",{name:s,symbol:u,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.openChannel(t,n,{deposit:r},a);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=Br(St.a.mark((function e(){var t;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=Br(St.a.mark((function e(){var t,n,r=this,a=arguments;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",Rr({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,fr()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Br(St.a.mark((function e(t,n,r,a,o){var i;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:a,paths:o});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Br(St.a.mark((function e(t,n,r,a){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Br(St.a.mark((function e(t,n,r){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Br(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===N["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUDCWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Br(St.a.mark((function e(t){var n,r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",Rr({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopAndGetDatabaseDump",value:function(){var e=Br(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,cr["c"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=Br(St.a.mark((function e(t){var n;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,cr["c"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=Br(St.a.mark((function e(t,n){var r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=Br(St.a.mark((function e(){var t,n,r,a,o,i,c,u=this;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=Br(St.a.mark((function e(n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(cr["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,fr()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=u.store.state.tokens[e];t&&(o[e]=Dr(Dr({},t),r[e]),delete r[e])})),i=function(){var e=Br(St.a.mark((function e(n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=Dr(Dr({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,fr()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=Br(St.a.mark((function e(t,n){var r;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=Br(St.a.mark((function e(t){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createRaiden",value:function(){var e=Br(St.a.mark((function e(t){var r,a,o,i,c,u,s,l,p,f=arguments;return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:0,a=f.length>2?f[2]:void 0,o=f.length>3?f[3]:void 0,i={state:a},"cordova-sqlite"!==Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_DB_ADAPTER){e.next=12;break}return e.next=7,n.e("chunk-2f161406").then(n.t.bind(null,"09f4",7));case 7:c=e.sent,u=c.default,ur["a"].plugin(u),s=ir["a"].getPlatform(),"android"===s?i=Dr(Dr({},i),{},{adapter:"cordova-sqlite",location:"default"}):"ios"===s&&(i=Dr(Dr({},i),{},{adapter:"cordova-sqlite",iosDatabaseLocation:"Library"}));case 12:return e.next=14,Qt["a"].contracts();case 14:return l=e.sent,e.prev=15,e.next=18,N["f"].create(t,r,i,null!==(p=Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_UDC_ADDRESS)&&void 0!==p?p:l,Dr(Dr(Dr(Dr(Dr({pfsSafetyMargin:1.1},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS?{pfsMode:N["e"].onlyAdditional,additionalServices:[Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_PFS]}:{}),{},{matrixServer:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_SERVER,matrixServerLookup:Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),o,Object({VUE_APP_ALLOW_MAINNET:"true",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e["catch"](15),new Kr(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[15,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),qr=function(e){vr(n,e);var t=Or(n);function n(){return Fr(this,n),t.apply(this,arguments)}return Vr(n)}(wr(Error)),Kr=function(e){vr(n,e);var t=Or(n);function n(){return Fr(this,n),t.apply(this,arguments)}return Vr(n)}(wr(Error));function Gr(e,t){e.prototype.$raiden=new Hr(Le,or)}var Yr,Xr=n("47c8"),Qr=n.n(Xr),Zr=n("b19b");function Jr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Jr(o,r,a,i,c,"next",e)}function c(e){Jr(o,r,a,i,c,"throw",e)}i(void 0)}))}}var ea=Qr.a.join(null!==(Yr="/")&&void 0!==Yr?Yr:"/","service-worker.js");function ta(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(ea)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=zr(St.a.mark((function e(t,n){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new Zr["a"](Le),"serviceWorker"in navigator&&(window.onload=ta);case 2:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}n("8935"),n("8b61"),n("275c");var aa=n("8d28");a["a"].use(aa["a"]);var oa=new aa["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint&&e.terms?n("div",{staticClass:"imprint"},[n("a",{staticClass:"imprint__policy",attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")]),n("a",{staticClass:"imprint__terms",attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("application.terms"))+" ")])]):e._e(),n("offline-snackbar"),n("version-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},ca=[],ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},sa=[],la=n("b592"),pa=n("233e"),fa=n("6af0"),da=n("152b");function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t,n){return t&&Oa(e.prototype,t),n&&Oa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ga(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}function wa(e,t){return wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wa(e,t)}function _a(e){var t=Ta();return function(){var n,r=Sa(e);if(t){var a=Sa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){if(t&&("object"===ba(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}var Aa=Object(P["a"])("notifications"),Pa=Aa.mapState,xa=Aa.mapMutations,Na=function(e){ga(n,e);var t=_a(n);function n(){var e;return va(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return ja(n,[{key:"isDisclaimerRoute",get:function(){return this.$route.name===Ue["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}},{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}}]),n}(Object(et["c"])(da["a"]));Na=Object(ze["f"])([Object(et["a"])({components:{InfoOverlay:fa["a"],HeaderContent:la["a"],HeaderIdenticon:pa["a"]},computed:ha(ha({},Object(P["e"])(["isConnected"])),Pa(["newNotifications"])),methods:ha({},xa(["notificationsViewed"]))})],Na);var Ia=Na,Da=Ia,Ra=(n("727f"),n("4675")),Ca=n("9c46"),Ma=Object(ht["a"])(Da,ua,sa,!1,null,"ea324d9c",null),La=Ma.exports;vt()(Ma,{VBadge:Ra["a"],VBtn:Ca["a"],VImg:Xn["a"]});var Ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Ba=[];function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function Wa(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Va(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wa(o,r,a,i,c,"next",e)}function c(e){Wa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t,n){return t&&Ha(e.prototype,t),n&&Ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ka(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ga(e,t)}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Ya(e){var t=Za();return function(){var n,r=Ja(e);if(t){var a=Ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xa(this,n)}}function Xa(e,t){if(t&&("object"===Fa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qa(e)}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}var za=function(e){Ka(n,e);var t=Ya(n);function n(){var e;return $a(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return qa(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=Va(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(et["g"]);za=Object(ze["f"])([et["a"]],za);var eo=za,to=eo,no=n("1a6b"),ro=Object(ht["a"])(to,Ua,Ba,!1,null,null,null),ao=ro.exports;vt()(ro,{VBanner:no["a"],VBtn:Ca["a"]});var oo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{value:e.isVisible,timeout:e.notificationToShow.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:e.dismiss},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{"data-cy":"notification-snackbar__dismiss-button",icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,2634841300),model:{value:e.notificationToShow.display,callback:function(t){e.$set(e.notificationToShow,"display",t)},expression:"notificationToShow.display"}},[r("div",{staticClass:"notification-snackbar__area",on:{click:e.open}},[r("img",{attrs:{src:n("4cd4")}}),r("span",{staticClass:"notification-snackbar__area__title"},[e._v(" "+e._s(e.notificationToShow.title)+" ")])])]):e._e()},io=[];function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t,n){return t&&fo(e.prototype,t),n&&fo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ho(e,t)}function ho(e,t){return ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ho(e,t)}function mo(e){var t=jo();return function(){var n,r=go(e);if(t){var a=go(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vo(this,n)}}function vo(e,t){if(t&&("object"===co(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oo(e)}function Oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},go(e)}var wo=Object(P["a"])("notifications"),_o=wo.mapGetters,ko=wo.mapMutations,Eo=function(e){yo(n,e);var t=mo(n);function n(){return po(this,n),t.apply(this,arguments)}return bo(n,[{key:"notificationToShow",get:function(){return this.notificationQueue[0]}},{key:"isVisible",get:function(){return void 0!==this.notificationToShow}},{key:"dismiss",value:function(){this.notificationToShow&&this.setNotificationShown(this.notificationToShow.id)}},{key:"open",value:function(){this.dismiss(),this.navigateToNotifications()}}]),n}(Object(et["c"])(da["a"]));Eo=Object(ze["f"])([Object(et["a"])({computed:so({},_o(["notificationQueue"])),methods:so({},ko(["setNotificationShown"]))})],Eo);var To=Eo,So=To,Ao=(n("a2b8"),n("b503")),Po=n("5dee"),xo=Object(ht["a"])(So,oo,io,!1,null,"020e2213",null),No=xo.exports;vt()(xo,{VBtn:Ca["a"],VIcon:Ao["a"],VSnackbar:Po["a"]});var Io=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},Do=[],Ro=n("0a08");function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n){return t&&Lo(e.prototype,t),n&&Lo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fo(e,t)}function Fo(e,t){return Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fo(e,t)}function Wo(e){var t=Ho();return function(){var n,r=qo(e);if(t){var a=qo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(e,t){if(t&&("object"===Co(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function $o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}var Ko=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Mo(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Uo(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(et["g"]);Ko=Object(ze["f"])([Object(et["a"])({components:{BlurredOverlay:Ro["a"]}})],Ko);var Go=Ko,Yo=Go,Xo=Object(ht["a"])(Yo,Io,Do,!1,null,null,null),Qo=Xo.exports;vt()(Xo,{VIcon:Ao["a"],VSnackbar:Po["a"]});var Zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},Jo=[];function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oi(e,t,n){return t&&ai(e.prototype,t),n&&ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ii(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ci(e,t)}function ci(e,t){return ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ci(e,t)}function ui(e){var t=pi();return function(){var n,r=fi(e);if(t){var a=fi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return si(this,n)}}function si(e,t){if(t&&("object"===zo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return li(e)}function li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fi(e){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fi(e)}var di=function(e){ii(n,e);var t=ui(n);function n(){return ri(this,n),t.apply(this,arguments)}return oi(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}(et["g"]);di=Object(ze["f"])([Object(et["a"])({computed:ti({},Object(P["c"])(["pendingTransfers"]))})],di);var bi=di,yi=bi,hi=(n("c50f"),Object(ht["a"])(yi,Zo,Jo,!1,null,"4795eb56",null)),mi=hi.exports;vt()(hi,{VSnackbar:Po["a"]});var vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"version-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"version-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.showProgressSpinner},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},Oi=[];function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){_i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ei(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ki(o,r,a,i,c,"next",e)}function c(e){ki(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xi(e,t)}function xi(e,t){return xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xi(e,t)}function Ni(e){var t=Ri();return function(){var n,r=Ci(e);if(t){var a=Ci(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){if(t&&("object"===ji(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ci(e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ci(e)}var Mi=Object(P["a"])("versionInformation"),Li=Mi.mapState,Ui=Mi.mapGetters,Bi=function(e){Pi(n,e);var t=Ni(n);function n(){var e;return Ti(this,n),e=t.apply(this,arguments),e.showProgressSpinner=!1,e}return Ai(n,[{key:"visible",get:function(){return!this.correctVersionIsLoaded||this.updateIsAvailable||this.updateIsMandatory||this.updateInProgress}},{key:"blocking",get:function(){return!this.correctVersionIsLoaded||this.updateIsMandatory||this.updateInProgress}},{key:"message",get:function(){return this.updateInProgress?this.$t("update.updateInProgress"):this.updateIsMandatory?this.$t("update.updateMandatory"):this.updateIsAvailable?this.$t("update.updateAvailable"):""}},{key:"showMessage",get:function(){return this.message.length>0}},{key:"update",value:function(){var e=Ei(St.a.mark((function e(){return St.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showProgressSpinner=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onUpdateInProgressChange",value:function(){this.showProgressSpinner=this.updateInProgress}}]),n}(et["g"]);Object(ze["f"])([Object(et["h"])("updateInProgress",{immediate:!0})],Bi.prototype,"onUpdateInProgressChange",null),Bi=Object(ze["f"])([Object(et["a"])({components:{BlurredOverlay:Ro["a"]},computed:wi(wi(wi({},Object(P["e"])(["isConnected"])),Li(["updateIsMandatory","updateInProgress"])),Ui(["correctVersionIsLoaded","updateIsAvailable"]))})],Bi);var Fi=Bi,Wi=Fi,Vi=(n("f726"),n("f56c")),$i=Object(ht["a"])(Wi,vi,Oi,!1,null,"b7210ec8",null),Hi=$i.exports;function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t,n){return t&&Gi(e.prototype,t),n&&Gi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}function Qi(e,t){return Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qi(e,t)}function Zi(e){var t=ec();return function(){var n,r=tc(e);if(t){var a=tc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ji(this,n)}}function Ji(e,t){if(t&&("object"===qi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tc(e)}vt()($i,{VBtn:Ca["a"],VContainer:Vi["a"],VSnackbar:Po["a"]});var nc=function(e){Xi(n,e);var t=Zi(n);function n(){return Ki(this,n),t.apply(this,arguments)}return Yi(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"beforeCreate",value:function(){this.$serviceWorkerAssistant.verifyIfCorrectVersionGotLoaded()}},{key:"destroyed",value:function(){this.$raiden.disconnect()}}]),n}(Object(et["c"])(da["a"]));nc=Object(ze["f"])([Object(et["a"])({components:{AppHeader:La,OfflineSnackbar:Qo,VersionSnackbar:Hi,NotificationSnackbar:No,ReceivingOngoingSnackbar:mi,InstallBanner:ao}})],nc);var rc=nc,ac=rc,oc=(n("6c88"),n("072b")),ic=n("e8f8"),cc=Object(ht["a"])(ac,ia,ca,!1,null,"272248e0",null),uc=cc.exports;vt()(cc,{VApp:oc["a"],VContainer:Vi["a"],VMain:ic["a"]});var sc=n("8aa9");a["a"].config.productionTip=!1,Object(sc["b"])(),a["a"].use(Gr),a["a"].use(p),a["a"].use(na),new a["a"]({vuetify:oa,router:or,store:Le,i18n:yr,render:function(e){return e(uc)}}).$mount("#app")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return _})),n.d(t,"m",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"h",(function(){return P})),n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return N})),n.d(t,"i",(function(){return I})),n.d(t,"f",(function(){return D})),n.d(t,"c",(function(){return R})),n.d(t,"e",(function(){return C})),n.d(t,"r",(function(){return L})),n.d(t,"q",(function(){return U}));var r,a=n("a91f"),o=n("2111"),i=n("48a3"),c=n.n(i),u=n("ca14");function s(e,t){return b(e)||d(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function b(e){if(Array.isArray(e))return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={PFS:"path_finding",MS:"monitoring"},m=o["j"](c()(h)),v=(r={},y(r,h.PFS,"PATH_FINDING"),y(r,h.MS,"MONITORING"),r),O={disabled:"disabled",auto:"auto",onlyAdditional:"onlyAdditional"},j=o["j"](c()(O)),g=o["p"](u["a"]),w=o["o"](o["u"]({user_id:o["r"],displayname:o["r"],capabilities:o["r"]})),_=w,k=o["o"](o["q"](o["r"],_)),E=function(e){return o["c"](u["a"]).is(Object.keys(e))},T=new o["a"]("AddressMetadataMap",(function(e){return k.is(e)&&E(e)}),(function(e,t){var n=k.validate(e,t);if(Object(a["isLeft"])(n))return n;for(var r=n.right,i={},c=0,l=Object.entries(r);c<l.length;c++){var p=s(l[c],2),f=p[0],d=p[1],b=u["a"].validate(f,t);if(Object(a["isLeft"])(b))return b;i[b.right]=d}return o["s"](i)}),k.encode,k,E),S=o["n"]({address_metadata:T}),A=Object(u["e"])(32),P=o["p"](o["o"](o["i"]([o["u"]({path:g,fee:A}),S]))),x=o["p"](o["o"](o["i"]([o["w"]([o["u"]({route:g}),o["u"]({path:g})]),o["w"]([o["u"]({fee:A}),o["u"]({estimated_fee:A})]),S]))),N=o["o"](o["u"]({result:x})),I=o["o"](o["i"]([o["u"]({error_code:o["m"],errors:o["r"]}),o["n"]({error_details:o["q"](o["r"],o["x"])})])),D=o["o"](o["u"]({address:u["a"],url:o["r"],matrixServer:o["r"],rtt:o["m"],price:Object(u["l"])(32),token:u["a"],validTill:o["m"]})),R=o["o"](o["u"]({sender:u["a"],receiver:u["a"],amount:Object(u["l"])(32),expiration_block:Object(u["l"])(32),one_to_n_address:u["a"],chain_id:Object(u["l"])(32)})),C=o["o"](o["u"]({last_iou:Object(u["j"])(R)})),M=o["o"](o["u"]({address:u["a"],capacity:Object(u["l"])(32),centrality:o["w"]([o["m"],o["r"]]),score:o["w"]([o["m"],o["r"]]),uptime:o["w"]([o["m"],o["r"]])}),"SuggestedPartner"),L=o["c"](M,"SuggestedPartners"),U=o["o"](o["q"](o["r"],o["m"]),"ServicesValidityMap")},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ne}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("c00b")),i=n("30c0"),c=n("87b8"),u=n("2b89"),s=n("f45b"),l=n("8730"),p=n.n(l),f=n("427e"),d=n.n(f),b=n("ea1b"),y=n.n(b),h=n("111d"),m=n.n(h),v=n("7276"),O=n("384a"),j=n("1ed4"),g=n("1b8f"),w=n("f541"),_=n("9ead"),k=n("cea7"),E=n("cd9d"),T=n("56a6"),S=n("b62a"),A=n("247b"),P=n("1319"),x=n("996a"),N=n("d5a4"),I=n("9c65"),D=n("a157"),R=n("aece"),C=n("c0bf"),M=n("1981"),L=n("ef4a"),U=n("f5be"),B=n("f799"),F=n("b8ff"),W=n("8120"),V=n("5bbb"),$=n("2b5b"),H=n("de7d"),q=n("74e4"),K=n("50e7"),G=n("8089"),Y=n("db2c5"),X=n("6c61"),Q=n("eed9"),Z=n("d011"),J=n("358d"),z=n("83ee"),ee=n("1a78"),te=n("59ec"),ne=n("d890"),re=n("05eb"),ae=n("f2df"),oe=n("d276"),ie=n("46f7"),ce=n("ee6c"),ue=n("1b23"),se=n("325b"),le=n("ca14"),pe=n("bf6c");function fe(e){return we(e)||ye(e)||Oe(e)||ve()}function de(e){return he(e)||ye(e)||Oe(e)||be()}function be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function he(e){if(Array.isArray(e))return je(e)}function me(e,t){return we(e)||ge(e,t)||Oe(e,t)||ve()}function ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oe(e,t){if(e){if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function we(e){if(Array.isArray(e))return e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,c,"next",e)}function c(e){Te(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ne=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(K["a"])(),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X["a"];Ae(this,t),this.deps=n,this.epic=o,this.action$=this.deps.latest$.pipe(Object(se["g"])("action"),Object(A["a"])(1)),this.state$=this.deps.latest$.pipe(Object(se["g"])("state")),this.channels$=this.state$.pipe(Object(se["g"])("channels"),Object(P["a"])(G["l"])),this.events$=this.action$.pipe(Object(x["a"])(Object(oe["e"])(U["b"]))),this.transfers$=Object(G["h"])(this.state$,this.deps.db),this.config$=this.deps.config$,this.blockTime$=this.deps.latest$.pipe(Object(se["g"])("blockTime")),this.synced=Object(G["j"])(this.action$),this.getTokenInfo=Object(G["k"])(this.deps),this.resolveName=this.deps.provider.resolveName.bind(this.deps.provider),this.userDepositTokenAddress=d()(Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.deps.userDepositContract.callStatic.token());case 1:case"end":return e.stop()}}),e)})))),n.provider.resetEventsBlock(e.blockNumber+1);var c=!(null===globalThis||void 0===globalThis||!globalThis.location),u=Object(j["createLogger"])(ke({predicate:function(){return r.log.getLevel()<=m.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}},c?{}:{colors:!1}));this.epicMiddleware=Object(g["a"])({dependencies:n});var s=Object(Y["a"])(n.db);this.store=Object(v["createStore"])(i,e,Object(O["composeWithDevTools"])(Object(v["applyMiddleware"])(u,s,this.epicMiddleware))),n.config$.subscribe((function(e){return r.config=e})),Object(K["b"])(Object(w["a"])(Object(U["d"])({})),Object(w["a"])(this.store.getState()),n).subscribe((function(e){return n.latest$.next(e)}))}return xe(t,[{key:"start",value:function(){var n=Se(a.a.mark((function n(){var r,o=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(ae["a"])(this.epicMiddleware,ce["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return o.epicMiddleware=null}}),this.epicMiddleware.run(this.epic),this.epicMiddleware=void 0,this.store.dispatch(Object(U["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"stop",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(U["e"])({reason:$["k"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"log",get:function(){return this.deps.log}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"getBlockNumber",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}},{key:"updateConfig",value:function(e){"mediationFees"in e&&this.deps.mediationFeeCalculator.decodeConfig(e.mediationFees,this.deps.defaultConfig.mediationFees),this.store.dispatch(Object(U["d"])(Object(le["n"])(V["a"],e)))}},{key:"dumpDatabase",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,Object(_["a"])(this.deps.db.busy$,{defaultValue:void 0});case 3:return e.abrupt("return",Object(q["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(G["a"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(e),[ce["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(G["a"])(this.deps,this.config.subkey).address,Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=Se(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=_["a"],e.t1=ue["c"],e.t2=this.deps.provider,e.t3=ke,e.t4=ke({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t5={},e.t6=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=9,this.getBlockNumber();case 9:return e.t7=e.sent,e.t8={fromBlock:e.t6,toBlock:e.t7},e.t9=(0,e.t3)(e.t4,e.t5,e.t8),e.t10=(0,e.t1)(e.t2,e.t9).pipe(Object(P["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(x["a"])((function(e){return!!e.args["token_address"]})),Object(P["a"])((function(e){return e.args["token_address"]})),Object(N["a"])()),e.next=15,(0,e.t0)(e.t10);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Se(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(ae["a"])(n&&n!==i["a"],ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(B["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,p,f,d,b,y,h,m,v,O=this,j=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=j.length>2&&void 0!==j[2]?j[2]:{},i=j.length>3?j[3]:void 0,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return c=e.sent,u=o.settleTimeout?Object(le["n"])(Object(le["l"])(4),o.settleTimeout,ce["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=o.deposit?Object(le["n"])(Object(le["l"])(32),o.deposit,ce["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,l=null!==(r=o.confirmConfirmation)&&void 0!==r?r:!!this.config.confirmationBlocks,p={tokenNetwork:c,partner:n},f=Object(oe["a"])(B["channelOpen"],p,this.action$).then((function(e){var t=e.txHash;return null===i||void 0===i||i({type:re["b"].OPENED,payload:{txHash:t}}),t})),d=Object(oe["a"])(B["channelOpen"],p,this.action$,!0).then((function(e){var t=e.txHash;return null===i||void 0===i||i({type:re["b"].CONFIRMED,payload:{txHash:t}}),t})),null!==s&&void 0!==s&&s.gt(0)&&(b=Object(oe["a"])(B["channelDeposit"],p,this.action$.pipe(Object(x["a"])((function(e){return!B["channelDeposit"].success.is(e)||e.payload.participant===O.address}))),!0).then((function(e){var t=e.txHash;return null===i||void 0===i||i({type:re["b"].DEPOSITED,payload:{txHash:t}}),t}))),this.store.dispatch(B["channelOpen"].request(ke(ke({},o),{},{settleTimeout:u,deposit:s}),p)),e.next=17,Promise.all([f,d,b]);case 17:if(y=e.sent,h=me(y,3),m=h[1],v=h[2],!l){e.next=30;break}return e.t0=G["n"],e.next=25,this.deps.provider.getTransactionReceipt(null!==v&&void 0!==v?v:m);case 25:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=30,(0,e.t0)(e.t1,e.t2,e.t3);case 30:return e.abrupt("return",m);case 31:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=Se(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,p,f,d,b=this,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=y.length>3&&void 0!==y[3]?y[3]:{},i=o.confirmConfirmation,c=void 0===i?!!this.config.confirmationBlocks:i,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),u=this.state,s=u.tokens[t],Object(ae["a"])(s,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),l=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),p={tokenNetwork:s,partner:n},f=Object(oe["a"])(B["channelDeposit"],p,this.action$.pipe(Object(x["a"])((function(e){return!B["channelDeposit"].success.is(e)||e.payload.participant===b.address}))),!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelDeposit"].request({deposit:l},p)),e.next=12,f;case 12:if(d=e.sent,!c){e.next=22;break}return e.t0=G["n"],e.next=17,this.deps.provider.getTransactionReceipt(d);case 17:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=22,(0,e.t0)(e.t1,e.t2,e.t3);case 22:return e.abrupt("return",d);case 23:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,p,f,d;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),r=this.state,o=r.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),e.prev=5,i=this.state.channels[Object(W["b"])({tokenNetwork:o,partner:n})],Object(ae["a"])(i,"channel not found"),c=Object(W["a"])(i),u=c.ownTotalWithdrawable,s=this.state.blockNumber+this.config.revealTimeout+this.config.confirmationBlocks,l={direction:ee["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:u,expiration:s},p=Object(oe["a"])(z["withdraw"],l,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Object(z["withdrawResolve"])({coopSettle:!0},l)),e.next=15,p;case 15:return e.abrupt("return",e.sent);case 18:e.prev=18,e.t0=e["catch"](5),this.log.info("Could not settle cooperatively, performing uncooperative close",e.t0);case 21:return f={tokenNetwork:o,partner:n},d=Object(oe["a"])(B["channelClose"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelClose"].request(void 0,f)),e.abrupt("return",d);case 25:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),r=this.state,o=r.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(ae["a"])(!this.config.autoSettle,ce["b"].CNL_SETTLE_AUTO_ENABLED,this.log.info),i={tokenNetwork:o,partner:n},e.next=9,Object(_["a"])(Object(G["m"])(this.state$,i));case 9:return c=Object(oe["a"])(B["channelSettle"],i,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(B["channelSettle"].request(void 0,i)),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Se(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(oe["a"])(ne["matrixPresence"],n,this.action$),this.store.dispatch(ne["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Se(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,p,f,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=b.length>3&&void 0!==b[3]?b[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r,ce["b"].DTA_INVALID_AMOUNT,this.log.info),u=void 0!==o.paymentId?Object(le["n"])(Object(le["l"])(8),o.paymentId,ce["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(te["h"])(),s=o.paths&&Object(le["n"])(Z["d"],o.paths,ce["b"].DTA_INVALID_PATH,this.log.info),l=o.pfs&&Object(le["n"])(Z["f"],o.pfs,ce["b"].DTA_INVALID_PFS,this.log.info),Object(ae["a"])(void 0===o.secret||le["h"].is(o.secret),ce["b"].RDN_INVALID_SECRET,this.log.info),Object(ae["a"])(void 0===o.secrethash||le["c"].is(o.secrethash),ce["b"].RDN_INVALID_SECRETHASH,this.log.info),p=o.secret||(o.secrethash?void 0:Object(te["i"])()),f=o.secrethash||Object(te["e"])(p),Object(ae["a"])(!p||Object(te["e"])(p)===f,ce["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),d=Object(k["a"])(this.action$.pipe(Object(x["a"])(Object(oe["e"])([z["transferSigned"],z["transfer"].failure])),Object(x["a"])((function(e){var t=e.meta;return t.direction===ee["a"].SENT&&t.secrethash===f})),Object(P["a"])((function(e){if(z["transfer"].failure.is(e))throw e.payload;return Object(te["n"])(e.meta)})))),this.store.dispatch(z["transfer"].request({tokenNetwork:i,target:n,value:c,paymentId:u,secret:p,resolved:!1,paths:s,pfs:l,lockTimeout:o.lockTimeout,encryptSecret:o.encryptSecret},{secrethash:f,direction:ee["a"].SENT})),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=Se(a.a.mark((function e(t){var n,r,o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(te["o"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=le["n"],e.t1=ee["e"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(ae["a"])(c,ce["b"].RDN_UNKNOWN_TRANSFER,this.log.info),u=Object(te["k"])(c),!u.completed){e.next=22;break}if(!u.success){e.next=21;break}return e.abrupt("return",u);case 21:throw new ce["c"](ce["b"].XFER_ALREADY_COMPLETED,{status:u.status});case 22:return e.next=24,Object(oe["a"])(z["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,Object(k["a"])(this.state$.pipe(Object(I["a"])("transfers",t),Object(x["a"])((function(e){return!!e.unlockProcessed}))));case 26:return s=e.sent,this.log.info("Transfer successful",{key:t,partner:s.partner,initiator:s.transfer.initiator,target:s.transfer.target,fee:s.fee.toString(),lockAmount:s.transfer.lock.amount.toString(),targetReceived:null===(n=s.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:s.unlockProcessed.ts-s.transfer.ts}),e.abrupt("return",Object(te["k"])(s));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Se(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,p=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(ae["a"])(i,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(le["n"])(Object(le["l"])(32),r),u=o.pfs?Object(le["n"])(Z["f"],o.pfs):void 0,s={tokenNetwork:i,target:n,value:c},l=Object(oe["a"])(Q["pathFind"],s,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(Q["pathFind"].request({pfs:u},s)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Se(a.a.mark((function e(t,n,r){var o,i,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(le["n"])(Object(le["l"])(32),r),c={tokenNetwork:o,target:n,value:i},u=Object(oe["a"])(Q["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(Q["pathFind"].request({pfs:null},c)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(this.config.pfsMode!==Z["j"].disabled,ce["b"].PFS_DISABLED,this.log.info),e.next=3,this.synced;case 3:return t=de(this.config.additionalServices),this.config.pfsMode===Z["j"].auto&&t.push.apply(t,de(Object.keys(this.state.services))),e.abrupt("return",Object(_["a"])(Object(J["e"])(t,this.deps)));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,p,f,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:{},o=r.to,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_MINT_MAINNET,this.log.info),i=Object(G["a"])(this.deps,this.config.subkey),c=i.signer,u=i.address,s=H["a"].connect(t,c),l=null!==o&&void 0!==o?o:u,Object(ae["a"])(le["a"].is(l),[ce["b"].DTA_INVALID_ADDRESS,{beneficiary:l}],this.log.info),p=Object(le["n"])(Object(le["l"])(32),n,ce["b"].DTA_INVALID_AMOUNT),e.next=10,Object(_["a"])(Object(W["f"])(s,"mintFor",[p,l],this.deps,{error:ce["b"].RDN_MINT_FAILED}));case 10:return f=e.sent,d=me(f,2),b=d[1],e.next=15,Object(G["n"])(b,this.deps,1);case 15:return e.abrupt("return",b.transactionHash);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"registerToken",value:function(){var e=Se(a.a.mark((function e(t){var n,r,o,i,u,s,l,p,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:c["b"],r=f.length>2&&void 0!==f[2]?f[2]:c["b"],Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(1!==this.deps.network.chainId,ce["b"].RDN_REGISTER_TOKEN_MAINNET,this.log.info),o=Object(G["a"])(this.deps,this.config.subkey),i=o.signer,u=Object(G["c"])(this.deps.registryContract,i),e.next=8,this.monitorToken(t).then((function(e){throw new ce["c"](ce["b"].RDN_REGISTER_TOKEN_REGISTERED,{tokenNetwork:e})}),(function(){}));case 8:return e.next=10,Object(_["a"])(Object(W["f"])(u,"createERC20TokenNetwork",[t,n,r],this.deps,{error:ce["b"].RDN_REGISTER_TOKEN_FAILED}));case 10:return s=e.sent,l=me(s,2),p=l[1],e.next=15,Object(G["n"])(p,this.deps);case 15:return e.next=17,this.monitorToken(t);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Se(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(G["g"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(de(e),de(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),c["h"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUDCTotalDeposit",value:function(){var e=Se(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(k["a"])(this.deps.latest$.pipe(Object(I["a"])("udcDeposit","totalDeposit"),Object(x["a"])((function(e){return!!e&&e.lt(c["b"])})))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i,u,s,l,p,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(ae["a"])(r.gt(c["h"]),ce["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=4,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 4:return o=e.sent,i={totalDeposit:o.add(r)},u=Object(oe["a"])(Q["udcDeposit"],i,this.action$,!1).then((function(e){var t=e.txHash;return null===n||void 0===n?void 0:n({type:re["b"].DEPOSITED,payload:{txHash:t}})})),this.store.dispatch(Q["udcDeposit"].request({deposit:r},i)),s=Object(oe["a"])(Q["udcDeposit"],i,this.action$,!0).then((function(e){var t=e.txHash;return null===n||void 0===n||n({type:re["b"].CONFIRMED,payload:{txHash:t}}),t})),e.next=11,Promise.all([u,s]);case 11:return l=e.sent,p=me(l,2),f=p[1],e.abrupt("return",f);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=Se(a.a.mark((function e(t){var n,r,i,u,s,l,p,f,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:c["b"],r=O.length>2&&void 0!==O[2]?O[2]:{},i=r.subkey,u=r.gasPrice,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),s=Object(G["a"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=s.signer,p=s.address,!u){e.next=8;break}e.t0=o["a"].from(u),e.next=11;break;case 8:return e.next=10,this.deps.provider.getGasPrice();case 10:e.t0=e.sent;case 11:return f=e.t0,e.next=14,this.getBalance(p);case 14:return d=e.sent,e.next=17,this.deps.provider.estimateGas({from:p,to:t,value:d});case 17:return b=e.sent,y=d.sub(f.mul(b)),Object(ae["a"])(y.gt(c["h"]),[ce["b"].RDN_INSUFFICIENT_BALANCE,{transferableBalance:y}],this.log.warn),h=y.lte(n)?y:o["a"].from(n),e.next=23,l.sendTransaction({to:t,value:h,gasPrice:f,gasLimit:b});case 23:return m=e.sent,e.next=26,m.wait();case 26:return v=e.sent,Object(ae["a"])(v.status,ce["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=Se(a.a.mark((function e(t,n){var r,i,u,s,l,p,f,d,b,y,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:c["b"],i=h.length>3&&void 0!==h[3]?h[3]:{},u=i.subkey,Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),s=Object(G["a"])(this.deps,null!==u&&void 0!==u?u:this.config.subkey),l=s.address,e.next=7,this.getTokenBalance(t,l);case 7:return p=e.sent,f=p.lte(r)?p:o["a"].from(r),e.next=11,Object(_["a"])(Object(W["f"])(this.deps.getTokenContract(t),"transfer",[n,f],this.deps,{subkey:u,error:ce["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED}).pipe(Object(se["j"])(Object(V["b"])(this.deps.config$),{maxRetries:3,onErrors:ce["f"],log:this.log.info})));case 11:return d=e.sent,b=me(d,2),y=b[1],e.abrupt("return",y.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCWithdrawPlan",value:function(){var e=Se(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deps.userDepositContract.withdraw_plans(this.address);case 2:if(t=e.sent,!t.withdraw_block.isZero()){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{amount:t.amount,block:t.withdraw_block.toNumber(),ready:t.withdraw_block.lte(this.state.blockNumber)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Se(a.a.mark((function e(){var t,n,r,o,i,u=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:c["b"],e.next=3,Object(G["g"])(this.deps.latest$);case 3:return n=e.sent,Object(ae["a"])(n.gt(0),"nothing to withdraw from UDC"),r=n.lte(t)?n:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error),o={amount:r},i=Object(oe["a"])(Q["udcWithdrawPlan"],o,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdrawPlan"].request(void 0,o)),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"withdrawFromUDC",value:function(){var e=Se(a.a.mark((function e(t,n){var r,o,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(!this.config.autoUDCWithdraw,ce["b"].UDC_WITHDRAW_AUTO_ENABLED,this.log.warn),e.next=3,this.getUDCWithdrawPlan();case 3:if(r=e.sent,Object(ae["a"])(r,ce["b"].UDC_WITHDRAW_NO_PLAN,this.log.warn),t?Object(ae["a"])(r.amount.gte(t),ce["b"].UDC_WITHDRAW_TOO_LARGE,this.log.warn):t=r.amount,o={amount:Object(le["n"])(Object(le["l"])(32),t,ce["b"].DTA_INVALID_AMOUNT,this.log.error)},r.ready){e.next=10;break}return e.next=10,Object(k["a"])(this.state$.pipe(Object(se["g"])("blockNumber"),Object(x["a"])((function(e){return e>=r.block}))));case 10:return i=Object(oe["a"])(Q["udcWithdraw"],o,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Q["udcWithdraw"].request(n,o)),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=Se(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,p,f,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(ae["a"])(le["a"].is(n),[ce["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(ae["a"])(o,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object(W["b"])({tokenNetwork:o,partner:n})],Object(ae["a"])((null===i||void 0===i?void 0:i.state)===F["b"].open,ce["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(W["a"])(i),u=c.ownWithdrawable,s=c.ownWithdraw,l=Object(le["n"])(Object(le["l"])(32),null!==r&&void 0!==r?r:u,ce["b"].DTA_INVALID_AMOUNT,this.log.info),p=s.add(l),f=this.state.blockNumber+2*this.config.revealTimeout,d={direction:ee["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:p,expiration:f},b=Object(oe["a"])(z["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(Object(z["withdrawResolve"])(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=Se(a.a.mark((function e(t){var n,r,o,i,c=this,u=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},Object(ae["a"])(le["a"].is(t),[ce["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(ae["a"])(r,ce["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(le["n"])(Z["f"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return o=e.t0,e.abrupt("return",Object(k["a"])(Object(E["a"])(o).pipe(Object(D["a"])((function(e){return Object(S["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(R["a"])(c.config.httpTimeout),Object(C["a"])(function(){var e=Se(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P["a"])((function(e){var t=Object(le["n"])(Z["r"],Object(ie["b"])(e));if(!t.length)throw i=[],new Error("PFS returned no suggested partners");return t})),Object(M["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),i||(i=t),T["a"]})))})),Object(L["a"])(),Object(M["a"])((function(e){if(Array.isArray(i))return Object(w["a"])(i);var t;throw null!==(t=i)&&void 0!==t?t:e})))));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var e=Se(a.a.mark((function e(t,n,r,o,i,c,l){var f,d,b,h,v,O,j,g,w,_,k,E,T,S,A,P;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f="string"===typeof t?new u["a"](t):t instanceof u["a"]?t:new s["a"](t),e.next=3,f.getNetwork();case 3:if(d=e.sent,o){e.next=8;break}b=Object(G["d"])(d),e.next=17;break;case 8:if("string"!==typeof o){e.next=16;break}return h=o.split(":"),v=fe(h),O=v[0],j=v.slice(1),Object(ae["a"])(le["a"].is(O),[ce["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:o}]),e.next=13,G["b"].apply(void 0,[f,O].concat(de(j.map((function(e){return+e})))));case 13:b=e.sent,e.next=17;break;case 16:b=o;case 17:return e.next=19,Object(G["e"])(n,f,c,l);case 19:return g=e.sent,w=g.signer,_=g.address,k=g.main,e.next=25,Object(G["f"])({network:d,contractsInfo:b,address:_,log:m.a.getLogger("raiden:".concat(_))},r);case 25:return E=e.sent,T=E.state,S=E.db,Object(ae["a"])(_===T.address,[ce["b"].RDN_STATE_ADDRESS_MISMATCH,{account:_,state:T.address}]),Object(ae["a"])(d.chainId===T.chainId&&b.TokenNetworkRegistry.address===T.registry,[ce["b"].RDN_STATE_NETWORK_MISMATCH,{network:d.chainId,contracts:b.TokenNetworkRegistry.address,stateNetwork:T.chainId,stateRegistry:T.registry}]),A=i&&Object(le["n"])(V["a"],y()(i,p.a)),P=Object(G["i"])(T,A,{signer:w,contractsInfo:b,db:S,main:k}),e.abrupt("return",new this(T,P));case 33:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return pe.sdk}},{key:"contractVersion",get:function(){return pe.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return C}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),u=n("cea7"),s=n("996a"),l=n("f39b"),p=n("1319"),f=n("f2df"),d=n("ee6c"),b=n("ca14");function y(e){return O(e)||v(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e){if(Array.isArray(e))return j(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],u=o["o"](o["u"](E(E(E({type:o["k"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["k"](!0)}:null))),s=function(e){return(null===e||void 0===e?void 0:e["type"])===r};return Object.assign((function(e,t){return E(E(E({type:r},a?{payload:e}:{}),i?{meta:t}:{}),c?{error:c}:{})}),{type:r,is:s,codec:u,error:c})}function A(e){function t(e){return"function"===typeof this?this.is(e):Array.isArray(this)?this.some((function(n){return t.call(n,e)})):"object"===_(this)&&t.call(Object.values(this),e)}return(arguments.length<=1?0:arguments.length-1)>0?t.call(e,arguments.length<=1?void 0:arguments[1]):t.bind(e)}function P(){var e;return{request:S("".concat(arguments.length<=1?void 0:arguments[1],"/request"),arguments.length<=2?void 0:arguments[2],arguments.length<=0?void 0:arguments[0]),success:S("".concat(arguments.length<=1?void 0:arguments[1],"/success"),arguments.length<=3?void 0:arguments[3],arguments.length<=0?void 0:arguments[0]),failure:S("".concat(arguments.length<=1?void 0:arguments[1],"/failure"),null!==(e=arguments.length<=4?void 0:arguments[4])&&void 0!==e?e:o["x"],arguments.length<=0?void 0:arguments[0],!0)}}function x(e){var t=function(t){return c()(t.meta,e,(function(e,t){return b["b"].is(e)&&b["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function N(e,t){var n=function(n){return A([e.success,e.failure],n)&&x(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function I(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return N(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function D(e,t,n,r){return R.apply(this,arguments)}function R(){return R=w(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u["a"])(r.pipe(Object(s["a"])(o?I(t,n):N(t,n)),Object(s["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(l["a"])(1),Object(p["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new d["c"](d["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))),{defaultValue:void 0}));case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function C(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,a=n[r.type];return a&&a[0].is(r)?a[1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(y(a.map((function(e){return T({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return l})),n.d(t,"rtcChannel",(function(){return p}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=n("0602"),u=r["u"]({address:o["a"]}),s=Object(a["b"])("matrix/setup",r["u"]({server:r["r"],setup:i["a"]})),l=Object(a["c"])(u,"matrix/presence",void 0,r["i"]([r["u"]({userId:r["r"],available:r["d"],ts:r["m"],pubkey:o["g"]}),r["n"]({caps:c["a"]})])),p=Object(a["b"])("rtc/channel",r["w"]([r["v"],Object(o["o"])("RTCDataChannel")]),u)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,s,p,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=f(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:s=n.sent,p=u(s);try{for(p.s();!(d=p.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){p.e(a)}finally{p.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),u=r.getState();if(u===i)return c;for(var s in u){var p=s;if(u[p]!==i[p])if("channels"===p||"oldChannels"===p){for(var f in u[p])if(u[p][f]!==i[p][f]){var d="channels.".concat(u[p][f]._id);e.storageKeys.add(d),t[d]=u[p][f]}}else if("transfers"===p){for(var b in u.transfers)u.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=u.transfers[b]);for(var y in i.transfers)y in u.transfers||(t[y]=l(l({},i.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(p);e.storageKeys.add(h),t[h]={value:u[p]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return H})),n.d(t,"g",(function(){return le})),n.d(t,"f",(function(){return ye})),n.d(t,"h",(function(){return Ee}));var r=n("fbcd"),a=n("bf95");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=[{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],s=function(){function e(){o(this,e)}return c(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(u)}},{key:"connect",value:function(e,t){return new a["a"](e,u,t)}}]),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}s.abi=u;var d=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],b=function(){function e(){l(this,e)}return f(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(d)}},{key:"connect",value:function(e,t){return new a["a"](e,d,t)}}]),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}b.abi=d;var v=[{inputs:[{internalType:"contract Token",name:"_token",type:"address"},{internalType:"uint256",name:"_release_at",type:"uint256"},{internalType:"address",name:"_withdrawer",type:"address"},{internalType:"contract ServiceRegistryConfigurableParameters",name:"_service_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"release_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"_to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],O=function(){function e(){y(this,e)}return m(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(v)}},{key:"connect",value:function(e,t){return new a["a"](e,v,t)}}]),e}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}O.abi=v;var _=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],k=function(){function e(){j(this,e)}return w(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(_)}},{key:"connect",value:function(e,t){return new a["a"](e,_,t)}}]),e}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}k.abi=_;var A=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract TokenNetwork",name:"token_network",type:"address"},{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitorChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}],P=function(){function e(){E(this,e)}return S(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(A)}},{key:"connect",value:function(e,t){return new a["a"](e,A,t)}}]),e}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}P.abi=A;var D=[{inputs:[{internalType:"address",name:"_deposit_contract",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"address",name:"_service_registry_contract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"expiration_block",type:"uint256"},{indexed:!1,internalType:"uint256",name:"transferred",type:"uint256"}],name:"Claimed",type:"event"},{inputs:[{internalType:"address[]",name:"senders",type:"address[]"},{internalType:"address[]",name:"receivers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"expiration_blocks",type:"uint256[]"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"bulkClaim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"claim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit_contract",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"service_registry_contract",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"settled_sessions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],R=function(){function e(){x(this,e)}return I(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(D)}},{key:"connect",value:function(e,t){return new a["a"](e,D,t)}}]),e}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}R.abi=D;var U=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],B=function(){function e(){C(this,e)}return L(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(U)}},{key:"connect",value:function(e,t){return new a["a"](e,U,t)}}]),e}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}B.abi=U;var $=[{inputs:[{internalType:"contract Token",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],H=function(){function e(){F(this,e)}return V(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface($)}},{key:"connect",value:function(e,t){return new a["a"](e,$,t)}}]),e}();function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}H.abi=$;var Y=[{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],X=function(){function e(){q(this,e)}return G(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Y)}},{key:"connect",value:function(e,t){return new a["a"](e,Y,t)}}]),e}();function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}X.abi=Y;var z=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ee=function(){function e(){Q(this,e)}return J(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(z)}},{key:"connect",value:function(e,t){return new a["a"](e,z,t)}}]),e}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}ee.abi=z;var ae=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],oe=function(){function e(){te(this,e)}return re(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ae)}},{key:"connect",value:function(e,t){return new a["a"](e,ae,t)}}]),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}oe.abi=ae;var se=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"address",name:"participant1",type:"address"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"data1",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"data2",type:"tuple"}],name:"cooperativeSettle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"participant1_deposit",type:"uint256"},{internalType:"uint256",name:"participant1_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant1_transferred",type:"uint256"},{internalType:"uint256",name:"participant1_locked",type:"uint256"},{internalType:"uint256",name:"participant2_transferred",type:"uint256"},{internalType:"uint256",name:"participant2_locked",type:"uint256"}],name:"getMaxPossibleReceivableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"uint256",name:"participant1_total_deposit",type:"uint256"}],name:"openChannelWithDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"removeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],internalType:"struct TokenNetwork.WithdrawInput",name:"withdraw_data",type:"tuple"}],name:"setTotalWithdraw2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}],le=function(){function e(){ie(this,e)}return ue(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(se)}},{key:"connect",value:function(e,t){return new a["a"](e,se,t)}}]),e}();function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}le.abi=se;var be=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[{internalType:"address",name:"new_controller",type:"address"}],name:"changeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"}],name:"createERC20TokenNetworkWithoutLimits",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"removeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],ye=function(){function e(){pe(this,e)}return de(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(be)}},{key:"connect",value:function(e,t){return new a["a"](e,be,t)}}]),e}();function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}ye.abi=be;var Oe=[{inputs:[{internalType:"address",name:"udc_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],je=function(){function e(){he(this,e)}return ve(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Oe)}},{key:"connect",value:function(e,t){return new a["a"](e,Oe,t)}}]),e}();function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}je.abi=Oe;var ke=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"}],name:"withdrawToBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}],Ee=function(){function e(){ge(this,e)}return _e(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ke)}},{key:"connect",value:function(e,t){return new a["a"](e,ke,t)}}]),e}();function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Ee.abi=ke;var Pe=[{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],xe=function(){function e(){Te(this,e)}return Ae(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Pe)}},{key:"connect",value:function(e,t){return new a["a"](e,Pe,t)}}]),e}();xe.abi=Pe},e3b7:function(e,t,n){"use strict";n("8d26")},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"user-info":{"header":"Important Information for Users","body":"The Raiden Light Client  is an application that allows you to interact with the Raiden network. If you haven\'t used Raiden before we recommend that you:","bullet-points":{"portal":{"text":"Checkout the","link":"developer portal"},"docs":{"text":"Look at the","link":"documentation"},"videos":{"text":"Learn more by watching","link":"explanatory videos"},"medium":{"text":"Read blog posts on","link":"Medium"}}},"terms":{"header":"Terms of Use","body":"By accessing the Raiden Light Client through our website you agree to the {0} and {1}.","link-name-terms":"Terms of Use","link-name-policy":"Privacy Policy"},"disclaimer":{"header":"Disclaimer","body":"The Raiden Light Client is a beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the Raiden Light Client is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold us or any of our officers, employees or affiliates from and for any direct or indirect damage resulting from the Raiden Light Client or the use thereof. Such to the extent as permissible by applicable laws and regulations."},"privacy":{"header":"Privacy Warning","body":["Please be aware, that by using the Raiden Light Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena.","Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."]},"accept-checkbox":"I have read, understood and hereby agree to the above Terms of Use, Privacy Policy including the Disclaimer and Privacy Warning","persist-checkbox":"Don’t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. As this release still has its limitations and is a beta release, it is crucial to read the documentation with the security notes before using the software.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main account."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","disconnect-button":"Disconnect","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Ready・Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"updateAvailable":"A new version is available.","updateMandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update","updateInProgress":"Please wait for the update to finish."},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on {ethsum}.","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","invalid-restricted-address":"Address not allowed, please enter a different address or ENS name.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","less-than-minimum":"Enter an amount larger than {funds}","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"open":"Open","deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"title":"Channel Deposit","restricted-partner-error":"You can only use addresses you have an open channel with.","partner":"Channel Partner","buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"mediated-transfer-action":{"confirm-button-label":"Confirm Payment","steps":{"transfer":{"title":"Transfering tokens via route","description":"Transfer in progress"}}},"direct-transfer-action":{"confirm-button-label":"Confirm Payment","no-route-error":"Please verify that the recipient is online and receives payments before trying again.","steps":{"transfer":{"title":"Transfering tokens directly","description":"Transfer in progress"}}},"channel-deposit-and-transfer-action":{"confirm-button-label":"Deposit and Pay","steps":{"deposit":{"title":"Depositing tokens to channel","description":"Please do not close the browser and confirm the transaction with your wallet."},"transfer":{"title":"Transfering tokens","description":"Please wait until tokens have ben successfully sent."}}},"channel-open-and-transfer-action":{"confirm-button-label":"Open Channel and Pay","steps":{"open":{"title":"Opening new channel with target","description":"Please do not close the browser and confirm the transaction with your wallet."},"deposit":{"title":"Depositing tokens into channel","description":"Please confirm the transaction with your wallet."},"transfer":{"title":"Transfering tokens","description":"Please wait until tokens have ben successfully sent."}}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"channel-action-form":{"partner":"Partner","amount":"Amount","restricted-partner-address-error":"Please enter the address of an existing channel partner.","exclude-partner-address-error":"You can\'t select an already existing channel partner."},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","capacity":"Capacity: {value}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"error-codes":{"deployment-info-parsing-failed":"Failed to read the contract or service deployment information file!","unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failed":"SDK initialization failed. Please check the console for more information.","state-migration-failed":"Cannot replace state with older uploaded state."},"tokens":{"connected-tokens":"Connected Tokens","connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint.","terms":"Terms."},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"select-token-title":"Select Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No open channels for the selected token","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"title":"Open Channel","open-button":"Open Channel","partner":"Channel Partner","deposit":"Initial Deposit","excluded-partner-error":"You already have an open channel with the address for this token.","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Deposit tokens into the channel","description":"Wait until tokens are confirmed to be deposited in the channel"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the ← button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the ← button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]},"PFS_TARGET_NO_RECEIVE":{"title":"Target does not receive payments","problem":"The target is online but does not seem to receive payments.","solution":"Please contact the payment target to make sure he can receive payments and try again."}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"},"connection-manager":{"dialogs":{"base":{"link-button":"Connect"},"direct-rpc-provider":{"header":"Private Key","description":"Connect directly to an Ethereum node and use your accounts private key. This approach is NOT RECOMMENDED for security concerns.","error-message":"Failed to link to configured provider. Please make sure the given paramaters and the service is available.","options":{"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"},"private-key":{"name":"Private Key","details":"Hex encoded private key of your Ethereum account.","placeholder":"f0a78..."}}},"injected-provider":{"header":"Browser Extension","description":"Connect with a provider in your web browser.","error-message":"Failed to link to provider. Please make sure to grant the requested permissions."},"wallet-connect-provider":{"header":"WalletConnect","description":"Connect with any mobile wallet app that supports WalletConnect.","error-message":"Failed to link via WalletConnect. Please make sure the given parmaters are correct and confirm the connection in the wallet.","options":{"bridge-url":{"name":"Bridge Server","details":"Provide the URL for an alternative bridge server","placeholder":"https://"},"infura-id":{"name":"Infura","details":"Provide the ID for an Infura project","placeholder":"Project ID"},"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"}}},"connection-pending":{"title":"Connecting","text":"Please check if any actions are required in your wallet.","button":"Cancel"}}},"quick-pay":{"transfer-information":{"header":"Payment Information","target-address":"Receiver","token-amount":"Payment amount","pathfinding-service-price":"Mediation possible, price for requesting route","fetch-route-trigger":"Pay to find route","fetch-route-error-too-expensive":"UDC balance too low","fetch-route-error-no-route":"No route available"},"action-titles":{"channel-deposit":"Channel Deposit","channel-open":"Open Channel","channel-deposit-and-transfer":"Channel Deposit and Pay","channel-open-and-transfer":"Channel Open and Pay"},"action-messages":{"direct-transfer":"Please confirm the above payment information.","mediated-transfer":"Please confirm the above payment information including the mediation fees for the to use route.","channel-deposit-and-transfer":"{deposit} will be deposited into the existing channel and {payment} will be paid out.","channel-open-and-transfer":"{deposit} will be deposited into a new channel and {payment} will be paid out."},"invalid-parameter-error":"Some payment parameters are invalid. Please verify the link is correct."}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["o"](r["u"]({userId:r["r"],accessToken:r["r"],deviceId:r["r"],displayName:r["r"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"i",(function(){return U})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return $})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return Y}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("5a9d"),c=n.n(i),u=n("a32b");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},j(e)}function g(e,t,n){return g=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&k(o,n.prototype),o},g.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return P(e)||A(e)||I(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e){if(Array.isArray(e))return D(e)}function x(e,t){return C(e)||R(e,t)||I(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function C(e){if(Array.isArray(e))return e}var M=u;function L(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=x(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}function U(e){var t,n=-1,r=null!==(t=e.maxRetries)&&void 0!==t?t:10;return function(t){var a;n++;var o=!0;return r>=0&&o&&(o=n<r),e.onErrors&&o&&(o=L(e.onErrors,t)),e.neverOnErrors&&o&&(o=!L(e.neverOnErrors,t)),e.predicate&&o&&(o=!!e.predicate(t,n)),e.stopPredicate&&o&&(o=!e.stopPredicate(t,n)),null===(a=e.log)||void 0===a||a.call(e,o?"retrying":"giving up",{count:n,maxRetries:r},t),o}}var B=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],F=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],W=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],V=["execution failed due to an exception","transaction failed","execution reverted"],$=[].concat(F,W,B),H=[].concat(T($),V),q=function(e){h(n,e);var t=m(n);function n(e,r){var a;return d(this,n),a=t.call(this,e),a.details=r,a.name="RaidenError",Object.setPrototypeOf(O(a),n.prototype),a}return y(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(M,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(j(Error));function K(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?g(q,T(t)):new q(null!==t&&void 0!==t?t:M.RDN_ASSERT_ERROR,{condition:e})}var G=o["i"]([o["u"]({name:o["r"]}),o["n"]({message:o["r"],stack:o["r"],details:o["x"]})]),Y=new o["b"]("Error",(function(e){return"object"===f(e)&&!!e&&"message"in e}),(function(e){return Object(a["pipe"])(G.decode(e),Object(r["map"])((function(e){return"details"in e?Object.assign(new q(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x244076b99Fb84363D4E7d7b4779bFFb7eB4e982D","transaction_hash":"0xd052bc3902029704d74b7fba38952a446de15ad297595312064873b605b0a802","block_number":13721645,"gas_cost":4546989,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",100,500,2]}},"token_networks":[{"token_network_address":"0x2F2630825e4244EffF4369d262E4F46A3467D04a","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_controller":"0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd","_channel_participant_deposit_limit":5e+21,"_token_network_deposit_limit":5e+24}},{"token_network_address":"0x94B5127E40295dc37B85A30644FC01d1063b34e4","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_controller":"0xF8b8E4d2e40714869558EaB5CF08865864Cf0Afd","_channel_participant_deposit_limit":1190476190476190000,"_token_network_deposit_limit":1.19047619047619e+21}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return s})),n.d(t,"servicesValid",(function(){return l})),n.d(t,"iouPersist",(function(){return p})),n.d(t,"iouClear",(function(){return f})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdrawPlan",(function(){return y})),n.d(t,"udcWithdraw",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["u"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["l"])(32)}),u=r["u"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),s=Object(a["c"])(c,"path/find",r["n"]({paths:i["d"],pfs:r["w"]([i["f"],r["l"]])}),r["u"]({paths:i["h"]})),l=Object(a["b"])("services/valid",i["q"]),p=Object(a["b"])("iou/persist",r["u"]({iou:Object(o["j"])(i["c"])}),u),f=Object(a["b"])("iou/clear",void 0,u),d=Object(a["c"])(r["u"]({totalDeposit:Object(o["l"])(32)}),"udc/deposit",r["u"]({deposit:Object(o["l"])(32)}),r["w"]([r["u"]({balance:Object(o["l"])(32)}),r["u"]({balance:Object(o["l"])(32),txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),b=r["u"]({amount:Object(o["l"])(32)}),y=Object(a["c"])(b,"udc/withdraw/plan",r["v"],r["i"]([r["u"]({block:r["m"]}),r["n"]({txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})])),h=Object(a["c"])(b,"udc/withdraw",r["w"]([r["v"],r["n"]({subkey:r["d"]})]),r["u"]({withdrawal:Object(o["l"])(32),beneficiary:o["a"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),m=Object(a["b"])("ms/balanceProof/sent",r["u"]({tokenNetwork:o["a"],partner:o["a"],id:r["m"],reward:Object(o["l"])(32),nonce:Object(o["l"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}))},ef8c:function(e,t,n){"use strict";n("0731")},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"f",(function(){return r["a"]}));var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]})),n.d(t,"c",(function(){return o["d"]}));var i=n("d011");n.d(t,"e",(function(){return i["j"]}));n("65e1"),n("1a78");var c=n("05eb");n.d(t,"d",(function(){return c["b"]}));n("ee6c");var u=n("1b23");n.d(t,"g",(function(){return u["d"]}));n("ca14")},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return C}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("0128"),c=n.n(i),u=n("d2a5"),s=n.n(u),l=n("6298"),p=n.n(l),f=n("f799"),d=n("5bbb"),b=n("2b5b"),y=n("8173"),h=n("eed9"),m=n("83ee"),v=n("d890"),O=n("0602"),j=n("d276"),g=n("ee6c"),w=n("ca14");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(j["b"])("raiden/shutdown",o["u"]({reason:o["w"]([o["k"](b["k"].STOP),o["k"](b["k"].ACCOUNT_CHANGED),o["k"](b["k"].NETWORK_CHANGED),g["a"]])})),S=Object(j["b"])("raiden/config/update",d["a"]),A=Object(j["b"])("raiden/config/caps",o["u"]({caps:o["w"]([O["a"],o["l"]])})),P=Object(j["b"])("raiden/started"),x=Object(j["b"])("raiden/synced",o["u"]({tookMs:o["m"],initialBlock:o["m"],currentBlock:o["m"]})),N=k(k(k(k(k({raidenShutdown:T,raidenConfigUpdate:S,raidenConfigCaps:A,raidenStarted:P,raidenSynced:x},f),v),y),m),h),I=[N.raidenShutdown,N.newBlock,N.matrixPresence.success,N.tokenMonitored,N.udcWithdrawPlan.success,N.udcWithdrawPlan.failure,N.udcWithdraw.success,N.udcWithdraw.failure,N.msBalanceProofSent,N.channelSettle.success,N.channelSettle.failure,N.channelOpen.success,N.channelOpen.failure],D=p()(N,(function(e,t){return k(k({},e),"type"in t?E({},t.type,t):c()(t,s()("type")))}),{}),R=o["o"](o["u"]({type:o["r"],payload:o["u"]({txHash:w["c"],txBlock:o["m"],confirmed:o["w"]([o["v"],o["d"]])})})),C=new o["b"]("ConfirmableAction",R.is,(function(e,t){return Object(a["pipe"])(R.validate(e,t),Object(r["chain"])((function(e){var n=e.type;return n in D?D[n].codec.validate(e,t):o["g"](e,t)})))}),(function(e){return D[e.type].codec.encode(e)}))},f726:function(e,t,n){"use strict";n("92b0")},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return s})),n.d(t,"blockTime",(function(){return l})),n.d(t,"blockStale",(function(){return p})),n.d(t,"tokenMonitored",(function(){return f})),n.d(t,"channelOpen",(function(){return d})),n.d(t,"channelMonitored",(function(){return b})),n.d(t,"channelDeposit",(function(){return y})),n.d(t,"channelWithdrawn",(function(){return h})),n.d(t,"channelClose",(function(){return m})),n.d(t,"channelSettleable",(function(){return v})),n.d(t,"channelSettle",(function(){return j}));var r=n("2111"),a=n("0ba5"),o=n("d276"),i=n("ca14"),c=n("9201"),u=r["u"]({tokenNetwork:i["a"],partner:i["a"]}),s=Object(o["b"])("block/new",r["u"]({blockNumber:r["m"]})),l=Object(o["b"])("block/time",r["u"]({blockTime:r["m"]})),p=Object(o["b"])("block/stale",r["u"]({stale:r["d"]})),f=Object(o["b"])("token/monitored",r["i"]([r["u"]({token:i["a"],tokenNetwork:i["a"]}),r["n"]({fromBlock:r["m"],toBlock:r["m"]})])),d=Object(o["c"])(u,"channel/open",r["n"]({settleTimeout:r["m"],deposit:Object(i["l"])(32)}),r["u"]({id:r["m"],token:i["a"],settleTimeout:r["m"],isFirstParticipant:r["d"],txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),b=Object(o["b"])("channel/monitored",r["u"]({id:r["m"]}),u),y=Object(o["c"])(u,"channel/deposit",r["i"]([r["w"]([r["u"]({deposit:Object(i["l"])(32)}),r["u"]({totalDeposit:Object(i["l"])(32)})]),r["n"]({waitOpen:r["k"](!0)})]),r["u"]({id:r["m"],participant:i["a"],totalDeposit:Object(i["l"])(32),txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),h=Object(o["b"])("channel/withdraw/success",r["u"]({id:r["m"],participant:i["a"],totalWithdraw:Object(i["l"])(32),txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),u),m=Object(o["c"])(u,"channel/close",r["v"],r["u"]({id:r["m"],participant:i["a"],txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])})),v=Object(o["b"])("channel/settleable",r["u"]({settleableBlock:r["m"]}),u),O=r["t"]([Object(i["j"])(a["e"]),Object(i["j"])(a["c"])]),j=Object(o["c"])(u,"channel/settle",r["w"]([r["u"]({coopSettle:r["t"]([O,O])}),r["v"]]),r["i"]([r["u"]({id:r["m"],txHash:i["c"],txBlock:r["m"],confirmed:r["w"]([r["v"],r["d"]])}),r["n"]({locks:r["p"](c["d"])})]))},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"}});